/*
	Copyright (c) 2004-2010, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

dojo.provide("bssLayer.bssLayer");if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.date.stamp.fromISOString=function(_1,_2){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _3=dojo.date.stamp._isoRegExp.exec(_1),_4=null;if(_3){_3.shift();if(_3[1]){_3[1]--;}if(_3[6]){_3[6]*=1000;}if(_2){_2=new Date(_2);dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(_5){return _2["get"+_5]();}).forEach(function(_6,_7){if(_3[_7]===undefined){_3[_7]=_6;}});}_4=new Date(_3[0]||1970,_3[1]||0,_3[2]||1,_3[3]||0,_3[4]||0,_3[5]||0,_3[6]||0);if(_3[0]<100){_4.setFullYear(_3[0]||1970);}var _8=0,_9=_3[7]&&_3[7].charAt(0);if(_9!="Z"){_8=((_3[8]||0)*60)+(Number(_3[9])||0);if(_9!="-"){_8*=-1;}}if(_9){_8-=_4.getTimezoneOffset();}if(_8){_4.setTime(_4.getTime()+_8*60000);}}return _4;};dojo.date.stamp.toISOString=function(_a,_b){var _c=function(n){return (n<10)?"0"+n:n;};_b=_b||{};var _d=[],_e=_b.zulu?"getUTC":"get",_f="";if(_b.selector!="time"){var _10=_a[_e+"FullYear"]();_f=["0000".substr((_10+"").length)+_10,_c(_a[_e+"Month"]()+1),_c(_a[_e+"Date"]())].join("-");}_d.push(_f);if(_b.selector!="date"){var _11=[_c(_a[_e+"Hours"]()),_c(_a[_e+"Minutes"]()),_c(_a[_e+"Seconds"]())].join(":");var _12=_a[_e+"Milliseconds"]();if(_b.milliseconds){_11+="."+(_12<100?"0":"")+_c(_12);}if(_b.zulu){_11+="Z";}else{if(_b.selector!="time"){var _13=_a.getTimezoneOffset();var _14=Math.abs(_13);_11+=(_13>0?"-":"+")+_c(Math.floor(_14/60))+":"+_c(_14%60);}}_d.push(_11);}return _d.join("T");};}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");dojo.parser=new function(){var d=dojo;this._attrName=d._scopeName+"Type";this._query="["+this._attrName+"]";function _15(_16){if(d.isString(_16)){return "string";}if(typeof _16=="number"){return "number";}if(typeof _16=="boolean"){return "boolean";}if(d.isFunction(_16)){return "function";}if(d.isArray(_16)){return "array";}if(_16 instanceof Date){return "date";}if(_16 instanceof d._Url){return "url";}return "object";};function _17(_18,_19){switch(_19){case "string":return _18;case "number":return _18.length?Number(_18):NaN;case "boolean":return typeof _18=="boolean"?_18:!(_18.toLowerCase()=="false");case "function":if(d.isFunction(_18)){_18=_18.toString();_18=d.trim(_18.substring(_18.indexOf("{")+1,_18.length-1));}try{if(_18.search(/[^\w\.]+/i)!=-1){return new Function(_18);}else{return d.getObject(_18,false);}}catch(e){return new Function();}case "array":return _18?_18.split(/\s*,\s*/):[];case "date":switch(_18){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_18);}case "url":return d.baseUrl+_18;default:return d.fromJson(_18);}};var _1a={};dojo.connect(dojo,"extend",function(){_1a={};});function _1b(_1c){if(!_1a[_1c]){var cls=d.getObject(_1c);if(!d.isFunction(cls)){throw new Error("Could not load class '"+_1c+"'. Did you spell the name correctly and use a full path, like 'dijit.form.Button'?");}var _1d=cls.prototype;var _1e={},_1f={};for(var _20 in _1d){if(_20.charAt(0)=="_"){continue;}if(_20 in _1f){continue;}var _21=_1d[_20];_1e[_20]=_15(_21);}_1a[_1c]={cls:cls,params:_1e};}return _1a[_1c];};this._functionFromScript=function(_22){var _23="";var _24="";var _25=_22.getAttribute("args");if(_25){d.forEach(_25.split(/\s*,\s*/),function(_26,idx){_23+="var "+_26+" = arguments["+idx+"]; ";});}var _27=_22.getAttribute("with");if(_27&&_27.length){d.forEach(_27.split(/\s*,\s*/),function(_28){_23+="with("+_28+"){";_24+="}";});}return new Function(_23+_22.innerHTML+_24);};this.instantiate=function(_29,_2a,_2b){var _2c=[],dp=dojo.parser;_2a=_2a||{};_2b=_2b||{};d.forEach(_29,function(_2d){if(!_2d){return;}var _2e=dp._attrName in _2a?_2a[dp._attrName]:_2d.getAttribute(dp._attrName);if(!_2e||!_2e.length){return;}var _2f=_1b(_2e),_30=_2f.cls,ps=_30._noScript||_30.prototype._noScript;var _31={},_32=_2d.attributes;for(var _33 in _2f.params){var _34=_33 in _2a?{value:_2a[_33],specified:true}:_32.getNamedItem(_33);if(!_34||(!_34.specified&&(!dojo.isIE||_33.toLowerCase()!="value"))){continue;}var _35=_34.value;switch(_33){case "class":_35="className" in _2a?_2a.className:_2d.className;break;case "style":_35="style" in _2a?_2a.style:(_2d.style&&_2d.style.cssText);}var _36=_2f.params[_33];if(typeof _35=="string"){_31[_33]=_17(_35,_36);}else{_31[_33]=_35;}}if(!ps){var _37=[],_38=[];d.query("> script[type^='dojo/']",_2d).orphan().forEach(function(_39){var _3a=_39.getAttribute("event"),_2e=_39.getAttribute("type"),nf=d.parser._functionFromScript(_39);if(_3a){if(_2e=="dojo/connect"){_37.push({event:_3a,func:nf});}else{_31[_3a]=nf;}}else{_38.push(nf);}});}var _3b=_30.markupFactory||_30.prototype&&_30.prototype.markupFactory;var _3c=_3b?_3b(_31,_2d,_30):new _30(_31,_2d);_2c.push(_3c);var _3d=_2d.getAttribute("jsId");if(_3d){d.setObject(_3d,_3c);}if(!ps){d.forEach(_37,function(_3e){d.connect(_3c,_3e.event,null,_3e.func);});d.forEach(_38,function(_3f){_3f.call(_3c);});}});if(!_2a._started){d.forEach(_2c,function(_40){if(!_2b.noStart&&_40&&_40.startup&&!_40._started&&(!_40.getParent||!_40.getParent())){_40.startup();}});}return _2c;};this.parse=function(_41,_42){var _43;if(!_42&&_41&&_41.rootNode){_42=_41;_43=_42.rootNode;}else{_43=_41;}var _44=d.query(this._query,_43);return this.instantiate(_44,null,_42);};}();(function(){var _45=function(){if(dojo.config.parseOnLoad){dojo.parser.parse();}};if(dojo.exists("dijit.wai.onload")&&(dijit.wai.onload===dojo._loaders[0])){dojo._loaders.splice(1,0,_45);}else{dojo._loaders.unshift(_45);}})();}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.string.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};dojo.string.pad=function(_46,_47,ch,end){if(!ch){ch="0";}var out=String(_46),pad=dojo.string.rep(ch,Math.ceil((_47-out.length)/ch.length));return end?out+pad:pad+out;};dojo.string.substitute=function(_48,map,_49,_4a){_4a=_4a||dojo.global;_49=_49?dojo.hitch(_4a,_49):function(v){return v;};return _48.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_4b,key,_4c){var _4d=dojo.getObject(key,false,map);if(_4c){_4d=dojo.getObject(_4c,false,_4a).call(_4a,_4d,key);}return _49(_4d,key).toString();});};dojo.string.trim=String.prototype.trim?dojo.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};}if(!dojo._hasResource["dojo.data.util.filter"]){dojo._hasResource["dojo.data.util.filter"]=true;dojo.provide("dojo.data.util.filter");dojo.data.util.filter.patternToRegExp=function(_4e,_4f){var rxp="^";var c=null;for(var i=0;i<_4e.length;i++){c=_4e.charAt(i);switch(c){case "\\":rxp+=c;i++;rxp+=_4e.charAt(i);break;case "*":rxp+=".*";break;case "?":rxp+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":rxp+="\\";default:rxp+=c;}}rxp+="$";if(_4f){return new RegExp(rxp,"mi");}else{return new RegExp(rxp,"m");}};}if(!dojo._hasResource["dojo.data.util.sorter"]){dojo._hasResource["dojo.data.util.sorter"]=true;dojo.provide("dojo.data.util.sorter");dojo.data.util.sorter.basicComparator=function(a,b){var r=-1;if(a===null){a=undefined;}if(b===null){b=undefined;}if(a==b){r=0;}else{if(a>b||a==null){r=1;}}return r;};dojo.data.util.sorter.createSortFunction=function(_50,_51){var _52=[];function _53(_54,dir,_55,s){return function(_56,_57){var a=s.getValue(_56,_54);var b=s.getValue(_57,_54);return dir*_55(a,b);};};var _58;var map=_51.comparatorMap;var bc=dojo.data.util.sorter.basicComparator;for(var i=0;i<_50.length;i++){_58=_50[i];var _59=_58.attribute;if(_59){var dir=(_58.descending)?-1:1;var _5a=bc;if(map){if(typeof _59!=="string"&&("toString" in _59)){_59=_59.toString();}_5a=map[_59]||bc;}_52.push(_53(_59,dir,_5a,_51));}}return function(_5b,_5c){var i=0;while(i<_52.length){var ret=_52[i++](_5b,_5c);if(ret!==0){return ret;}}return 0;};};}if(!dojo._hasResource["dojo.data.util.simpleFetch"]){dojo._hasResource["dojo.data.util.simpleFetch"]=true;dojo.provide("dojo.data.util.simpleFetch");dojo.data.util.simpleFetch.fetch=function(_5d){_5d=_5d||{};if(!_5d.store){_5d.store=this;}var _5e=this;var _5f=function(_60,_61){if(_61.onError){var _62=_61.scope||dojo.global;_61.onError.call(_62,_60,_61);}};var _63=function(_64,_65){var _66=_65.abort||null;var _67=false;var _68=_65.start?_65.start:0;var _69=(_65.count&&(_65.count!==Infinity))?(_68+_65.count):_64.length;_65.abort=function(){_67=true;if(_66){_66.call(_65);}};var _6a=_65.scope||dojo.global;if(!_65.store){_65.store=_5e;}if(_65.onBegin){_65.onBegin.call(_6a,_64.length,_65);}if(_65.sort){_64.sort(dojo.data.util.sorter.createSortFunction(_65.sort,_5e));}if(_65.onItem){for(var i=_68;(i<_64.length)&&(i<_69);++i){var _6b=_64[i];if(!_67){_65.onItem.call(_6a,_6b,_65);}}}if(_65.onComplete&&!_67){var _6c=null;if(!_65.onItem){_6c=_64.slice(_68,_69);}_65.onComplete.call(_6a,_6c,_65);}};this._fetchItems(_5d,_63,_5f);return _5d;};}if(!dojo._hasResource["dojo.data.ItemFileReadStore"]){dojo._hasResource["dojo.data.ItemFileReadStore"]=true;dojo.provide("dojo.data.ItemFileReadStore");dojo.declare("dojo.data.ItemFileReadStore",null,{constructor:function(_6d){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._jsonFileUrl=_6d.url;this._ccUrl=_6d.url;this.url=_6d.url;this._jsonData=_6d.data;this.data=null;this._datatypeMap=_6d.typeMap||{};if(!this._datatypeMap["Date"]){this._datatypeMap["Date"]={type:Date,deserialize:function(_6e){return dojo.date.stamp.fromISOString(_6e);}};}this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=false;this._queuedFetches=[];if(_6d.urlPreventCache!==undefined){this.urlPreventCache=_6d.urlPreventCache?true:false;}if(_6d.hierarchical!==undefined){this.hierarchical=_6d.hierarchical?true:false;}if(_6d.clearOnClose){this.clearOnClose=true;}if("failOk" in _6d){this.failOk=_6d.failOk?true:false;}},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:false,urlPreventCache:false,failOk:false,hierarchical:true,_assertIsItem:function(_6f){if(!this.isItem(_6f)){throw new Error("dojo.data.ItemFileReadStore: Invalid item argument.");}},_assertIsAttribute:function(_70){if(typeof _70!=="string"){throw new Error("dojo.data.ItemFileReadStore: Invalid attribute argument.");}},getValue:function(_71,_72,_73){var _74=this.getValues(_71,_72);return (_74.length>0)?_74[0]:_73;},getValues:function(_75,_76){this._assertIsItem(_75);this._assertIsAttribute(_76);return _75[_76]||[];},getAttributes:function(_77){this._assertIsItem(_77);var _78=[];for(var key in _77){if((key!==this._storeRefPropName)&&(key!==this._itemNumPropName)&&(key!==this._rootItemPropName)&&(key!==this._reverseRefMap)){_78.push(key);}}return _78;},hasAttribute:function(_79,_7a){this._assertIsItem(_79);this._assertIsAttribute(_7a);return (_7a in _79);},containsValue:function(_7b,_7c,_7d){var _7e=undefined;if(typeof _7d==="string"){_7e=dojo.data.util.filter.patternToRegExp(_7d,false);}return this._containsValue(_7b,_7c,_7d,_7e);},_containsValue:function(_7f,_80,_81,_82){return dojo.some(this.getValues(_7f,_80),function(_83){if(_83!==null&&!dojo.isObject(_83)&&_82){if(_83.toString().match(_82)){return true;}}else{if(_81===_83){return true;}}});},isItem:function(_84){if(_84&&_84[this._storeRefPropName]===this){if(this._arrayOfAllItems[_84[this._itemNumPropName]]===_84){return true;}}return false;},isItemLoaded:function(_85){return this.isItem(_85);},loadItem:function(_86){this._assertIsItem(_86.item);},getFeatures:function(){return this._features;},getLabel:function(_87){if(this._labelAttr&&this.isItem(_87)){return this.getValue(_87,this._labelAttr);}return undefined;},getLabelAttributes:function(_88){if(this._labelAttr){return [this._labelAttr];}return null;},_fetchItems:function(_89,_8a,_8b){var _8c=this;var _8d=function(_8e,_8f){var _90=[];var i,key;if(_8e.query){var _91;var _92=_8e.queryOptions?_8e.queryOptions.ignoreCase:false;var _93={};for(key in _8e.query){_91=_8e.query[key];if(typeof _91==="string"){_93[key]=dojo.data.util.filter.patternToRegExp(_91,_92);}else{if(_91 instanceof RegExp){_93[key]=_91;}}}for(i=0;i<_8f.length;++i){var _94=true;var _95=_8f[i];if(_95===null){_94=false;}else{for(key in _8e.query){_91=_8e.query[key];if(!_8c._containsValue(_95,key,_91,_93[key])){_94=false;}}}if(_94){_90.push(_95);}}_8a(_90,_8e);}else{for(i=0;i<_8f.length;++i){var _96=_8f[i];if(_96!==null){_90.push(_96);}}_8a(_90,_8e);}};if(this._loadFinished){_8d(_89,this._getItemsArray(_89.queryOptions));}else{if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_89,filter:_8d});}else{this._loadInProgress=true;var _97={url:_8c._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _98=dojo.xhrGet(_97);_98.addCallback(function(_99){try{_8c._getItemsFromLoadedData(_99);_8c._loadFinished=true;_8c._loadInProgress=false;_8d(_89,_8c._getItemsArray(_89.queryOptions));_8c._handleQueuedFetches();}catch(e){_8c._loadFinished=true;_8c._loadInProgress=false;_8b(e,_89);}});_98.addErrback(function(_9a){_8c._loadInProgress=false;_8b(_9a,_89);});var _9b=null;if(_89.abort){_9b=_89.abort;}_89.abort=function(){var df=_98;if(df&&df.fired===-1){df.cancel();df=null;}if(_9b){_9b.call(_89);}};}}else{if(this._jsonData){try{this._loadFinished=true;this._getItemsFromLoadedData(this._jsonData);this._jsonData=null;_8d(_89,this._getItemsArray(_89.queryOptions));}catch(e){_8b(e,_89);}}else{_8b(new Error("dojo.data.ItemFileReadStore: No JSON source data was provided as either URL or a nested Javascript object."),_89);}}}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _9c=this._queuedFetches[i];var _9d=_9c.args;var _9e=_9c.filter;if(_9e){_9e(_9d,this._getItemsArray(_9d.queryOptions));}else{this.fetchItemByIdentity(_9d);}}this._queuedFetches=[];}},_getItemsArray:function(_9f){if(_9f&&_9f.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},close:function(_a0){if(this.clearOnClose&&this._loadFinished&&!this._loadInProgress){if(((this._jsonFileUrl==""||this._jsonFileUrl==null)&&(this.url==""||this.url==null))&&this.data==null){console.debug("dojo.data.ItemFileReadStore: WARNING!  Data reload "+" information has not been provided."+"  Please set 'url' or 'data' to the appropriate value before"+" the next fetch");}this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._itemsByIdentity=null;this._loadInProgress=false;this._queuedFetches=[];}},_getItemsFromLoadedData:function(_a1){var _a2=false;var _a3=this;function _a4(_a5){var _a6=((_a5!==null)&&(typeof _a5==="object")&&(!dojo.isArray(_a5)||_a2)&&(!dojo.isFunction(_a5))&&(_a5.constructor==Object||dojo.isArray(_a5))&&(typeof _a5._reference==="undefined")&&(typeof _a5._type==="undefined")&&(typeof _a5._value==="undefined")&&_a3.hierarchical);return _a6;};function _a7(_a8){_a3._arrayOfAllItems.push(_a8);for(var _a9 in _a8){var _aa=_a8[_a9];if(_aa){if(dojo.isArray(_aa)){var _ab=_aa;for(var k=0;k<_ab.length;++k){var _ac=_ab[k];if(_a4(_ac)){_a7(_ac);}}}else{if(_a4(_aa)){_a7(_aa);}}}}};this._labelAttr=_a1.label;var i;var _ad;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=_a1.items;for(i=0;i<this._arrayOfTopLevelItems.length;++i){_ad=this._arrayOfTopLevelItems[i];if(dojo.isArray(_ad)){_a2=true;}_a7(_ad);_ad[this._rootItemPropName]=true;}var _ae={};var key;for(i=0;i<this._arrayOfAllItems.length;++i){_ad=this._arrayOfAllItems[i];for(key in _ad){if(key!==this._rootItemPropName){var _af=_ad[key];if(_af!==null){if(!dojo.isArray(_af)){_ad[key]=[_af];}}else{_ad[key]=[null];}}_ae[key]=key;}}while(_ae[this._storeRefPropName]){this._storeRefPropName+="_";}while(_ae[this._itemNumPropName]){this._itemNumPropName+="_";}while(_ae[this._reverseRefMap]){this._reverseRefMap+="_";}var _b0;var _b1=_a1.identifier;if(_b1){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=_b1;for(i=0;i<this._arrayOfAllItems.length;++i){_ad=this._arrayOfAllItems[i];_b0=_ad[_b1];var _b2=_b0[0];if(!this._itemsByIdentity[_b2]){this._itemsByIdentity[_b2]=_ad;}else{if(this._jsonFileUrl){throw new Error("dojo.data.ItemFileReadStore:  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+_b1+"].  Value collided: ["+_b2+"]");}else{if(this._jsonData){throw new Error("dojo.data.ItemFileReadStore:  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+_b1+"].  Value collided: ["+_b2+"]");}}}}}else{this._features["dojo.data.api.Identity"]=Number;}for(i=0;i<this._arrayOfAllItems.length;++i){_ad=this._arrayOfAllItems[i];_ad[this._storeRefPropName]=this;_ad[this._itemNumPropName]=i;}for(i=0;i<this._arrayOfAllItems.length;++i){_ad=this._arrayOfAllItems[i];for(key in _ad){_b0=_ad[key];for(var j=0;j<_b0.length;++j){_af=_b0[j];if(_af!==null&&typeof _af=="object"){if(("_type" in _af)&&("_value" in _af)){var _b3=_af._type;var _b4=this._datatypeMap[_b3];if(!_b4){throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+_b3+"'");}else{if(dojo.isFunction(_b4)){_b0[j]=new _b4(_af._value);}else{if(dojo.isFunction(_b4.deserialize)){_b0[j]=_b4.deserialize(_af._value);}else{throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");}}}}if(_af._reference){var _b5=_af._reference;if(!dojo.isObject(_b5)){_b0[j]=this._itemsByIdentity[_b5];}else{for(var k=0;k<this._arrayOfAllItems.length;++k){var _b6=this._arrayOfAllItems[k];var _b7=true;for(var _b8 in _b5){if(_b6[_b8]!=_b5[_b8]){_b7=false;}}if(_b7){_b0[j]=_b6;}}}if(this.referenceIntegrity){var _b9=_b0[j];if(this.isItem(_b9)){this._addReferenceToMap(_b9,_ad,key);}}}else{if(this.isItem(_af)){if(this.referenceIntegrity){this._addReferenceToMap(_af,_ad,key);}}}}}}}},_addReferenceToMap:function(_ba,_bb,_bc){},getIdentity:function(_bd){var _be=this._features["dojo.data.api.Identity"];if(_be===Number){return _bd[this._itemNumPropName];}else{var _bf=_bd[_be];if(_bf){return _bf[0];}}return null;},fetchItemByIdentity:function(_c0){var _c1;var _c2;if(!this._loadFinished){var _c3=this;if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_c0});}else{this._loadInProgress=true;var _c4={url:_c3._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};var _c5=dojo.xhrGet(_c4);_c5.addCallback(function(_c6){var _c7=_c0.scope?_c0.scope:dojo.global;try{_c3._getItemsFromLoadedData(_c6);_c3._loadFinished=true;_c3._loadInProgress=false;_c1=_c3._getItemByIdentity(_c0.identity);if(_c0.onItem){_c0.onItem.call(_c7,_c1);}_c3._handleQueuedFetches();}catch(error){_c3._loadInProgress=false;if(_c0.onError){_c0.onError.call(_c7,error);}}});_c5.addErrback(function(_c8){_c3._loadInProgress=false;if(_c0.onError){var _c9=_c0.scope?_c0.scope:dojo.global;_c0.onError.call(_c9,_c8);}});}}else{if(this._jsonData){_c3._getItemsFromLoadedData(_c3._jsonData);_c3._jsonData=null;_c3._loadFinished=true;_c1=_c3._getItemByIdentity(_c0.identity);if(_c0.onItem){_c2=_c0.scope?_c0.scope:dojo.global;_c0.onItem.call(_c2,_c1);}}}}else{_c1=this._getItemByIdentity(_c0.identity);if(_c0.onItem){_c2=_c0.scope?_c0.scope:dojo.global;_c0.onItem.call(_c2,_c1);}}},_getItemByIdentity:function(_ca){var _cb=null;if(this._itemsByIdentity){_cb=this._itemsByIdentity[_ca];}else{_cb=this._arrayOfAllItems[_ca];}if(_cb===undefined){_cb=null;}return _cb;},getIdentityAttributes:function(_cc){var _cd=this._features["dojo.data.api.Identity"];if(_cd===Number){return null;}else{return [_cd];}},_forceLoad:function(){var _ce=this;if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojo.data.ItemFileReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){var _cf={url:this._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:true};var _d0=dojo.xhrGet(_cf);_d0.addCallback(function(_d1){try{if(_ce._loadInProgress!==true&&!_ce._loadFinished){_ce._getItemsFromLoadedData(_d1);_ce._loadFinished=true;}else{if(_ce._loadInProgress){throw new Error("dojo.data.ItemFileReadStore:  Unable to perform a synchronous load, an async load is in progress.");}}}catch(e){console.log(e);throw e;}});_d0.addErrback(function(_d2){throw _d2;});}else{if(this._jsonData){_ce._getItemsFromLoadedData(_ce._jsonData);_ce._jsonData=null;_ce._loadFinished=true;}}}});dojo.extend(dojo.data.ItemFileReadStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["dojox.data.QueryReadStore"]){dojo._hasResource["dojox.data.QueryReadStore"]=true;dojo.provide("dojox.data.QueryReadStore");dojo.declare("dojox.data.QueryReadStore",null,{url:"",requestMethod:"get",_className:"dojox.data.QueryReadStore",_items:[],_lastServerQuery:null,_numRows:-1,lastRequestHash:null,doClientPaging:false,doClientSorting:false,_itemsByIdentity:null,_identifier:null,_features:{"dojo.data.api.Read":true,"dojo.data.api.Identity":true},_labelAttr:"label",constructor:function(_d3){dojo.mixin(this,_d3);},getValue:function(_d4,_d5,_d6){this._assertIsItem(_d4);if(!dojo.isString(_d5)){throw new Error(this._className+".getValue(): Invalid attribute, string expected!");}if(!this.hasAttribute(_d4,_d5)){if(_d6){return _d6;}console.log(this._className+".getValue(): Item does not have the attribute '"+_d5+"'.");}return _d4.i[_d5];},getValues:function(_d7,_d8){this._assertIsItem(_d7);var ret=[];if(this.hasAttribute(_d7,_d8)){ret.push(_d7.i[_d8]);}return ret;},getAttributes:function(_d9){this._assertIsItem(_d9);var ret=[];for(var i in _d9.i){ret.push(i);}return ret;},hasAttribute:function(_da,_db){return this.isItem(_da)&&typeof _da.i[_db]!="undefined";},containsValue:function(_dc,_dd,_de){var _df=this.getValues(_dc,_dd);var len=_df.length;for(var i=0;i<len;i++){if(_df[i]==_de){return true;}}return false;},isItem:function(_e0){if(_e0){return typeof _e0.r!="undefined"&&_e0.r==this;}return false;},isItemLoaded:function(_e1){return this.isItem(_e1);},loadItem:function(_e2){if(this.isItemLoaded(_e2.item)){return;}},fetch:function(_e3){_e3=_e3||{};if(!_e3.store){_e3.store=this;}var _e4=this;var _e5=function(_e6,_e7){if(_e7.onError){var _e8=_e7.scope||dojo.global;_e7.onError.call(_e8,_e6,_e7);}};var _e9=function(_ea,_eb,_ec){var _ed=_eb.abort||null;var _ee=false;var _ef=_eb.start?_eb.start:0;if(_e4.doClientPaging==false){_ef=0;}var _f0=_eb.count?(_ef+_eb.count):_ea.length;_eb.abort=function(){_ee=true;if(_ed){_ed.call(_eb);}};var _f1=_eb.scope||dojo.global;if(!_eb.store){_eb.store=_e4;}if(_eb.onBegin){_eb.onBegin.call(_f1,_ec,_eb);}if(_eb.sort&&_e4.doClientSorting){_ea.sort(dojo.data.util.sorter.createSortFunction(_eb.sort,_e4));}if(_eb.onItem){for(var i=_ef;(i<_ea.length)&&(i<_f0);++i){var _f2=_ea[i];if(!_ee){_eb.onItem.call(_f1,_f2,_eb);}}}if(_eb.onComplete&&!_ee){var _f3=null;if(!_eb.onItem){_f3=_ea.slice(_ef,_f0);}_eb.onComplete.call(_f1,_f3,_eb);}};this._fetchItems(_e3,_e9,_e5);return _e3;},getFeatures:function(){return this._features;},close:function(_f4){},getLabel:function(_f5){if(this._labelAttr&&this.isItem(_f5)){return this.getValue(_f5,this._labelAttr);}return undefined;},getLabelAttributes:function(_f6){if(this._labelAttr){return [this._labelAttr];}return null;},_xhrFetchHandler:function(_f7,_f8,_f9,_fa){_f7=this._filterResponse(_f7);if(_f7.label){this._labelAttr=_f7.label;}var _fb=_f7.numRows||-1;this._items=[];dojo.forEach(_f7.items,function(e){this._items.push({i:e,r:this});},this);var _fc=_f7.identifier;this._itemsByIdentity={};if(_fc){this._identifier=_fc;var i;for(i=0;i<this._items.length;++i){var _fd=this._items[i].i;var _fe=_fd[_fc];if(!this._itemsByIdentity[_fe]){this._itemsByIdentity[_fe]=_fd;}else{throw new Error(this._className+":  The json data as specified by: ["+this.url+"] is malformed.  Items within the list have identifier: ["+_fc+"].  Value collided: ["+_fe+"]");}}}else{this._identifier=Number;for(i=0;i<this._items.length;++i){this._items[i].n=i;}}_fb=this._numRows=(_fb===-1)?this._items.length:_fb;_f9(this._items,_f8,_fb);this._numRows=_fb;},_fetchItems:function(_ff,_100,_101){var _102=_ff.serverQuery||_ff.query||{};if(!this.doClientPaging){_102.start=_ff.start||0;if(_ff.count){_102.count=_ff.count;}}if(!this.doClientSorting){if(_ff.sort){var sort=_ff.sort[0];if(sort&&sort.attribute){var _103=sort.attribute;if(sort.descending){_103="-"+_103;}_102.sort=_103;}}}if(this.doClientPaging&&this._lastServerQuery!==null&&dojo.toJson(_102)==dojo.toJson(this._lastServerQuery)){this._numRows=(this._numRows===-1)?this._items.length:this._numRows;_100(this._items,_ff,this._numRows);}else{var _104=this.requestMethod.toLowerCase()=="post"?dojo.xhrPost:dojo.xhrGet;var _105=_104({url:this.url,handleAs:"json-comment-optional",content:_102});_105.addCallback(dojo.hitch(this,function(data){this._xhrFetchHandler(data,_ff,_100,_101);}));_105.addErrback(function(_106){_101(_106,_ff);});this.lastRequestHash=new Date().getTime()+"-"+String(Math.random()).substring(2);this._lastServerQuery=dojo.mixin({},_102);}},_filterResponse:function(data){return data;},_assertIsItem:function(item){if(!this.isItem(item)){throw new Error(this._className+": Invalid item argument.");}},_assertIsAttribute:function(_107){if(typeof _107!=="string"){throw new Error(this._className+": Invalid attribute argument ('"+_107+"').");}},fetchItemByIdentity:function(_108){if(this._itemsByIdentity){var item=this._itemsByIdentity[_108.identity];if(!(item===undefined)){if(_108.onItem){var _109=_108.scope?_108.scope:dojo.global;_108.onItem.call(_109,{i:item,r:this});}return;}}var _10a=function(_10b,_10c){var _10d=_108.scope?_108.scope:dojo.global;if(_108.onError){_108.onError.call(_10d,_10b);}};var _10e=function(_10f,_110){var _111=_108.scope?_108.scope:dojo.global;try{var item=null;if(_10f&&_10f.length==1){item=_10f[0];}if(_108.onItem){_108.onItem.call(_111,item);}}catch(error){if(_108.onError){_108.onError.call(_111,error);}}};var _112={serverQuery:{id:_108.identity}};this._fetchItems(_112,_10e,_10a);},getIdentity:function(item){var _113=null;if(this._identifier===Number){_113=item.n;}else{_113=item.i[this._identifier];}return _113;},getIdentityAttributes:function(item){return [this._identifier];}});}if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0;},add:function(_114){if(this._hash[_114.id]){throw new Error("Tried to register widget with id=="+_114.id+" but that id is already registered");}this._hash[_114.id]=_114;this.length++;},remove:function(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function(func,_115){_115=_115||dojo.global;var i=0,id;for(id in this._hash){func.call(_115,this._hash[id],i++,this._hash);}return this;},filter:function(_116,_117){_117=_117||dojo.global;var res=new dijit.WidgetSet(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_116.call(_117,w,i++,this._hash)){res.add(w);}}return res;},byId:function(id){return this._hash[id];},byClass:function(cls){var res=new dijit.WidgetSet(),id,_118;for(id in this._hash){_118=this._hash[id];if(_118.declaredClass==cls){res.add(_118);}}return res;},toArray:function(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function(func,_119){return dojo.map(this.toArray(),func,_119);},every:function(func,_11a){_11a=_11a||dojo.global;var x=0,i;for(i in this._hash){if(!func.call(_11a,this._hash[i],x++,this._hash)){return false;}}return true;},some:function(func,_11b){_11b=_11b||dojo.global;var x=0,i;for(i in this._hash){if(func.call(_11b,this._hash[i],x++,this._hash)){return true;}}return false;}});dijit.registry=new dijit.WidgetSet();dijit._widgetTypeCtr={};dijit.getUniqueId=function(_11c){var id;do{id=_11c+"_"+(_11c in dijit._widgetTypeCtr?++dijit._widgetTypeCtr[_11c]:dijit._widgetTypeCtr[_11c]=0);}while(dijit.byId(id));return dijit._scopeName=="dijit"?id:dijit._scopeName+"_"+id;};dijit.findWidgets=function(root){var _11d=[];function _11e(root){for(var node=root.firstChild;node;node=node.nextSibling){if(node.nodeType==1){var _11f=node.getAttribute("widgetId");if(_11f){var _120=dijit.byId(_11f);_11d.push(_120);}else{_11e(node);}}}};_11e(root);return _11d;};dijit._destroyAll=function(){dijit._curFocus=null;dijit._prevFocus=null;dijit._activeStack=[];dojo.forEach(dijit.findWidgets(dojo.body()),function(_121){if(!_121._destroyed){if(_121.destroyRecursive){_121.destroyRecursive();}else{if(_121.destroy){_121.destroy();}}}});};if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit._destroyAll();});}dijit.byId=function(id){return typeof id=="string"?dijit.registry._hash[id]:id;};dijit.byNode=function(node){return dijit.registry.byId(node.getAttribute("widgetId"));};dijit.getEnclosingWidget=function(node){while(node){var id=node.getAttribute&&node.getAttribute("widgetId");if(id){return dijit.byId(id);}node=node.parentNode;}return null;};dijit._isElementShown=function(elem){var _122=dojo.style(elem);return (_122.visibility!="hidden")&&(_122.visibility!="collapsed")&&(_122.display!="none")&&(dojo.attr(elem,"type")!="hidden");};dijit.isTabNavigable=function(elem){if(dojo.attr(elem,"disabled")){return false;}else{if(dojo.hasAttr(elem,"tabIndex")){return dojo.attr(elem,"tabIndex")>=0;}else{switch(elem.nodeName.toLowerCase()){case "a":return dojo.hasAttr(elem,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":if(dojo.isMoz){return elem.contentDocument.designMode=="on";}else{if(dojo.isWebKit){var doc=elem.contentDocument,body=doc&&doc.body;return body&&body.contentEditable=="true";}else{try{doc=elem.contentWindow.document;body=doc&&doc.body;return body&&body.firstChild&&body.firstChild.contentEditable=="true";}catch(e){return false;}}}default:return elem.contentEditable=="true";}}}};dijit._getTabNavigable=function(root){var _123,last,_124,_125,_126,_127;var _128=function(_129){dojo.query("> *",_129).forEach(function(_12a){var _12b=dijit._isElementShown(_12a);if(_12b&&dijit.isTabNavigable(_12a)){var _12c=dojo.attr(_12a,"tabIndex");if(!dojo.hasAttr(_12a,"tabIndex")||_12c==0){if(!_123){_123=_12a;}last=_12a;}else{if(_12c>0){if(!_124||_12c<_125){_125=_12c;_124=_12a;}if(!_126||_12c>=_127){_127=_12c;_126=_12a;}}}}if(_12b&&_12a.nodeName.toUpperCase()!="SELECT"){_128(_12a);}});};if(dijit._isElementShown(root)){_128(root);}return {first:_123,last:last,lowest:_124,highest:_126};};dijit.getFirstInTabbingOrder=function(root){var _12d=dijit._getTabNavigable(dojo.byId(root));return _12d.lowest?_12d.lowest:_12d.first;};dijit.getLastInTabbingOrder=function(root){var _12e=dijit._getTabNavigable(dojo.byId(root));return _12e.last?_12e.last:_12e.highest;};dijit.defaultDuration=dojo.config["defaultDuration"]||200;}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){return dijit.getBookmark().isCollapsed;},getBookmark:function(){var bm,rg,tg,sel=dojo.doc.selection,cf=dijit._curFocus;if(dojo.global.getSelection){sel=dojo.global.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{console.warn("No idea how to store the current selection for this browser!");}}return bm;},moveToBookmark:function(_12f){var _130=dojo.doc,mark=_12f.mark;if(mark){if(dojo.global.getSelection){var sel=dojo.global.getSelection();if(sel&&sel.removeAllRanges){if(mark.pRange){var r=mark;var n=r.node;n.selectionStart=r.start;n.selectionEnd=r.end;}else{sel.removeAllRanges();sel.addRange(mark);}}else{console.warn("No idea how to restore selection for this browser!");}}else{if(_130.selection&&mark){var rg;if(mark.pRange){rg=mark.range;}else{if(dojo.isArray(mark)){rg=_130.body.createControlRange();dojo.forEach(mark,function(n){rg.addElement(n);});}else{rg=_130.body.createTextRange();rg.moveToBookmark(mark);}}rg.select();}}}},getFocus:function(menu,_131){var node=!dijit._curFocus||(menu&&dojo.isDescendant(dijit._curFocus,menu.domNode))?dijit._prevFocus:dijit._curFocus;return {node:node,bookmark:(node==dijit._curFocus)&&dojo.withGlobal(_131||dojo.global,dijit.getBookmark),openedForWindow:_131};},focus:function(_132){if(!_132){return;}var node="node" in _132?_132.node:_132,_133=_132.bookmark,_134=_132.openedForWindow,_135=_133?_133.isCollapsed:false;if(node){var _136=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;if(_136&&_136.focus){try{_136.focus();}catch(e){}}dijit._onFocusNode(node);}if(_133&&dojo.withGlobal(_134||dojo.global,dijit.isCollapsed)&&!_135){if(_134){_134.focus();}try{dojo.withGlobal(_134||dojo.global,dijit.moveToBookmark,null,[_133]);}catch(e2){}}},_activeStack:[],registerIframe:function(_137){return dijit.registerWin(_137.contentWindow,_137);},unregisterIframe:function(_138){dijit.unregisterWin(_138);},registerWin:function(_139,_13a){var _13b=function(evt){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false;},0);dijit._onTouchNode(_13a||evt.target||evt.srcElement,"mouse");};var doc=dojo.isIE?_139.document.documentElement:_139.document;if(doc){if(dojo.isIE){doc.attachEvent("onmousedown",_13b);var _13c=function(evt){if(evt.srcElement.tagName.toLowerCase()!="#document"&&dijit.isTabNavigable(evt.srcElement)){dijit._onFocusNode(_13a||evt.srcElement);}else{dijit._onTouchNode(_13a||evt.srcElement);}};doc.attachEvent("onactivate",_13c);var _13d=function(evt){dijit._onBlurNode(_13a||evt.srcElement);};doc.attachEvent("ondeactivate",_13d);return function(){doc.detachEvent("onmousedown",_13b);doc.detachEvent("onactivate",_13c);doc.detachEvent("ondeactivate",_13d);doc=null;};}else{doc.addEventListener("mousedown",_13b,true);var _13e=function(evt){dijit._onFocusNode(_13a||evt.target);};doc.addEventListener("focus",_13e,true);var _13f=function(evt){dijit._onBlurNode(_13a||evt.target);};doc.addEventListener("blur",_13f,true);return function(){doc.removeEventListener("mousedown",_13b,true);doc.removeEventListener("focus",_13e,true);doc.removeEventListener("blur",_13f,true);doc=null;};}}},unregisterWin:function(_140){_140&&_140();},_onBlurNode:function(node){dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._justMouseDowned){return;}if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);}dijit._clearActiveWidgetsTimer=setTimeout(function(){delete dijit._clearActiveWidgetsTimer;dijit._setStack([]);dijit._prevFocus=null;},100);},_onTouchNode:function(node,by){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer;}var _141=[];try{while(node){var _142=dojo.attr(node,"dijitPopupParent");if(_142){node=dijit.byId(_142).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===dojo.body()){break;}node=dijit.getDocumentWindow(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId");if(id){_141.unshift(id);}node=node.parentNode;}}}}catch(e){}dijit._setStack(_141,by);},_onFocusNode:function(node){if(!node){return;}if(node.nodeType==9){return;}dijit._onTouchNode(node);if(node==dijit._curFocus){return;}if(dijit._curFocus){dijit._prevFocus=dijit._curFocus;}dijit._curFocus=node;dojo.publish("focusNode",[node]);},_setStack:function(_143,by){var _144=dijit._activeStack;dijit._activeStack=_143;for(var _145=0;_145<Math.min(_144.length,_143.length);_145++){if(_144[_145]!=_143[_145]){break;}}var _146;for(var i=_144.length-1;i>=_145;i--){_146=dijit.byId(_144[i]);if(_146){_146._focused=false;_146._hasBeenBlurred=true;if(_146._onBlur){_146._onBlur(by);}if(_146._setStateClass){_146._setStateClass();}dojo.publish("widgetBlur",[_146,by]);}}for(i=_145;i<_143.length;i++){_146=dijit.byId(_143[i]);if(_146){_146._focused=true;if(_146._onFocus){_146._onFocus(by);}if(_146._setStateClass){_146._setStateClass();}dojo.publish("widgetFocus",[_146,by]);}}}});dojo.addOnLoad(function(){var _147=dijit.registerWin(window);if(dojo.isIE){dojo.addOnWindowUnload(function(){dijit.unregisterWin(_147);_147=null;});}});}if(!dojo._hasResource["dojo.AdapterRegistry"]){dojo._hasResource["dojo.AdapterRegistry"]=true;dojo.provide("dojo.AdapterRegistry");dojo.AdapterRegistry=function(_148){this.pairs=[];this.returnWrappers=_148||false;};dojo.extend(dojo.AdapterRegistry,{register:function(name,_149,wrap,_14a,_14b){this.pairs[((_14b)?"unshift":"push")]([name,_149,wrap,_14a]);},match:function(){for(var i=0;i<this.pairs.length;i++){var pair=this.pairs[i];if(pair[1].apply(this,arguments)){if((pair[3])||(this.returnWrappers)){return pair[2];}else{return pair[2].apply(this,arguments);}}}throw new Error("No match found");},unregister:function(name){for(var i=0;i<this.pairs.length;i++){var pair=this.pairs[i];if(pair[0]==name){this.pairs.splice(i,1);return true;}}return false;}});}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function(){var _14c=(dojo.doc.compatMode=="BackCompat")?dojo.body():dojo.doc.documentElement;var _14d=dojo._docScroll();return {w:_14c.clientWidth,h:_14c.clientHeight,l:_14d.x,t:_14d.y};};dijit.placeOnScreen=function(node,pos,_14e,_14f){var _150=dojo.map(_14e,function(_151){var c={corner:_151,pos:{x:pos.x,y:pos.y}};if(_14f){c.pos.x+=_151.charAt(1)=="L"?_14f.x:-_14f.x;c.pos.y+=_151.charAt(0)=="T"?_14f.y:-_14f.y;}return c;});return dijit._place(node,_150);};dijit._place=function(node,_152,_153){var view=dijit.getViewport();if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(node);}var best=null;dojo.some(_152,function(_154){var _155=_154.corner;var pos=_154.pos;if(_153){_153(node,_154.aroundCorner,_155);}var _156=node.style;var _157=_156.display;var _158=_156.visibility;_156.visibility="hidden";_156.display="";var mb=dojo.marginBox(node);_156.display=_157;_156.visibility=_158;var _159=Math.max(view.l,_155.charAt(1)=="L"?pos.x:(pos.x-mb.w)),_15a=Math.max(view.t,_155.charAt(0)=="T"?pos.y:(pos.y-mb.h)),endX=Math.min(view.l+view.w,_155.charAt(1)=="L"?(_159+mb.w):pos.x),endY=Math.min(view.t+view.h,_155.charAt(0)=="T"?(_15a+mb.h):pos.y),_15b=endX-_159,_15c=endY-_15a,_15d=(mb.w-_15b)+(mb.h-_15c);if(best==null||_15d<best.overflow){best={corner:_155,aroundCorner:_154.aroundCorner,x:_159,y:_15a,w:_15b,h:_15c,overflow:_15d};}return !_15d;});node.style.left=best.x+"px";node.style.top=best.y+"px";if(best.overflow&&_153){_153(node,best.aroundCorner,best.corner);}return best;};dijit.placeOnScreenAroundNode=function(node,_15e,_15f,_160){_15e=dojo.byId(_15e);var _161=_15e.style.display;_15e.style.display="";var _162=dojo.position(_15e,true);_15e.style.display=_161;return dijit._placeOnScreenAroundRect(node,_162.x,_162.y,_162.w,_162.h,_15f,_160);};dijit.placeOnScreenAroundRectangle=function(node,_163,_164,_165){return dijit._placeOnScreenAroundRect(node,_163.x,_163.y,_163.width,_163.height,_164,_165);};dijit._placeOnScreenAroundRect=function(node,x,y,_166,_167,_168,_169){var _16a=[];for(var _16b in _168){_16a.push({aroundCorner:_16b,corner:_168[_16b],pos:{x:x+(_16b.charAt(1)=="L"?0:_166),y:y+(_16b.charAt(0)=="T"?0:_167)}});}return dijit._place(node,_16a,_169);};dijit.placementRegistry=new dojo.AdapterRegistry();dijit.placementRegistry.register("node",function(n,x){return typeof x=="object"&&typeof x.offsetWidth!="undefined"&&typeof x.offsetHeight!="undefined";},dijit.placeOnScreenAroundNode);dijit.placementRegistry.register("rect",function(n,x){return typeof x=="object"&&"x" in x&&"y" in x&&"width" in x&&"height" in x;},dijit.placeOnScreenAroundRectangle);dijit.placeOnScreenAroundElement=function(node,_16c,_16d,_16e){return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments);};dijit.getPopupAlignment=function(_16f,_170){var _171={};dojo.forEach(_16f,function(pos){switch(pos){case "after":_171[_170?"BR":"BL"]=_170?"BL":"BR";break;case "before":_171[_170?"BL":"BR"]=_170?"BR":"BL";break;case "below":_171[_170?"BL":"BR"]=_170?"TL":"TR";_171[_170?"BR":"BL"]=_170?"TR":"TL";break;case "above":default:_171[_170?"TL":"TR"]=_170?"BL":"BR";_171[_170?"TR":"TL"]=_170?"BR":"BL";break;}});return _171;};dijit.getPopupAroundAlignment=function(_172,_173){var _174={};dojo.forEach(_172,function(pos){switch(pos){case "after":_174[_173?"BR":"BL"]=_173?"BL":"BR";break;case "before":_174[_173?"BL":"BR"]=_173?"BR":"BL";break;case "below":_174[_173?"BL":"BR"]=_173?"TL":"TR";_174[_173?"BR":"BL"]=_173?"TR":"TL";break;case "above":default:_174[_173?"TL":"TR"]=_173?"BL":"BR";_174[_173?"TR":"TL"]=_173?"BR":"BL";break;}});return _174;};}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function(doc){if(dojo.isIE&&window!==document.parentWindow&&!doc._parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc._parentWindow||doc.parentWindow||doc.defaultView;};}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup=new function(){var _175=[],_176=1000,_177=1;this.moveOffScreen=function(node){var s=node.style;s.visibility="hidden";s.position="absolute";s.top="-9999px";if(s.display=="none"){s.display="";}dojo.body().appendChild(node);};var _178=function(){for(var pi=_175.length-1;pi>0&&_175[pi].parent===_175[pi-1].widget;pi--){}return _175[pi];};var _179=[];this.open=function(args){var _17a=args.popup,_17b=args.orient||(dojo._isBodyLtr()?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"}),_17c=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+_177++);var _17d=_179.pop(),_17e,_17f;if(!_17d){_17e=dojo.create("div",{"class":"dijitPopup"},dojo.body());dijit.setWaiRole(_17e,"presentation");}else{_17e=_17d[0];_17f=_17d[1];}dojo.attr(_17e,{id:id,style:{zIndex:_176+_175.length,visibility:"hidden",top:"-9999px"},dijitPopupParent:args.parent?args.parent.id:""});var s=_17a.domNode.style;s.display="";s.visibility="";s.position="";s.top="0px";_17e.appendChild(_17a.domNode);if(!_17f){_17f=new dijit.BackgroundIframe(_17e);}else{_17f.resize(_17e);}var best=_17c?dijit.placeOnScreenAroundElement(_17e,_17c,_17b,_17a.orient?dojo.hitch(_17a,"orient"):null):dijit.placeOnScreen(_17e,args,_17b=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding);_17e.style.visibility="visible";var _180=[];_180.push(dojo.connect(_17e,"onkeypress",this,function(evt){if(evt.charOrCode==dojo.keys.ESCAPE&&args.onCancel){dojo.stopEvent(evt);args.onCancel();}else{if(evt.charOrCode===dojo.keys.TAB){dojo.stopEvent(evt);var _181=_178();if(_181&&_181.onCancel){_181.onCancel();}}}}));if(_17a.onCancel){_180.push(dojo.connect(_17a,"onCancel",args.onCancel));}_180.push(dojo.connect(_17a,_17a.onExecute?"onExecute":"onChange",function(){var _182=_178();if(_182&&_182.onExecute){_182.onExecute();}}));_175.push({wrapper:_17e,iframe:_17f,widget:_17a,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_180});if(_17a.onOpen){_17a.onOpen(best);}return best;};this.close=function(_183){while(dojo.some(_175,function(elem){return elem.widget==_183;})){var top=_175.pop(),_184=top.wrapper,_185=top.iframe,_186=top.widget,_187=top.onClose;if(_186.onClose){_186.onClose();}dojo.forEach(top.handlers,dojo.disconnect);if(_186&&_186.domNode){this.moveOffScreen(_186.domNode);}_184.style.top="-9999px";_184.style.visibility="hidden";_179.push([_184,_185]);if(_187){_187();}}};}();dijit._frames=new function(){var _188=[];this.pop=function(){var _189;if(_188.length){_189=_188.pop();_189.style.display="";}else{if(dojo.isIE){var burl=dojo.config["dojoBlankHtmlUrl"]||(dojo.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var html="<iframe src='"+burl+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_189=dojo.doc.createElement(html);}else{_189=dojo.create("iframe");_189.src="javascript:\"\"";_189.className="dijitBackgroundIframe";dojo.style(_189,"opacity",0.1);}_189.tabIndex=-1;}return _189;};this.push=function(_18a){_18a.style.display="none";_188.push(_18a);};}();dijit.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(dojo.isIE||dojo.isMoz){var _18b=dijit._frames.pop();node.appendChild(_18b);if(dojo.isIE<7){this.resize(node);this._conn=dojo.connect(node,"onresize",this,function(){this.resize(node);});}else{dojo.style(_18b,{width:"100%",height:"100%"});}this.iframe=_18b;}};dojo.extend(dijit.BackgroundIframe,{resize:function(node){if(this.iframe&&dojo.isIE<7){dojo.style(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){dojo.disconnect(this._conn);this._conn=null;}if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe;}}});}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function(node,pos){try{node=dojo.byId(node);var doc=node.ownerDocument||dojo.doc,body=doc.body||dojo.body(),html=doc.documentElement||body.parentNode,isIE=dojo.isIE,isWK=dojo.isWebKit;if((!(dojo.isMoz||isIE||isWK)||node==body||node==html)&&(typeof node.scrollIntoView!="undefined")){node.scrollIntoView(false);return;}var _18c=doc.compatMode=="BackCompat",_18d=_18c?body:html,_18e=isWK?body:_18d,_18f=_18d.clientWidth,_190=_18d.clientHeight,rtl=!dojo._isBodyLtr(),_191=pos||dojo.position(node),el=node.parentNode,_192=function(el){return ((isIE<=6||(isIE&&_18c))?false:(dojo.style(el,"position").toLowerCase()=="fixed"));};if(_192(node)){return;}while(el){if(el==body){el=_18e;}var _193=dojo.position(el),_194=_192(el);with(_193){if(el==_18e){w=_18f,h=_190;if(_18e==html&&isIE&&rtl){x+=_18e.offsetWidth-w;}if(x<0||!isIE){x=0;}if(y<0||!isIE){y=0;}}else{var pb=dojo._getPadBorderExtents(el);w-=pb.w;h-=pb.h;x+=pb.l;y+=pb.t;}with(el){if(el!=_18e){var _195=clientWidth,_196=w-_195;if(_195>0&&_196>0){w=_195;if(isIE&&rtl){x+=_196;}}_195=clientHeight;_196=h-_195;if(_195>0&&_196>0){h=_195;}}if(_194){if(y<0){h+=y,y=0;}if(x<0){w+=x,x=0;}if(y+h>_190){h=_190-y;}if(x+w>_18f){w=_18f-x;}}var l=_191.x-x,t=_191.y-Math.max(y,0),r=l+_191.w-w,bot=t+_191.h-h;if(r*l>0){var s=Math[l<0?"max":"min"](l,r);_191.x+=scrollLeft;scrollLeft+=(isIE>=8&&!_18c&&rtl)?-s:s;_191.x-=scrollLeft;}if(bot*t>0){_191.y+=scrollTop;scrollTop+=Math[t<0?"max":"min"](t,bot);_191.y-=scrollTop;}}}el=(el!=_18e)&&!_194&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}};}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");(function(){var d=dojo,html=d.doc.documentElement,ie=d.isIE,_197=d.isOpera,maj=Math.floor,ff=d.isFF,_198=d.boxModel.replace(/-/,""),_199={dj_ie:ie,dj_ie6:maj(ie)==6,dj_ie7:maj(ie)==7,dj_ie8:maj(ie)==8,dj_iequirks:ie&&d.isQuirks,dj_opera:_197,dj_khtml:d.isKhtml,dj_webkit:d.isWebKit,dj_safari:d.isSafari,dj_chrome:d.isChrome,dj_gecko:d.isMozilla,dj_ff3:maj(ff)==3};_199["dj_"+_198]=true;for(var p in _199){if(_199[p]){if(html.className){html.className+=" "+p;}else{html.className=p;}}}dojo._loaders.unshift(function(){if(!dojo._isBodyLtr()){html.className+=" dijitRtl";for(var p in _199){if(_199[p]){html.className+=" "+p+"-rtl";}}}});})();}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),10);this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_19a,node,_19b,obj,_19c,_19d){if(obj!=this._obj){this.stop();this._initialDelay=_19d||500;this._subsequentDelay=_19c||0.9;this._obj=obj;this._evt=evt;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(_19a,_19b);this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_19e,_19f,_1a0,_1a1,_1a2){if(_19e.keyCode){_19e.charOrCode=_19e.keyCode;dojo.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_19e.charCode){_19e.charOrCode=String.fromCharCode(_19e.charCode);dojo.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}return [dojo.connect(node,"onkeypress",this,function(evt){if(evt.charOrCode==_19e.charOrCode&&(_19e.ctrlKey===undefined||_19e.ctrlKey==evt.ctrlKey)&&(_19e.altKey===undefined||_19e.altKey==evt.altKey)&&(_19e.metaKey===undefined||_19e.metaKey==(evt.metaKey||false))&&(_19e.shiftKey===undefined||_19e.shiftKey==evt.shiftKey)){dojo.stopEvent(evt);dijit.typematic.trigger(_19e,_19f,node,_1a0,_19e,_1a1,_1a2);}else{if(dijit.typematic._obj==_19e){dijit.typematic.stop();}}}),dojo.connect(node,"onkeyup",this,function(evt){if(dijit.typematic._obj==_19e){dijit.typematic.stop();}})];},addMouseListener:function(node,_1a3,_1a4,_1a5,_1a6){var dc=dojo.connect;return [dc(node,"mousedown",this,function(evt){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_1a3,node,_1a4,node,_1a5,_1a6);}),dc(node,"mouseup",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mouseout",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mousemove",this,function(evt){dojo.stopEvent(evt);}),dc(node,"dblclick",this,function(evt){dojo.stopEvent(evt);if(dojo.isIE){dijit.typematic.trigger(evt,_1a3,node,_1a4,node,_1a5,_1a6);setTimeout(dojo.hitch(this,dijit.typematic.stop),50);}})];},addListener:function(_1a7,_1a8,_1a9,_1aa,_1ab,_1ac,_1ad){return this.addKeyListener(_1a8,_1a9,_1aa,_1ab,_1ac,_1ad).concat(this.addMouseListener(_1a7,_1aa,_1ab,_1ac,_1ad));}};}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.wai={onload:function(){var div=dojo.create("div",{id:"a11yTestNode",style:{cssText:"border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif"))+"\");"}},dojo.body());var cs=dojo.getComputedStyle(div);if(cs){var _1ae=cs.backgroundImage;var _1af=(cs.borderTopColor==cs.borderRightColor)||(_1ae!=null&&(_1ae=="none"||_1ae=="url(invalid-url:)"));dojo[_1af?"addClass":"removeClass"](dojo.body(),"dijit_a11y");if(dojo.isIE){div.outerHTML="";}else{dojo.body().removeChild(div);}}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload);}dojo.mixin(dijit,{_XhtmlRoles:/banner|contentinfo|definition|main|navigation|search|note|secondary|seealso/,hasWaiRole:function(elem,role){var _1b0=this.getWaiRole(elem);return role?(_1b0.indexOf(role)>-1):(_1b0.length>0);},getWaiRole:function(elem){return dojo.trim((dojo.attr(elem,"role")||"").replace(this._XhtmlRoles,"").replace("wairole:",""));},setWaiRole:function(elem,role){var _1b1=dojo.attr(elem,"role")||"";if(!this._XhtmlRoles.test(_1b1)){dojo.attr(elem,"role",role);}else{if((" "+_1b1+" ").indexOf(" "+role+" ")<0){var _1b2=dojo.trim(_1b1.replace(this._XhtmlRoles,""));var _1b3=dojo.trim(_1b1.replace(_1b2,""));dojo.attr(elem,"role",_1b3+(_1b3?" ":"")+role);}}},removeWaiRole:function(elem,role){var _1b4=dojo.attr(elem,"role");if(!_1b4){return;}if(role){var t=dojo.trim((" "+_1b4+" ").replace(" "+role+" "," "));dojo.attr(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_1b5){return elem.hasAttribute?elem.hasAttribute("aria-"+_1b5):!!elem.getAttribute("aria-"+_1b5);},getWaiState:function(elem,_1b6){return elem.getAttribute("aria-"+_1b6)||"";},setWaiState:function(elem,_1b7,_1b8){elem.setAttribute("aria-"+_1b7,_1b8);},removeWaiState:function(elem,_1b9){elem.removeAttribute("aria-"+_1b9);}});}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base");}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.require("dijit._base");dojo.connect(dojo,"_connect",function(_1ba,_1bb){if(_1ba&&dojo.isFunction(_1ba._onConnect)){_1ba._onConnect(_1bb);}});dijit._connectOnUseEventHandler=function(_1bc){};dijit._lastKeyDownNode=null;if(dojo.isIE){(function(){var _1bd=function(evt){dijit._lastKeyDownNode=evt.srcElement;};dojo.doc.attachEvent("onkeydown",_1bd);dojo.addOnWindowUnload(function(){dojo.doc.detachEvent("onkeydown",_1bd);});})();}else{dojo.doc.addEventListener("keydown",function(evt){dijit._lastKeyDownNode=evt.target;},true);}(function(){var _1be={},_1bf=function(_1c0){var dc=_1c0.declaredClass;if(!_1be[dc]){var r=[],_1c1,_1c2=_1c0.constructor.prototype;for(var _1c3 in _1c2){if(dojo.isFunction(_1c2[_1c3])&&(_1c1=_1c3.match(/^_set([a-zA-Z]*)Attr$/))&&_1c1[1]){r.push(_1c1[1].charAt(0).toLowerCase()+_1c1[1].substr(1));}}_1be[dc]=r;}return _1be[dc]||[];};dojo.declare("dijit._Widget",null,{id:"",lang:"",dir:"","class":"",style:"",title:"",tooltip:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_deferredConnects:{onClick:"",onDblClick:"",onKeyDown:"",onKeyPress:"",onKeyUp:"",onMouseMove:"",onMouseDown:"",onMouseOut:"",onMouseOver:"",onMouseLeave:"",onMouseEnter:"",onMouseUp:""},onClick:dijit._connectOnUseEventHandler,onDblClick:dijit._connectOnUseEventHandler,onKeyDown:dijit._connectOnUseEventHandler,onKeyPress:dijit._connectOnUseEventHandler,onKeyUp:dijit._connectOnUseEventHandler,onMouseDown:dijit._connectOnUseEventHandler,onMouseMove:dijit._connectOnUseEventHandler,onMouseOut:dijit._connectOnUseEventHandler,onMouseOver:dijit._connectOnUseEventHandler,onMouseLeave:dijit._connectOnUseEventHandler,onMouseEnter:dijit._connectOnUseEventHandler,onMouseUp:dijit._connectOnUseEventHandler,_blankGif:(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif")).toString(),postscript:function(_1c4,_1c5){this.create(_1c4,_1c5);},create:function(_1c6,_1c7){this.srcNodeRef=dojo.byId(_1c7);this._connects=[];this._subscribes=[];this._deferredConnects=dojo.clone(this._deferredConnects);for(var attr in this.attributeMap){delete this._deferredConnects[attr];}for(attr in this._deferredConnects){if(this[attr]!==dijit._connectOnUseEventHandler){delete this._deferredConnects[attr];}}if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_1c6){this.params=_1c6;dojo.mixin(this,_1c6);}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));}dijit.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var _1c8=this.srcNodeRef;if(_1c8&&_1c8.parentNode){_1c8.parentNode.replaceChild(this.domNode,_1c8);}for(attr in this.params){this._onConnect(attr);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _1c9=function(attr,_1ca){if((_1ca.params&&attr in _1ca.params)||_1ca[attr]){_1ca.attr(attr,_1ca[attr]);}};for(var attr in this.attributeMap){_1c9(attr,this);}dojo.forEach(_1bf(this),function(a){if(!(a in this.attributeMap)){_1c9(a,this);}},this);},postMixInProperties:function(){},buildRendering:function(){this.domNode=this.srcNodeRef||dojo.create("div");},postCreate:function(){},startup:function(){this._started=true;},destroyRecursive:function(_1cb){this._beingDestroyed=true;this.destroyDescendants(_1cb);this.destroy(_1cb);},destroy:function(_1cc){this._beingDestroyed=true;this.uninitialize();var d=dojo,dfe=d.forEach,dun=d.unsubscribe;dfe(this._connects,function(_1cd){dfe(_1cd,d.disconnect);});dfe(this._subscribes,function(_1ce){dun(_1ce);});dfe(this._supportingWidgets||[],function(w){if(w.destroyRecursive){w.destroyRecursive();}else{if(w.destroy){w.destroy();}}});this.destroyRendering(_1cc);dijit.registry.remove(this.id);this._destroyed=true;},destroyRendering:function(_1cf){if(this.bgIframe){this.bgIframe.destroy(_1cf);delete this.bgIframe;}if(this.domNode){if(_1cf){dojo.removeAttr(this.domNode,"widgetId");}else{dojo.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_1cf){dojo.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_1d0){dojo.forEach(this.getChildren(),function(_1d1){if(_1d1.destroyRecursive){_1d1.destroyRecursive(_1d0);}});},uninitialize:function(){return false;},onFocus:function(){},onBlur:function(){},_onFocus:function(e){this.onFocus();},_onBlur:function(){this.onBlur();},_onConnect:function(_1d2){if(_1d2 in this._deferredConnects){var _1d3=this[this._deferredConnects[_1d2]||"domNode"];this.connect(_1d3,_1d2.toLowerCase(),_1d2);delete this._deferredConnects[_1d2];}},_setClassAttr:function(_1d4){var _1d5=this[this.attributeMap["class"]||"domNode"];dojo.removeClass(_1d5,this["class"]);this["class"]=_1d4;dojo.addClass(_1d5,_1d4);},_setStyleAttr:function(_1d6){var _1d7=this[this.attributeMap.style||"domNode"];if(dojo.isObject(_1d6)){dojo.style(_1d7,_1d6);}else{if(_1d7.style.cssText){_1d7.style.cssText+="; "+_1d6;}else{_1d7.style.cssText=_1d6;}}this.style=_1d6;},setAttribute:function(attr,_1d8){dojo.deprecated(this.declaredClass+"::setAttribute() is deprecated. Use attr() instead.","","2.0");this.attr(attr,_1d8);},_attrToDom:function(attr,_1d9){var _1da=this.attributeMap[attr];dojo.forEach(dojo.isArray(_1da)?_1da:[_1da],function(_1db){var _1dc=this[_1db.node||_1db||"domNode"];var type=_1db.type||"attribute";switch(type){case "attribute":if(dojo.isFunction(_1d9)){_1d9=dojo.hitch(this,_1d9);}var _1dd=_1db.attribute?_1db.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);dojo.attr(_1dc,_1dd,_1d9);break;case "innerText":_1dc.innerHTML="";_1dc.appendChild(dojo.doc.createTextNode(_1d9));break;case "innerHTML":_1dc.innerHTML=_1d9;break;case "class":dojo.removeClass(_1dc,this[attr]);dojo.addClass(_1dc,_1d9);break;}},this);this[attr]=_1d9;},attr:function(name,_1de){var args=arguments.length;if(args==1&&!dojo.isString(name)){for(var x in name){this.attr(x,name[x]);}return this;}var _1df=this._getAttrNames(name);if(args>=2){if(this[_1df.s]){args=dojo._toArray(arguments,1);return this[_1df.s].apply(this,args)||this;}else{if(name in this.attributeMap){this._attrToDom(name,_1de);}this[name]=_1de;}return this;}else{return this[_1df.g]?this[_1df.g]():this[name];}},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"});},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function(){return this.containerNode?dojo.query("[widgetId]",this.containerNode).map(dijit.byNode):[];},getChildren:function(){return this.containerNode?dijit.findWidgets(this.containerNode):[];},nodesWithKeyClick:["input","button"],connect:function(obj,_1e0,_1e1){var d=dojo,dc=d._connect,_1e2=[];if(_1e0=="ondijitclick"){if(!this.nodesWithKeyClick[obj.tagName.toLowerCase()]){var m=d.hitch(this,_1e1);_1e2.push(dc(obj,"onkeydown",this,function(e){if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){dijit._lastKeyDownNode=e.target;d.stopEvent(e);}}),dc(obj,"onkeyup",this,function(e){if((e.keyCode==d.keys.ENTER||e.keyCode==d.keys.SPACE)&&e.target===dijit._lastKeyDownNode&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){dijit._lastKeyDownNode=null;return m(e);}}));}_1e0="onclick";}_1e2.push(dc(obj,_1e0,this,_1e1));this._connects.push(_1e2);return _1e2;},disconnect:function(_1e3){for(var i=0;i<this._connects.length;i++){if(this._connects[i]==_1e3){dojo.forEach(_1e3,dojo.disconnect);this._connects.splice(i,1);return;}}},subscribe:function(_1e4,_1e5){var d=dojo,_1e6=d.subscribe(_1e4,this,_1e5);this._subscribes.push(_1e6);return _1e6;},unsubscribe:function(_1e7){for(var i=0;i<this._subscribes.length;i++){if(this._subscribes[i]==_1e7){dojo.unsubscribe(_1e7);this._subscribes.splice(i,1);return;}}},isLeftToRight:function(){return dojo._isBodyLtr();},isFocusable:function(){return this.focus&&(dojo.style(this.domNode,"display")!="none");},placeAt:function(_1e8,_1e9){if(_1e8.declaredClass&&_1e8.addChild){_1e8.addChild(this,_1e9);}else{dojo.place(this.domNode,_1e8,_1e9);}return this;},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){}});})();}if(!dojo._hasResource["dijit._Contained"]){dojo._hasResource["dijit._Contained"]=true;dojo.provide("dijit._Contained");dojo.declare("dijit._Contained",null,{getParent:function(){var _1ea=dijit.getEnclosingWidget(this.domNode.parentNode);return _1ea&&_1ea.isContainer?_1ea:null;},_getSibling:function(_1eb){var node=this.domNode;do{node=node[_1eb+"Sibling"];}while(node&&node.nodeType!=1);return node&&dijit.byNode(node);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});}if(!dojo._hasResource["dijit._Container"]){dojo._hasResource["dijit._Container"]=true;dojo.provide("dijit._Container");dojo.declare("dijit._Container",null,{isContainer:true,buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_1ec,_1ed){var _1ee=this.containerNode;if(_1ed&&typeof _1ed=="number"){var _1ef=this.getChildren();if(_1ef&&_1ef.length>=_1ed){_1ee=_1ef[_1ed-1].domNode;_1ed="after";}}dojo.place(_1ec.domNode,_1ee,_1ed);if(this._started&&!_1ec._started){_1ec.startup();}},removeChild:function(_1f0){if(typeof _1f0=="number"&&_1f0>0){_1f0=this.getChildren()[_1f0];}if(_1f0&&_1f0.domNode){var node=_1f0.domNode;node.parentNode.removeChild(node);}},getChildren:function(){return dojo.query("> [widgetId]",this.containerNode).map(dijit.byNode);},hasChildren:function(){return dojo.query("> [widgetId]",this.containerNode).length>0;},destroyDescendants:function(_1f1){dojo.forEach(this.getChildren(),function(_1f2){_1f2.destroyRecursive(_1f1);});},_getSiblingOfChild:function(_1f3,dir){var node=_1f3.domNode,_1f4=(dir>0?"nextSibling":"previousSibling");do{node=node[_1f4];}while(node&&(node.nodeType!=1||!dijit.byNode(node)));return node&&dijit.byNode(node);},getIndexOfChild:function(_1f5){return dojo.indexOf(this.getChildren(),_1f5);},startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_1f6){_1f6.startup();});this.inherited(arguments);}});}if(!dojo._hasResource["dijit.layout._LayoutWidget"]){dojo._hasResource["dijit.layout._LayoutWidget"]=true;dojo.provide("dijit.layout._LayoutWidget");dojo.declare("dijit.layout._LayoutWidget",[dijit._Widget,dijit._Container,dijit._Contained],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,postCreate:function(){dojo.addClass(this.domNode,"dijitContainer");dojo.addClass(this.domNode,this.baseClass);this.inherited(arguments);},startup:function(){if(this._started){return;}this.inherited(arguments);var _1f7=this.getParent&&this.getParent();if(!(_1f7&&_1f7.isLayoutContainer)){this.resize();this.connect(dojo.isIE?this.domNode:dojo.global,"onresize",function(){this.resize();});}},resize:function(_1f8,_1f9){var node=this.domNode;if(_1f8){dojo.marginBox(node,_1f8);if(_1f8.t){node.style.top=_1f8.t+"px";}if(_1f8.l){node.style.left=_1f8.l+"px";}}var mb=_1f9||{};dojo.mixin(mb,_1f8||{});if(!("h" in mb)||!("w" in mb)){mb=dojo.mixin(dojo.marginBox(node),mb);}var cs=dojo.getComputedStyle(node);var me=dojo._getMarginExtents(node,cs);var be=dojo._getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=dojo._getPadExtents(node,cs);this._contentBox={l:dojo._toPixelValue(node,cs.paddingLeft),t:dojo._toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_1fa){dojo.addClass(_1fa.domNode,this.baseClass+"-child");if(_1fa.baseClass){dojo.addClass(_1fa.domNode,this.baseClass+"-"+_1fa.baseClass);}},addChild:function(_1fb,_1fc){this.inherited(arguments);if(this._started){this._setupChild(_1fb);}},removeChild:function(_1fd){dojo.removeClass(_1fd.domNode,this.baseClass+"-child");if(_1fd.baseClass){dojo.removeClass(_1fd.domNode,this.baseClass+"-"+_1fd.baseClass);}this.inherited(arguments);}});dijit.layout.marginBox2contentBox=function(node,mb){var cs=dojo.getComputedStyle(node);var me=dojo._getMarginExtents(node,cs);var pb=dojo._getPadBorderExtents(node,cs);return {l:dojo._toPixelValue(node,cs.paddingLeft),t:dojo._toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};};(function(){var _1fe=function(word){return word.substring(0,1).toUpperCase()+word.substring(1);};var size=function(_1ff,dim){_1ff.resize?_1ff.resize(dim):dojo.marginBox(_1ff.domNode,dim);dojo.mixin(_1ff,dojo.marginBox(_1ff.domNode));dojo.mixin(_1ff,dim);};dijit.layout.layoutChildren=function(_200,dim,_201){dim=dojo.mixin({},dim);dojo.addClass(_200,"dijitLayoutContainer");_201=dojo.filter(_201,function(item){return item.layoutAlign!="client";}).concat(dojo.filter(_201,function(item){return item.layoutAlign=="client";}));dojo.forEach(_201,function(_202){var elm=_202.domNode,pos=_202.layoutAlign;var _203=elm.style;_203.left=dim.l+"px";_203.top=dim.t+"px";_203.bottom=_203.right="auto";dojo.addClass(elm,"dijitAlign"+_1fe(pos));if(pos=="top"||pos=="bottom"){size(_202,{w:dim.w});dim.h-=_202.h;if(pos=="top"){dim.t+=_202.h;}else{_203.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){size(_202,{h:dim.h});dim.w-=_202.w;if(pos=="left"){dim.l+=_202.w;}else{_203.left=dim.l+dim.w+"px";}}else{if(pos=="client"){size(_202,dim);}}}});};})();}if(!dojo._hasResource["dojo.html"]){dojo._hasResource["dojo.html"]=true;dojo.provide("dojo.html");(function(){var _204=0,d=dojo;dojo.html._secureForInnerHtml=function(cont){return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");};dojo.html._emptyNode=dojo.empty;dojo.html._setNodeContent=function(node,cont){d.empty(node);if(cont){if(typeof cont=="string"){cont=d._toDom(cont,node.ownerDocument);}if(!cont.nodeType&&d.isArrayLike(cont)){for(var _205=cont.length,i=0;i<cont.length;i=_205==cont.length?i+1:0){d.place(cont[i],node,"last");}}else{d.place(cont,node,"last");}}return node;};dojo.declare("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,constructor:function(_206,node){dojo.mixin(this,_206||{});node=this.node=dojo.byId(this.node||node);if(!this.id){this.id=["Setter",(node)?node.id||node.tagName:"",_204++].join("_");}if(!(this.node||node)){new Error(this.declaredClass+": no node provided to "+this.id);}},set:function(cont,_207){if(undefined!==cont){this.content=cont;}if(_207){this._mixin(_207);}this.onBegin();this.setContent();this.onEnd();return this.node;},setContent:function(){var node=this.node;if(!node){console.error("setContent given no node");}try{node=dojo.html._setNodeContent(node,this.content);}catch(e){var _208=this.onContentError(e);try{node.innerHTML=_208;}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);}}this.node=node;},empty:function(){if(this.parseResults&&this.parseResults.length){dojo.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}dojo.html._emptyNode(this.node);},onBegin:function(){var cont=this.content;if(dojo.isString(cont)){if(this.cleanContent){cont=dojo.html._secureForInnerHtml(cont);}if(this.extractContent){var _209=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_209){cont=_209[1];}}}this.empty();this.content=cont;return this.node;},onEnd:function(){if(this.parseContent){this._parse();}return this.node;},tearDown:function(){delete this.parseResults;delete this.node;delete this.content;},onContentError:function(err){return "Error occured setting content: "+err;},_mixin:function(_20a){var _20b={},key;for(key in _20a){if(key in _20b){continue;}this[key]=_20a[key];}},_parse:function(){var _20c=this.node;try{this.parseResults=dojo.parser.parse(_20c,true);}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function(type,err,_20d){var _20e=this["on"+type+"Error"].call(this,err);if(_20d){console.error(_20d,err);}else{if(_20e){dojo.html._setNodeContent(this.node,_20e,true);}}}});dojo.html.set=function(node,cont,_20f){if(undefined==cont){console.warn("dojo.html.set: no cont argument provided, using empty string");cont="";}if(!_20f){return dojo.html._setNodeContent(node,cont,true);}else{var op=new dojo.html._ContentSetter(dojo.mixin(_20f,{content:cont,node:node}));return op.set();}};})();}if(!dojo._hasResource["dojo.i18n"]){dojo._hasResource["dojo.i18n"]=true;dojo.provide("dojo.i18n");dojo.i18n.getLocalization=function(_210,_211,_212){_212=dojo.i18n.normalizeLocale(_212);var _213=_212.split("-");var _214=[_210,"nls",_211].join(".");var _215=dojo._loadedModules[_214];if(_215){var _216;for(var i=_213.length;i>0;i--){var loc=_213.slice(0,i).join("_");if(_215[loc]){_216=_215[loc];break;}}if(!_216){_216=_215.ROOT;}if(_216){var _217=function(){};_217.prototype=_216;return new _217();}}throw new Error("Bundle not found: "+_211+" in "+_210+" , locale="+_212);};dojo.i18n.normalizeLocale=function(_218){var _219=_218?_218.toLowerCase():dojo.locale;if(_219=="root"){_219="ROOT";}return _219;};dojo.i18n._requireLocalization=function(_21a,_21b,_21c,_21d){var _21e=dojo.i18n.normalizeLocale(_21c);var _21f=[_21a,"nls",_21b].join(".");var _220="";if(_21d){var _221=_21d.split(",");for(var i=0;i<_221.length;i++){if(_21e["indexOf"](_221[i])==0){if(_221[i].length>_220.length){_220=_221[i];}}}if(!_220){_220="ROOT";}}var _222=_21d?_220:_21e;var _223=dojo._loadedModules[_21f];var _224=null;if(_223){if(dojo.config.localizationComplete&&_223._built){return;}var _225=_222.replace(/-/g,"_");var _226=_21f+"."+_225;_224=dojo._loadedModules[_226];}if(!_224){_223=dojo["provide"](_21f);var syms=dojo._getModuleSymbols(_21a);var _227=syms.concat("nls").join("/");var _228;dojo.i18n._searchLocalePath(_222,_21d,function(loc){var _229=loc.replace(/-/g,"_");var _22a=_21f+"."+_229;var _22b=false;if(!dojo._loadedModules[_22a]){dojo["provide"](_22a);var _22c=[_227];if(loc!="ROOT"){_22c.push(loc);}_22c.push(_21b);var _22d=_22c.join("/")+".js";_22b=dojo._loadPath(_22d,null,function(hash){var _22e=function(){};_22e.prototype=_228;_223[_229]=new _22e();for(var j in hash){_223[_229][j]=hash[j];}});}else{_22b=true;}if(_22b&&_223[_229]){_228=_223[_229];}else{_223[_229]=_228;}if(_21d){return true;}});}if(_21d&&_21e!=_220){_223[_21e.replace(/-/g,"_")]=_223[_220.replace(/-/g,"_")];}};(function(){var _22f=dojo.config.extraLocale;if(_22f){if(!_22f instanceof Array){_22f=[_22f];}var req=dojo.i18n._requireLocalization;dojo.i18n._requireLocalization=function(m,b,_230,_231){req(m,b,_230,_231);if(_230){return;}for(var i=0;i<_22f.length;i++){req(m,b,_22f[i],_231);}};}})();dojo.i18n._searchLocalePath=function(_232,down,_233){_232=dojo.i18n.normalizeLocale(_232);var _234=_232.split("-");var _235=[];for(var i=_234.length;i>0;i--){_235.push(_234.slice(0,i).join("-"));}_235.push(false);if(down){_235.reverse();}for(var j=_235.length-1;j>=0;j--){var loc=_235[j]||"ROOT";var stop=_233(loc);if(stop){break;}}};dojo.i18n._preloadLocalizations=function(_236,_237){function _238(_239){_239=dojo.i18n.normalizeLocale(_239);dojo.i18n._searchLocalePath(_239,true,function(loc){for(var i=0;i<_237.length;i++){if(_237[i]==loc){dojo["require"](_236+"_"+loc);return true;}}return false;});};_238();var _23a=dojo.config.extraLocale||[];for(var i=0;i<_23a.length;i++){_238(_23a[i]);}};}if(!dojo._hasResource["dijit.layout.ContentPane"]){dojo._hasResource["dijit.layout.ContentPane"]=true;dojo.provide("dijit.layout.ContentPane");dojo.declare("dijit.layout.ContentPane",dijit._Widget,{href:"",extractContent:false,parseOnLoad:true,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",doLayout:true,ioArgs:{},isContainer:true,isLayoutContainer:true,onLoadDeferred:null,attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{title:[]}),postMixInProperties:function(){this.inherited(arguments);var _23b=dojo.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=dojo.string.substitute(this.loadingMessage,_23b);this.errorMessage=dojo.string.substitute(this.errorMessage,_23b);if(!this.href&&this.srcNodeRef&&this.srcNodeRef.innerHTML){this.isLoaded=true;}},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},postCreate:function(){this.domNode.title="";if(!dojo.attr(this.domNode,"role")){dijit.setWaiRole(this.domNode,"group");}dojo.addClass(this.domNode,this.baseClass);},startup:function(){if(this._started){return;}var _23c=dijit._Contained.prototype.getParent.call(this);this._childOfLayoutWidget=_23c&&_23c.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;if(this.isLoaded){dojo.forEach(this.getChildren(),function(_23d){_23d.startup();});}if(this._isShown()||this.preload){this._onShow();}this.inherited(arguments);},_checkIfSingleChild:function(){var _23e=dojo.query("> *",this.containerNode).filter(function(node){return node.tagName!=="SCRIPT";}),_23f=_23e.filter(function(node){return dojo.hasAttr(node,"dojoType")||dojo.hasAttr(node,"widgetId");}),_240=dojo.filter(_23f.map(dijit.byNode),function(_241){return _241&&_241.domNode&&_241.resize;});if(_23e.length==_23f.length&&_240.length==1){this._singleChild=_240[0];}else{delete this._singleChild;}dojo.toggleClass(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);},setHref:function(href){dojo.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use attr('href', ...) instead.","","2.0");return this.attr("href",href);},_setHrefAttr:function(href){this.cancel();this.onLoadDeferred=new dojo.Deferred(dojo.hitch(this,"cancel"));this.href=href;if(this._created&&(this.preload||this._isShown())){this._load();}else{this._hrefChanged=true;}return this.onLoadDeferred;},setContent:function(data){dojo.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use attr('content', ...) instead.","","2.0");this.attr("content",data);},_setContentAttr:function(data){this.href="";this.cancel();this.onLoadDeferred=new dojo.Deferred(dojo.hitch(this,"cancel"));this._setContent(data||"");this._isDownloaded=false;return this.onLoadDeferred;},_getContentAttr:function(){return this.containerNode.innerHTML;},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;this.onLoadDeferred=null;},uninitialize:function(){if(this._beingDestroyed){this.cancel();}this.inherited(arguments);},destroyRecursive:function(_242){if(this._beingDestroyed){return;}this.inherited(arguments);},resize:function(_243,_244){if(!this._wasShown){this._onShow();}this._resizeCalled=true;if(_243){dojo.marginBox(this.domNode,_243);}var cn=this.containerNode;if(cn===this.domNode){var mb=_244||{};dojo.mixin(mb,_243||{});if(!("h" in mb)||!("w" in mb)){mb=dojo.mixin(dojo.marginBox(cn),mb);}this._contentBox=dijit.layout.marginBox2contentBox(cn,mb);}else{this._contentBox=dojo.contentBox(cn);}this._layoutChildren();},_isShown:function(){if(this._childOfLayoutWidget){if(this._resizeCalled&&"open" in this){return this.open;}return this._resizeCalled;}else{if("open" in this){return this.open;}else{var node=this.domNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!dojo.hasClass(node,"dijitHidden");}}},_onShow:function(){if(this.href){if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){this.refresh();}}else{if(!this._childOfLayoutWidget&&this._needLayout){this._layoutChildren();}}this.inherited(arguments);this._wasShown=true;},refresh:function(){this.cancel();this.onLoadDeferred=new dojo.Deferred(dojo.hitch(this,"cancel"));this._load();return this.onLoadDeferred;},_load:function(){this._setContent(this.onDownloadStart(),true);var self=this;var _245={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(dojo.isObject(this.ioArgs)){dojo.mixin(_245,this.ioArgs);}var hand=(this._xhrDfd=(this.ioMethod||dojo.xhrGet)(_245));hand.addCallback(function(html){try{self._isDownloaded=true;self._setContent(html,false);self.onDownloadEnd();}catch(err){self._onError("Content",err);}delete self._xhrDfd;return html;});hand.addErrback(function(err){if(!hand.canceled){self._onError("Download",err);}delete self._xhrDfd;return err;});delete this._hrefChanged;},_onLoadHandler:function(data){this.isLoaded=true;try{this.onLoadDeferred.callback(data);this.onLoad(data);}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);}},_onUnloadHandler:function(){this.isLoaded=false;try{this.onUnload();}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);}},destroyDescendants:function(){if(this.isLoaded){this._onUnloadHandler();}var _246=this._contentSetter;dojo.forEach(this.getChildren(),function(_247){if(_247.destroyRecursive){_247.destroyRecursive();}});if(_246){dojo.forEach(_246.parseResults,function(_248){if(_248.destroyRecursive&&_248.domNode&&_248.domNode.parentNode==dojo.body()){_248.destroyRecursive();}});delete _246.parseResults;}dojo.html._emptyNode(this.containerNode);delete this._singleChild;},_setContent:function(cont,_249){this.destroyDescendants();var _24a=this._contentSetter;if(!(_24a&&_24a instanceof dojo.html._ContentSetter)){_24a=this._contentSetter=new dojo.html._ContentSetter({node:this.containerNode,_onError:dojo.hitch(this,this._onError),onContentError:dojo.hitch(this,function(e){var _24b=this.onContentError(e);try{this.containerNode.innerHTML=_24b;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}var _24c=dojo.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:this.parseOnLoad},this._contentSetterParams||{});dojo.mixin(_24a,_24c);_24a.set((dojo.isObject(cont)&&cont.domNode)?cont.domNode:cont);delete this._contentSetterParams;if(!_249){dojo.forEach(this.getChildren(),function(_24d){if(!this.parseOnLoad||_24d.getParent){_24d.startup();}},this);this._scheduleLayout();this._onLoadHandler(cont);}},_onError:function(type,err,_24e){this.onLoadDeferred.errback(err);var _24f=this["on"+type+"Error"].call(this,err);if(_24e){console.error(_24e,err);}else{if(_24f){this._setContent(_24f,true);}}},_scheduleLayout:function(){if(this._isShown()){this._layoutChildren();}else{this._needLayout=true;}},_layoutChildren:function(){if(this.doLayout){this._checkIfSingleChild();}if(this._singleChild&&this._singleChild.resize){var cb=this._contentBox||dojo.contentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}else{dojo.forEach(this.getChildren(),function(_250){if(_250.resize){_250.resize();}});}delete this._needLayout;},onLoad:function(data){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(_251){},onDownloadError:function(_252){return this.errorMessage;},onDownloadEnd:function(){}});}if(!dojo._hasResource["dojox.html._base"]){dojo._hasResource["dojox.html._base"]=true;dojo.provide("dojox.html._base");(function(){if(dojo.isIE){var _253=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;}var _254=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g;var _255=dojox.html._adjustCssPaths=function(_256,_257){if(!_257||!_256){return;}if(_253){_257=_257.replace(_253,function(_258,pre,_259,url,post){return pre+(new dojo._Url(_256,"./"+url).toString())+post;});}return _257.replace(_254,function(_25a,_25b,_25c,_25d,_25e,_25f){if(_25c){return "@import \""+(new dojo._Url(_256,"./"+_25c).toString())+"\""+_25f;}else{return "url("+(new dojo._Url(_256,"./"+_25e).toString())+")"+_25f;}});};var _260=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi;var _261=dojox.html._adjustHtmlPaths=function(_262,cont){var url=_262||"./";return cont.replace(_260,function(tag,_263,name,_264,_265,_266,_267,end){return _263+(name?(name+"="+_264+(new dojo._Url(url,_265).toString())+_264):("style="+_266+_255(url,_267)+_266))+end;});};var _268=dojox.html._snarfStyles=function(_269,cont,_26a){_26a.attributes=[];return cont.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(_26b,_26c,_26d,_26e,_26f,href){var i,attr=(_26c||_26e||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");if(_26d){i=_26a.push(_269?_255(_269,_26d):_26d);}else{i=_26a.push("@import \""+href+"\";");attr=attr.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,"");}if(attr){attr=attr.split(/\s+/);var _270={},tmp;for(var j=0,e=attr.length;j<e;j++){tmp=attr[j].split("=");_270[tmp[0]]=tmp[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");}_26a.attributes[i-1]=_270;}return "";});};var _271=dojox.html._snarfScripts=function(cont,_272){_272.code="";cont=cont.replace(/<[!][-][-](.|\s){5,}?[-][-]>/g,function(_273){return _273.replace(/<(\/?)script\b/ig,"&lt;$1Script");});function _274(src){if(_272.downloadRemote){src=src.replace(/&([a-z0-9#]+);/g,function(m,name){switch(name){case "amp":return "&";case "gt":return ">";case "lt":return "<";default:return name.charAt(0)=="#"?String.fromCharCode(name.substring(1)):"&"+name+";";}});dojo.xhrGet({url:src,sync:true,load:function(code){_272.code+=code+";";},error:_272.errBack});}};return cont.replace(/<script\s*(?![^>]*type=['"]?(?:dojo\/|text\/html\b))(?:[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?)*>([\s\S]*?)<\/script>/gi,function(_275,_276,src,code){if(src){_274(src);}else{_272.code+=code;}return "";});};var _277=dojox.html.evalInGlobal=function(code,_278){_278=_278||dojo.doc.body;var n=_278.ownerDocument.createElement("script");n.type="text/javascript";_278.appendChild(n);n.text=code;};dojo.declare("dojox.html._ContentSetter",[dojo.html._ContentSetter],{adjustPaths:false,referencePath:".",renderStyles:false,executeScripts:false,scriptHasHooks:false,scriptHookReplacement:null,_renderStyles:function(_279){this._styleNodes=[];var st,att,_27a,doc=this.node.ownerDocument;var head=doc.getElementsByTagName("head")[0];for(var i=0,e=_279.length;i<e;i++){_27a=_279[i];att=_279.attributes[i];st=doc.createElement("style");st.setAttribute("type","text/css");for(var x in att){st.setAttribute(x,att[x]);}this._styleNodes.push(st);head.appendChild(st);if(st.styleSheet){st.styleSheet.cssText=_27a;}else{st.appendChild(doc.createTextNode(_27a));}}},empty:function(){this.inherited("empty",arguments);this._styles=[];},onBegin:function(){this.inherited("onBegin",arguments);var cont=this.content,node=this.node;var _27b=this._styles;if(dojo.isString(cont)){if(this.adjustPaths&&this.referencePath){cont=_261(this.referencePath,cont);}if(this.renderStyles||this.cleanContent){cont=_268(this.referencePath,cont,_27b);}if(this.executeScripts){var _27c=this;var _27d={downloadRemote:true,errBack:function(e){_27c._onError.call(_27c,"Exec","Error downloading remote script in \""+_27c.id+"\"",e);}};cont=_271(cont,_27d);this._code=_27d.code;}}this.content=cont;},onEnd:function(){var code=this._code,_27e=this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){dojo.destroy(this._styleNodes.pop());}}if(this.renderStyles&&_27e&&_27e.length){try{this._renderStyles(_27e);}catch(e){console.info("Error while adding styles : "+e);}}if(this.executeScripts&&code){if(this.cleanContent){code=code.replace(/(<!--|(?:\/\/)?-->|<!\[CDATA\[|\]\]>)/g,"");}if(this.scriptHasHooks){code=code.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement);}try{_277(code,this.node);}catch(e){this._onError("Exec","Error eval script in "+this.id+", "+e.message,e);}}this.inherited("onEnd",arguments);},tearDown:function(){this.inherited(arguments);delete this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){dojo.destroy(this._styleNodes.pop());}}delete this._styleNodes;dojo.mixin(this,dojo.getObject(this.declaredClass).prototype);}});dojox.html.set=function(node,cont,_27f){if(!_27f){return dojo.html._setNodeContent(node,cont,true);}else{var op=new dojox.html._ContentSetter(dojo.mixin(_27f,{content:cont,node:node}));return op.set();}};})();}if(!dojo._hasResource["dojox.layout.ContentPane"]){dojo._hasResource["dojox.layout.ContentPane"]=true;dojo.provide("dojox.layout.ContentPane");dojo.declare("dojox.layout.ContentPane",dijit.layout.ContentPane,{adjustPaths:false,cleanContent:false,renderStyles:false,executeScripts:true,scriptHasHooks:false,constructor:function(){this.ioArgs={};this.ioMethod=dojo.xhrGet;},onExecError:function(e){},_setContent:function(cont){var _280=this._contentSetter;if(!(_280&&_280 instanceof dojox.html._ContentSetter)){_280=this._contentSetter=new dojox.html._ContentSetter({node:this.containerNode,_onError:dojo.hitch(this,this._onError),onContentError:dojo.hitch(this,function(e){var _281=this.onContentError(e);try{this.containerNode.innerHTML=_281;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}this._contentSetterParams={adjustPaths:Boolean(this.adjustPaths&&(this.href||this.referencePath)),referencePath:this.href||this.referencePath,renderStyles:this.renderStyles,executeScripts:this.executeScripts,scriptHasHooks:this.scriptHasHooks,scriptHookReplacement:"dijit.byId('"+this.id+"')"};this.inherited("_setContent",arguments);}});}if(!dojo._hasResource["dojo.cache"]){dojo._hasResource["dojo.cache"]=true;dojo.provide("dojo.cache");(function(){var _282={};dojo.cache=function(_283,url,_284){if(typeof _283=="string"){var _285=dojo.moduleUrl(_283,url);}else{_285=_283;_284=url;}var key=_285.toString();var val=_284;if(_284!==undefined&&!dojo.isString(_284)){val=("value" in _284?_284.value:undefined);}var _286=_284&&_284.sanitize?true:false;if(val||val===null){if(val==null){delete _282[key];}else{val=_282[key]=_286?dojo.cache._sanitize(val):val;}}else{if(!(key in _282)){val=dojo._getText(key);_282[key]=_286?dojo.cache._sanitize(val):val;}val=_282[key];}return val;};dojo.cache._sanitize=function(val){if(val){val=val.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _287=val.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_287){val=_287[1];}}else{val="";}return val;};})();}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_earlyTemplatedStartup:false,constructor:function(){this._attachPoints=[];},_stringRepl:function(tmpl){var _288=this.declaredClass,_289=this;return dojo.string.substitute(tmpl,this,function(_28a,key){if(key.charAt(0)=="!"){_28a=dojo.getObject(key.substr(1),false,_289);}if(typeof _28a=="undefined"){throw new Error(_288+" template:"+key);}if(_28a==null){return "";}return key.charAt(0)=="!"?_28a:_28a.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){var _28b=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var node;if(dojo.isString(_28b)){node=dojo._toDom(this._stringRepl(_28b));if(node.nodeType!=1){throw new Error("Invalid template: "+_28b);}}else{node=_28b.cloneNode(true);}this.domNode=node;this._attachTemplateNodes(node);if(this.widgetsInTemplate){var _28c=dojo.parser,qry,attr;if(_28c._query!="[dojoType]"){qry=_28c._query;attr=_28c._attrName;_28c._query="[dojoType]";_28c._attrName="dojoType";}var cw=(this._startupWidgets=dojo.parser.parse(node,{noStart:!this._earlyTemplatedStartup}));if(qry){_28c._query=qry;_28c._attrName=attr;}this._supportingWidgets=dijit.findWidgets(node);this._attachTemplateNodes(cw,function(n,p){return n[p];});}this._fillContent(this.srcNodeRef);},_fillContent:function(_28d){var dest=this.containerNode;if(_28d&&dest){while(_28d.hasChildNodes()){dest.appendChild(_28d.firstChild);}}},_attachTemplateNodes:function(_28e,_28f){_28f=_28f||function(n,p){return n.getAttribute(p);};var _290=dojo.isArray(_28e)?_28e:(_28e.all||_28e.getElementsByTagName("*"));var x=dojo.isArray(_28e)?0:-1;for(;x<_290.length;x++){var _291=(x==-1)?_28e:_290[x];if(this.widgetsInTemplate&&_28f(_291,"dojoType")){continue;}var _292=_28f(_291,"dojoAttachPoint");if(_292){var _293,_294=_292.split(/\s*,\s*/);while((_293=_294.shift())){if(dojo.isArray(this[_293])){this[_293].push(_291);}else{this[_293]=_291;}this._attachPoints.push(_293);}}var _295=_28f(_291,"dojoAttachEvent");if(_295){var _296,_297=_295.split(/\s*,\s*/);var trim=dojo.trim;while((_296=_297.shift())){if(_296){var _298=null;if(_296.indexOf(":")!=-1){var _299=_296.split(":");_296=trim(_299[0]);_298=trim(_299[1]);}else{_296=trim(_296);}if(!_298){_298=_296;}this.connect(_291,_296,_298);}}}var role=_28f(_291,"waiRole");if(role){dijit.setWaiRole(_291,role);}var _29a=_28f(_291,"waiState");if(_29a){dojo.forEach(_29a.split(/\s*,\s*/),function(_29b){if(_29b.indexOf("-")!=-1){var pair=_29b.split("-");dijit.setWaiState(_291,pair[0],pair[1]);}});}}},startup:function(){dojo.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);},destroyRendering:function(){dojo.forEach(this._attachPoints,function(_29c){delete this[_29c];},this);this._attachPoints=[];this.inherited(arguments);}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function(_29d,_29e,_29f){var _2a0=dijit._Templated._templateCache;var key=_29e||_29d;var _2a1=_2a0[key];if(_2a1){try{if(!_2a1.ownerDocument||_2a1.ownerDocument==dojo.doc){return _2a1;}}catch(e){}dojo.destroy(_2a1);}if(!_29e){_29e=dojo.cache(_29d,{sanitize:true});}_29e=dojo.string.trim(_29e);if(_29f||_29e.match(/\$\{([^\}]+)\}/g)){return (_2a0[key]=_29e);}else{var node=dojo._toDom(_29e);if(node.nodeType!=1){throw new Error("Invalid template: "+_29e);}return (_2a0[key]=node);}};if(dojo.isIE){dojo.addOnWindowUnload(function(){var _2a2=dijit._Templated._templateCache;for(var key in _2a2){var _2a3=_2a2[key];if(typeof _2a3=="object"){dojo.destroy(_2a3);}delete _2a2[key];}});}dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});}if(!dojo._hasResource["dijit.form._FormWidget"]){dojo._hasResource["dijit.form._FormWidget"]=true;dojo.provide("dijit.form._FormWidget");dojo.declare("dijit.form._FormWidget",[dijit._Widget,dijit._Templated],{baseClass:"",name:"",alt:"",value:"",type:"text",tabIndex:"0",disabled:false,intermediateChanges:false,scrollOnFocus:true,attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{value:"focusNode",id:"focusNode",tabIndex:"focusNode",alt:"focusNode",title:"focusNode"}),postMixInProperties:function(){this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";this.inherited(arguments);},_setDisabledAttr:function(_2a4){this.disabled=_2a4;dojo.attr(this.focusNode,"disabled",_2a4);if(this.valueNode){dojo.attr(this.valueNode,"disabled",_2a4);}dijit.setWaiState(this.focusNode,"disabled",_2a4);if(_2a4){this._hovering=false;this._active=false;this.focusNode.setAttribute("tabIndex","-1");}else{this.focusNode.setAttribute("tabIndex",this.tabIndex);}this._setStateClass();},setDisabled:function(_2a5){dojo.deprecated("setDisabled("+_2a5+") is deprecated. Use attr('disabled',"+_2a5+") instead.","","2.0");this.attr("disabled",_2a5);},_onFocus:function(e){if(this.scrollOnFocus){dijit.scrollIntoView(this.domNode);}this.inherited(arguments);},_onMouse:function(_2a6){var _2a7=_2a6.currentTarget;if(_2a7&&_2a7.getAttribute){this.stateModifier=_2a7.getAttribute("stateModifier")||"";}if(!this.disabled){switch(_2a6.type){case "mouseenter":case "mouseover":this._hovering=true;this._active=this._mouseDown;break;case "mouseout":case "mouseleave":this._hovering=false;this._active=false;break;case "mousedown":this._active=true;this._mouseDown=true;var _2a8=this.connect(dojo.body(),"onmouseup",function(){if(this._mouseDown&&this.isFocusable()){this.focus();}this._active=false;this._mouseDown=false;this._setStateClass();this.disconnect(_2a8);});break;}this._setStateClass();}},isFocusable:function(){return !this.disabled&&!this.readOnly&&this.focusNode&&(dojo.style(this.domNode,"display")!="none");},focus:function(){dijit.focus(this.focusNode);},_setStateClass:function(){var _2a9=this.baseClass.split(" ");function _2aa(_2ab){_2a9=_2a9.concat(dojo.map(_2a9,function(c){return c+_2ab;}),"dijit"+_2ab);};if(this.checked){_2aa("Checked");}if(this.state){_2aa(this.state);}if(this.selected){_2aa("Selected");}if(this.disabled){_2aa("Disabled");}else{if(this.readOnly){_2aa("ReadOnly");}else{if(this._active){_2aa(this.stateModifier+"Active");}else{if(this._focused){_2aa("Focused");}if(this._hovering){_2aa(this.stateModifier+"Hover");}}}}var tn=this.stateNode||this.domNode,_2ac={};dojo.forEach(tn.className.split(" "),function(c){_2ac[c]=true;});if("_stateClasses" in this){dojo.forEach(this._stateClasses,function(c){delete _2ac[c];});}dojo.forEach(_2a9,function(c){_2ac[c]=true;});var _2ad=[];for(var c in _2ac){_2ad.push(c);}tn.className=_2ad.join(" ");this._stateClasses=_2a9;},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(_2ae){},_onChangeActive:false,_handleOnChange:function(_2af,_2b0){this._lastValue=_2af;if(this._lastValueReported==undefined&&(_2b0===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_2af;}if((this.intermediateChanges||_2b0||_2b0===undefined)&&((typeof _2af!=typeof this._lastValueReported)||this.compare(_2af,this._lastValueReported)!=0)){this._lastValueReported=_2af;if(this._onChangeActive){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);}this._onChangeHandle=setTimeout(dojo.hitch(this,function(){this._onChangeHandle=null;this.onChange(_2af);}),0);}}},create:function(){this.inherited(arguments);this._onChangeActive=true;this._setStateClass();},destroy:function(){if(this._onChangeHandle){clearTimeout(this._onChangeHandle);this.onChange(this._lastValueReported);}this.inherited(arguments);},setValue:function(_2b1){dojo.deprecated("dijit.form._FormWidget:setValue("+_2b1+") is deprecated.  Use attr('value',"+_2b1+") instead.","","2.0");this.attr("value",_2b1);},getValue:function(){dojo.deprecated(this.declaredClass+"::getValue() is deprecated. Use attr('value') instead.","","2.0");return this.attr("value");}});dojo.declare("dijit.form._FormValueWidget",dijit.form._FormWidget,{readOnly:false,attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{value:"",readOnly:"focusNode"}),_setReadOnlyAttr:function(_2b2){this.readOnly=_2b2;dojo.attr(this.focusNode,"readOnly",_2b2);dijit.setWaiState(this.focusNode,"readonly",_2b2);this._setStateClass();},postCreate:function(){if(dojo.isIE){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._resetValue=this.value;}},_setValueAttr:function(_2b3,_2b4){this.value=_2b3;this._handleOnChange(_2b3,_2b4);},_getValueAttr:function(){return this._lastValue;},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function(e){if(e.keyCode==dojo.keys.ESCAPE&&!(e.ctrlKey||e.altKey||e.metaKey)){var te;if(dojo.isIE){e.preventDefault();te=document.createEventObject();te.keyCode=dojo.keys.ESCAPE;te.shiftKey=e.shiftKey;e.srcElement.fireEvent("onkeypress",te);}}},_layoutHackIE7:function(){if(dojo.isIE==7){var _2b5=this.domNode;var _2b6=_2b5.parentNode;var _2b7=_2b5.firstChild||_2b5;var _2b8=_2b7.style.filter;while(_2b6&&_2b6.clientHeight==0){_2b6._disconnectHandle=this.connect(_2b6,"onscroll",dojo.hitch(this,function(e){this.disconnect(_2b6._disconnectHandle);_2b6.removeAttribute("_disconnectHandle");_2b7.style.filter=(new Date()).getMilliseconds();setTimeout(function(){_2b7.style.filter=_2b8;},0);}));_2b6=_2b6.parentNode;}}}});}if(!dojo._hasResource["dijit._HasDropDown"]){dojo._hasResource["dijit._HasDropDown"]=true;dojo.provide("dijit._HasDropDown");dojo.declare("dijit._HasDropDown",null,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:0,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouse:function(e){if(e.type=="click"&&!this._seenKeydown){return;}this._seenKeydown=false;if(e.type=="mousedown"){this._docHandler=this.connect(dojo.doc,"onmouseup","_onDropDownMouseup");}if(this.disabled||this.readOnly){return;}if(this._stopClickEvents){dojo.stopEvent(e);}this.toggleDropDown();if(e.type=="click"||e.type=="keypress"){this._onDropDownMouseup();}},_onDropDownMouseup:function(e){if(e&&this._docHandler){this.disconnect(this._docHandler);}var _2b9=this.dropDown,_2ba=false;if(e&&this._opened){var c=dojo.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_2ba){if(dojo.hasClass(t,"dijitPopup")){_2ba=true;}else{t=t.parentNode;}}if(_2ba){t=e.target;if(_2b9.onItemClick){var _2bb;while(t&&!(_2bb=dijit.byNode(t))){t=t.parentNode;}if(_2bb&&_2bb.onClick&&_2bb.getParent){_2bb.getParent().onItemClick(_2bb,e);}}return;}}}if(this._opened&&_2b9.focus){window.setTimeout(dojo.hitch(_2b9,"focus"),1);}},_setupDropdown:function(){this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;this._aroundNode=this._aroundNode||this.domNode;this.connect(this._buttonNode,"onmousedown","_onDropDownMouse");this.connect(this._buttonNode,"onclick","_onDropDownMouse");this.connect(this._buttonNode,"onkeydown","_onDropDownKeydown");this.connect(this._buttonNode,"onblur","_onDropDownBlur");this.connect(this._buttonNode,"onkeypress","_onKey");if(this._setStateClass){this.connect(this,"openDropDown","_setStateClass");this.connect(this,"closeDropDown","_setStateClass");}var _2bc={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";dojo.addClass(this._arrowWrapperNode||this._buttonNode,"dijit"+_2bc+"ArrowButton");},postCreate:function(){this._setupDropdown();this.inherited(arguments);},destroyDescendants:function(){if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onDropDownKeydown:function(e){this._seenKeydown=true;},_onKeyPress:function(e){if(this._opened&&e.charOrCode==dojo.keys.ESCAPE&&!e.shiftKey&&!e.ctrlKey&&!e.altKey){this.toggleDropDown();dojo.stopEvent(e);return;}this.inherited(arguments);},_onDropDownBlur:function(e){this._seenKeydown=false;},_onKey:function(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){return;}}if(d&&this._opened&&e.keyCode==dojo.keys.ESCAPE){this.toggleDropDown();return;}if(e.keyCode==dojo.keys.DOWN_ARROW||e.keyCode==dojo.keys.ENTER||e.charOrCode==" "){this._onDropDownMouse(e);}},_onBlur:function(){this.closeDropDown();this.inherited(arguments);},isLoaded:function(){return true;},loadDropDown:function(_2bd){_2bd();},toggleDropDown:function(){if(this.disabled||this.readOnly){return;}this.focus();var _2be=this.dropDown;if(!_2be){return;}if(!this._opened){if(!this.isLoaded()){this.loadDropDown(dojo.hitch(this,"openDropDown"));return;}else{this.openDropDown();}}else{this.closeDropDown();}},openDropDown:function(){var _2bf=this.dropDown;var _2c0=_2bf.domNode;var self=this;if(!this._preparedNode){dijit.popup.moveOffScreen(_2c0);this._preparedNode=true;if(_2c0.style.width){this._explicitDDWidth=true;}if(_2c0.style.height){this._explicitDDHeight=true;}}if(this.maxHeight||this.forceWidth||this.autoWidth){var _2c1={display:"",visibility:"hidden"};if(!this._explicitDDWidth){_2c1.width="";}if(!this._explicitDDHeight){_2c1.height="";}dojo.style(_2c0,_2c1);var mb=dojo.marginBox(_2c0);var _2c2=(this.maxHeight&&mb.h>this.maxHeight);dojo.style(_2c0,{overflow:_2c2?"auto":"hidden"});if(this.forceWidth){mb.w=this.domNode.offsetWidth;}else{if(this.autoWidth){mb.w=Math.max(mb.w,this.domNode.offsetWidth);}else{delete mb.w;}}if(_2c2){mb.h=this.maxHeight;if("w" in mb){mb.w+=16;}}else{delete mb.h;}delete mb.t;delete mb.l;if(dojo.isFunction(_2bf.resize)){_2bf.resize(mb);}else{dojo.marginBox(_2c0,mb);}}var _2c3=dijit.popup.open({parent:this,popup:_2bf,around:this._aroundNode,orient:dijit.getPopupAroundAlignment((this.dropDownPosition&&this.dropDownPosition.length)?this.dropDownPosition:["below"],this.isLeftToRight()),onExecute:function(){self.closeDropDown(true);},onCancel:function(){self.closeDropDown(true);},onClose:function(){dojo.attr(self._popupStateNode,"popupActive",false);dojo.removeClass(self._popupStateNode,"dijitHasDropDownOpen");self._opened=false;self.state="";}});dojo.attr(this._popupStateNode,"popupActive","true");dojo.addClass(self._popupStateNode,"dijitHasDropDownOpen");this._opened=true;this.state="Opened";return _2c3;},closeDropDown:function(_2c4){if(this._opened){dijit.popup.close(this.dropDown);if(_2c4){this.focus();}this._opened=false;this.state="";}}});}if(!dojo._hasResource["dijit.form.Button"]){dojo._hasResource["dijit.form.Button"]=true;dojo.provide("dijit.form.Button");dojo.declare("dijit.form.Button",dijit.form._FormWidget,{label:"",showLabel:true,iconClass:"",type:"button",baseClass:"dijitButton",templateString:dojo.cache("dijit.form","templates/Button.html","<span class=\"dijit dijitReset dijitLeft dijitInline\"\r\n\tdojoAttachEvent=\"onclick:_onButtonClick,onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\"\r\n\t><span class=\"dijitReset dijitRight dijitInline\"\r\n\t\t><span class=\"dijitReset dijitInline dijitButtonNode\"\r\n\t\t\t><button class=\"dijitReset dijitStretch dijitButtonContents\"\r\n\t\t\t\tdojoAttachPoint=\"titleNode,focusNode\"\r\n\t\t\t\t${nameAttrSetting} type=\"${type}\" value=\"${value}\" waiRole=\"button\" waiState=\"labelledby-${id}_label\"\r\n\t\t\t\t><span class=\"dijitReset dijitInline\" dojoAttachPoint=\"iconNode\"\r\n\t\t\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#10003;</span\r\n\t\t\t\t></span\r\n\t\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\r\n\t\t\t\t\tid=\"${id}_label\"\r\n\t\t\t\t\tdojoAttachPoint=\"containerNode\"\r\n\t\t\t\t></span\r\n\t\t\t></button\r\n\t\t></span\r\n\t></span\r\n></span>\r\n"),attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{label:{node:"containerNode",type:"innerHTML"},iconClass:{node:"iconNode",type:"class"}}),_onClick:function(e){if(this.disabled){return false;}this._clicked();return this.onClick(e);},_onButtonClick:function(e){if(this._onClick(e)===false){e.preventDefault();}else{if(this.type=="submit"&&!this.focusNode.form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _2c5=dijit.byNode(node);if(_2c5&&typeof _2c5._onSubmit=="function"){_2c5._onSubmit(e);break;}}}}},_setValueAttr:function(_2c6){var attr=this.attributeMap.value||"";if(this[attr.node||attr||"domNode"].tagName=="BUTTON"){if(_2c6!=this.value){console.debug("Cannot change the value attribute on a Button widget.");}}},_fillContent:function(_2c7){if(_2c7&&(!this.params||!("label" in this.params))){this.attr("label",_2c7.innerHTML);}},postCreate:function(){dojo.setSelectable(this.focusNode,false);this.inherited(arguments);},_setShowLabelAttr:function(val){if(this.containerNode){dojo.toggleClass(this.containerNode,"dijitDisplayNone",!val);}this.showLabel=val;},onClick:function(e){return true;},_clicked:function(e){},setLabel:function(_2c8){dojo.deprecated("dijit.form.Button.setLabel() is deprecated.  Use attr('label', ...) instead.","","2.0");this.attr("label",_2c8);},_setLabelAttr:function(_2c9){this.containerNode.innerHTML=this.label=_2c9;if(this.showLabel==false&&!this.params.title){this.titleNode.title=dojo.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});dojo.declare("dijit.form.DropDownButton",[dijit.form.Button,dijit._Container,dijit._HasDropDown],{baseClass:"dijitDropDownButton",templateString:dojo.cache("dijit.form","templates/DropDownButton.html","<span class=\"dijit dijitReset dijitLeft dijitInline\"\r\n\tdojoAttachPoint=\"_buttonNode\"\r\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\"\r\n\t><span class='dijitReset dijitRight dijitInline'\r\n\t\t><span class='dijitReset dijitInline dijitButtonNode'\r\n\t\t\t><button class=\"dijitReset dijitStretch dijitButtonContents\"\r\n\t\t\t\t${nameAttrSetting} type=\"${type}\" value=\"${value}\"\r\n\t\t\t\tdojoAttachPoint=\"focusNode,titleNode,_arrowWrapperNode\"\r\n\t\t\t\twaiRole=\"button\" waiState=\"haspopup-true,labelledby-${id}_label\"\r\n\t\t\t\t><span class=\"dijitReset dijitInline\"\r\n\t\t\t\t\tdojoAttachPoint=\"iconNode\"\r\n\t\t\t\t></span\r\n\t\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\r\n\t\t\t\t\tdojoAttachPoint=\"containerNode,_popupStateNode\"\r\n\t\t\t\t\tid=\"${id}_label\"\r\n\t\t\t\t></span\r\n\t\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\">&thinsp;</span\r\n\t\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\r\n\t\t\t></button\r\n\t\t></span\r\n\t></span\r\n></span>\r\n"),_fillContent:function(){if(this.srcNodeRef){var _2ca=dojo.query("*",this.srcNodeRef);dijit.form.DropDownButton.superclass._fillContent.call(this,_2ca[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown){var _2cb=dojo.query("[widgetId]",this.dropDownContainer)[0];this.dropDown=dijit.byNode(_2cb);delete this.dropDownContainer;}dijit.popup.moveOffScreen(this.dropDown.domNode);this.inherited(arguments);},isLoaded:function(){var _2cc=this.dropDown;return (!_2cc.href||_2cc.isLoaded);},loadDropDown:function(){var _2cd=this.dropDown;if(!_2cd){return;}if(!this.isLoaded()){var _2ce=dojo.connect(_2cd,"onLoad",this,function(){dojo.disconnect(_2ce);this.openDropDown();});_2cd.refresh();}else{this.openDropDown();}},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;}});dojo.declare("dijit.form.ComboButton",dijit.form.DropDownButton,{templateString:dojo.cache("dijit.form","templates/ComboButton.html","<table class='dijit dijitReset dijitInline dijitLeft'\r\n\tcellspacing='0' cellpadding='0' waiRole=\"presentation\"\r\n\t><tbody waiRole=\"presentation\"><tr waiRole=\"presentation\"\r\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\"><button id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\r\n\t\t\tdojoAttachEvent=\"onclick:_onButtonClick,onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse,onkeypress:_onButtonKeyPress\"  dojoAttachPoint=\"titleNode\"\r\n\t\t\twaiRole=\"button\" waiState=\"labelledby-${id}_label\"\r\n\t\t\t><div class=\"dijitReset dijitInline\" dojoAttachPoint=\"iconNode\" waiRole=\"presentation\"></div\r\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" dojoAttachPoint=\"containerNode\" waiRole=\"presentation\"></div\r\n\t\t></button></td\r\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\r\n\t\t\tdojoAttachPoint=\"_popupStateNode,focusNode,_buttonNode\"\r\n\t\t\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onkeypress:_onArrowKeyPress\"\r\n\t\t\tstateModifier=\"DownArrow\"\r\n\t\t\ttitle=\"${optionsTitle}\" ${nameAttrSetting}\r\n\t\t\twaiRole=\"button\" waiState=\"haspopup-true\"\r\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" waiRole=\"presentation\">&thinsp;</div\r\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" waiRole=\"presentation\">&#9660;</div\r\n\t\t></td\r\n\t></tr></tbody\r\n></table>\r\n"),attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{id:"",tabIndex:["focusNode","titleNode"],title:"titleNode"}),optionsTitle:"",baseClass:"dijitComboButton",_focusedNode:null,postCreate:function(){this.inherited(arguments);this._focalNodes=[this.titleNode,this._popupStateNode];var isIE=dojo.isIE;dojo.forEach(this._focalNodes,dojo.hitch(this,function(node){this.connect(node,isIE?"onactivate":"onfocus",this._onNodeFocus);this.connect(node,isIE?"ondeactivate":"onblur",this._onNodeBlur);}));if(isIE&&(isIE<8||dojo.isQuirks)){with(this.titleNode){style.width=scrollWidth+"px";this.connect(this.titleNode,"onresize",function(){setTimeout(function(){style.width=scrollWidth+"px";},0);});}}},_onNodeFocus:function(evt){this._focusedNode=evt.currentTarget;var fnc=this._focusedNode==this.focusNode?"dijitDownArrowButtonFocused":"dijitButtonContentsFocused";dojo.addClass(this._focusedNode,fnc);},_onNodeBlur:function(evt){var fnc=evt.currentTarget==this.focusNode?"dijitDownArrowButtonFocused":"dijitButtonContentsFocused";dojo.removeClass(evt.currentTarget,fnc);},_onBlur:function(){this.inherited(arguments);this._focusedNode=null;},_onButtonKeyPress:function(evt){if(evt.charOrCode==dojo.keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){dijit.focus(this._popupStateNode);dojo.stopEvent(evt);}},_onArrowKeyPress:function(evt){if(evt.charOrCode==dojo.keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){dijit.focus(this.titleNode);dojo.stopEvent(evt);}},focus:function(_2cf){dijit.focus(_2cf=="start"?this.titleNode:this._popupStateNode);}});dojo.declare("dijit.form.ToggleButton",dijit.form.Button,{baseClass:"dijitToggleButton",checked:false,attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{checked:"focusNode"}),_clicked:function(evt){this.attr("checked",!this.checked);},_setCheckedAttr:function(_2d0){this.checked=_2d0;dojo.attr(this.focusNode||this.domNode,"checked",_2d0);dijit.setWaiState(this.focusNode||this.domNode,"pressed",_2d0);this._setStateClass();this._handleOnChange(_2d0,true);},setChecked:function(_2d1){dojo.deprecated("setChecked("+_2d1+") is deprecated. Use attr('checked',"+_2d1+") instead.","","2.0");this.attr("checked",_2d1);},reset:function(){this._hasBeenBlurred=false;this.attr("checked",this.params.checked||false);}});}if(!dojo._hasResource["dijit.form.CheckBox"]){dojo._hasResource["dijit.form.CheckBox"]=true;dojo.provide("dijit.form.CheckBox");dojo.declare("dijit.form.CheckBox",dijit.form.ToggleButton,{templateString:dojo.cache("dijit.form","templates/CheckBox.html","<div class=\"dijitReset dijitInline\" waiRole=\"presentation\"\r\n\t><input\r\n\t \t${nameAttrSetting} type=\"${type}\" ${checkedAttrSetting}\r\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\r\n\t\tdojoAttachPoint=\"focusNode\"\r\n\t \tdojoAttachEvent=\"onmouseover:_onMouse,onmouseout:_onMouse,onclick:_onClick\"\r\n/></div>\r\n"),baseClass:"dijitCheckBox",type:"checkbox",value:"on",readOnly:false,attributeMap:dojo.delegate(dijit.form.ToggleButton.prototype.attributeMap,{readOnly:"focusNode"}),_setReadOnlyAttr:function(_2d2){this.readOnly=_2d2;dojo.attr(this.focusNode,"readOnly",_2d2);dijit.setWaiState(this.focusNode,"readonly",_2d2);this._setStateClass();},_setValueAttr:function(_2d3){if(typeof _2d3=="string"){this.value=_2d3;dojo.attr(this.focusNode,"value",_2d3);_2d3=true;}if(this._created){this.attr("checked",_2d3);}},_getValueAttr:function(){return (this.checked?this.value:false);},postMixInProperties:function(){if(this.value==""){this.value="on";}this.checkedAttrSetting=this.checked?"checked":"";this.inherited(arguments);},_fillContent:function(_2d4){},reset:function(){this._hasBeenBlurred=false;this.attr("checked",this.params.checked||false);this.value=this.params.value||"on";dojo.attr(this.focusNode,"value",this.value);},_onFocus:function(){if(this.id){dojo.query("label[for='"+this.id+"']").addClass("dijitFocusedLabel");}},_onBlur:function(){if(this.id){dojo.query("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");}},_onClick:function(e){if(this.readOnly){return false;}return this.inherited(arguments);}});dojo.declare("dijit.form.RadioButton",dijit.form.CheckBox,{type:"radio",baseClass:"dijitRadio",_setCheckedAttr:function(_2d5){this.inherited(arguments);if(!this._created){return;}if(_2d5){var _2d6=this;dojo.query("INPUT[type=radio]",this.focusNode.form||dojo.doc).forEach(function(_2d7){if(_2d7.name==_2d6.name&&_2d7!=_2d6.focusNode&&_2d7.form==_2d6.focusNode.form){var _2d8=dijit.getEnclosingWidget(_2d7);if(_2d8&&_2d8.checked){_2d8.attr("checked",false);}}});}},_clicked:function(e){if(!this.checked){this.attr("checked",true);}}});}if(!dojo._hasResource["dijit.form.RadioButton"]){dojo._hasResource["dijit.form.RadioButton"]=true;dojo.provide("dijit.form.RadioButton");}if(!dojo._hasResource["dijit.form.TextBox"]){dojo._hasResource["dijit.form.TextBox"]=true;dojo.provide("dijit.form.TextBox");dojo.declare("dijit.form.TextBox",dijit.form._FormValueWidget,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,templateString:dojo.cache("dijit.form","templates/TextBox.html","<input class=\"dijit dijitReset dijitLeft\" dojoAttachPoint='textbox,focusNode'\r\n\tdojoAttachEvent='onmouseenter:_onMouse,onmouseleave:_onMouse'\r\n\tautocomplete=\"off\" type=\"${type}\" ${nameAttrSetting}\r\n\t/>\r\n"),baseClass:"dijitTextBox",attributeMap:dojo.delegate(dijit.form._FormValueWidget.prototype.attributeMap,{maxLength:"focusNode"}),_getValueAttr:function(){return this.parse(this.attr("displayedValue"),this.constraints);},_setValueAttr:function(_2d9,_2da,_2db){var _2dc;if(_2d9!==undefined){_2dc=this.filter(_2d9);if(typeof _2db!="string"){if(_2dc!==null&&((typeof _2dc!="number")||!isNaN(_2dc))){_2db=this.filter(this.format(_2dc,this.constraints));}else{_2db="";}}}if(_2db!=null&&_2db!=undefined&&((typeof _2db)!="number"||!isNaN(_2db))&&this.textbox.value!=_2db){this.textbox.value=_2db;}this.inherited(arguments,[_2dc,_2da]);},displayedValue:"",getDisplayedValue:function(){dojo.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use attr('displayedValue') instead.","","2.0");return this.attr("displayedValue");},_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},setDisplayedValue:function(_2dd){dojo.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use attr('displayedValue', ...) instead.","","2.0");this.attr("displayedValue",_2dd);},_setDisplayedValueAttr:function(_2de){if(_2de===null||_2de===undefined){_2de="";}else{if(typeof _2de!="string"){_2de=String(_2de);}}this.textbox.value=_2de;this._setValueAttr(this.attr("value"),undefined,_2de);},format:function(_2df,_2e0){return ((_2df==null||_2df==undefined)?"":(_2df.toString?_2df.toString():_2df));},parse:function(_2e1,_2e2){return _2e1;},_refreshState:function(){},_onInput:function(e){if(e&&e.type&&/key/i.test(e.type)&&e.keyCode){switch(e.keyCode){case dojo.keys.SHIFT:case dojo.keys.ALT:case dojo.keys.CTRL:case dojo.keys.TAB:return;}}if(this.intermediateChanges){var _2e3=this;setTimeout(function(){_2e3._handleOnChange(_2e3.attr("value"),false);},0);}this._refreshState();},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);if(dojo.isMoz||dojo.isOpera){this.connect(this.textbox,"oninput",this._onInput);}else{this.connect(this.textbox,"onkeydown",this._onInput);this.connect(this.textbox,"onkeyup",this._onInput);this.connect(this.textbox,"onpaste",this._onInput);this.connect(this.textbox,"oncut",this._onInput);}},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=dojo.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.attr("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);if(this._selectOnClickHandle){this.disconnect(this._selectOnClickHandle);}if(this.selectOnClick&&dojo.isMoz){this.textbox.selectionStart=this.textbox.selectionEnd=undefined;}},_onFocus:function(by){if(this.disabled||this.readOnly){return;}if(this.selectOnClick&&by=="mouse"){this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);var _2e4;if(dojo.isIE){var _2e5=dojo.doc.selection.createRange();var _2e6=_2e5.parentElement();_2e4=_2e6==this.textbox&&_2e5.text.length==0;}else{_2e4=this.textbox.selectionStart==this.textbox.selectionEnd;}if(_2e4){dijit.selectInputText(this.textbox);}});}this._refreshState();this.inherited(arguments);},reset:function(){this.textbox.value="";this.inherited(arguments);}});dijit.selectInputText=function(_2e7,_2e8,stop){var _2e9=dojo.global;var _2ea=dojo.doc;_2e7=dojo.byId(_2e7);if(isNaN(_2e8)){_2e8=0;}if(isNaN(stop)){stop=_2e7.value?_2e7.value.length:0;}dijit.focus(_2e7);if(_2ea["selection"]&&dojo.body()["createTextRange"]){if(_2e7.createTextRange){var _2eb=_2e7.createTextRange();with(_2eb){collapse(true);moveStart("character",-99999);moveStart("character",_2e8);moveEnd("character",stop-_2e8);select();}}}else{if(_2e9["getSelection"]){if(_2e7.setSelectionRange){_2e7.setSelectionRange(_2e8,stop);}}}};}if(!dojo._hasResource["dijit.form._FormMixin"]){dojo._hasResource["dijit.form._FormMixin"]=true;dojo.provide("dijit.form._FormMixin");dojo.declare("dijit.form._FormMixin",null,{reset:function(){dojo.forEach(this.getDescendants(),function(_2ec){if(_2ec.reset){_2ec.reset();}});},validate:function(){var _2ed=false;return dojo.every(dojo.map(this.getDescendants(),function(_2ee){_2ee._hasBeenBlurred=true;var _2ef=_2ee.disabled||!_2ee.validate||_2ee.validate();if(!_2ef&&!_2ed){dijit.scrollIntoView(_2ee.containerNode||_2ee.domNode);_2ee.focus();_2ed=true;}return _2ef;}),function(item){return item;});},setValues:function(val){dojo.deprecated(this.declaredClass+"::setValues() is deprecated. Use attr('value', val) instead.","","2.0");return this.attr("value",val);},_setValueAttr:function(obj){var map={};dojo.forEach(this.getDescendants(),function(_2f0){if(!_2f0.name){return;}var _2f1=map[_2f0.name]||(map[_2f0.name]=[]);_2f1.push(_2f0);});for(var name in map){if(!map.hasOwnProperty(name)){continue;}var _2f2=map[name],_2f3=dojo.getObject(name,false,obj);if(_2f3===undefined){continue;}if(!dojo.isArray(_2f3)){_2f3=[_2f3];}if(typeof _2f2[0].checked=="boolean"){dojo.forEach(_2f2,function(w,i){w.attr("value",dojo.indexOf(_2f3,w.value)!=-1);});}else{if(_2f2[0].multiple){_2f2[0].attr("value",_2f3);}else{dojo.forEach(_2f2,function(w,i){w.attr("value",_2f3[i]);});}}}},getValues:function(){dojo.deprecated(this.declaredClass+"::getValues() is deprecated. Use attr('value') instead.","","2.0");return this.attr("value");},_getValueAttr:function(){var obj={};dojo.forEach(this.getDescendants(),function(_2f4){var name=_2f4.name;if(!name||_2f4.disabled){return;}var _2f5=_2f4.attr("value");if(typeof _2f4.checked=="boolean"){if(/Radio/.test(_2f4.declaredClass)){if(_2f5!==false){dojo.setObject(name,_2f5,obj);}else{_2f5=dojo.getObject(name,false,obj);if(_2f5===undefined){dojo.setObject(name,null,obj);}}}else{var ary=dojo.getObject(name,false,obj);if(!ary){ary=[];dojo.setObject(name,ary,obj);}if(_2f5!==false){ary.push(_2f5);}}}else{var prev=dojo.getObject(name,false,obj);if(typeof prev!="undefined"){if(dojo.isArray(prev)){prev.push(_2f5);}else{dojo.setObject(name,[prev,_2f5],obj);}}else{dojo.setObject(name,_2f5,obj);}}});return obj;},isValid:function(){this._invalidWidgets=dojo.filter(this.getDescendants(),function(_2f6){return !_2f6.disabled&&_2f6.isValid&&!_2f6.isValid();});return !this._invalidWidgets.length;},onValidStateChange:function(_2f7){},_widgetChange:function(_2f8){var _2f9=this._lastValidState;if(!_2f8||this._lastValidState===undefined){_2f9=this.isValid();if(this._lastValidState===undefined){this._lastValidState=_2f9;}}else{if(_2f8.isValid){this._invalidWidgets=dojo.filter(this._invalidWidgets||[],function(w){return (w!=_2f8);},this);if(!_2f8.isValid()&&!_2f8.attr("disabled")){this._invalidWidgets.push(_2f8);}_2f9=(this._invalidWidgets.length===0);}}if(_2f9!==this._lastValidState){this._lastValidState=_2f9;this.onValidStateChange(_2f9);}},connectChildren:function(){dojo.forEach(this._changeConnections,dojo.hitch(this,"disconnect"));var _2fa=this;var _2fb=this._changeConnections=[];dojo.forEach(dojo.filter(this.getDescendants(),function(item){return item.validate;}),function(_2fc){_2fb.push(_2fa.connect(_2fc,"validate",dojo.hitch(_2fa,"_widgetChange",_2fc)));_2fb.push(_2fa.connect(_2fc,"_setDisabledAttr",dojo.hitch(_2fa,"_widgetChange",_2fc)));});this._widgetChange(null);},startup:function(){this.inherited(arguments);this._changeConnections=[];this.connectChildren();}});}if(!dojo._hasResource["dijit.form.Form"]){dojo._hasResource["dijit.form.Form"]=true;dojo.provide("dijit.form.Form");dojo.declare("dijit.form.Form",[dijit._Widget,dijit._Templated,dijit.form._FormMixin],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"<form dojoAttachPoint='containerNode' dojoAttachEvent='onreset:_onReset,onsubmit:_onSubmit' ${nameAttrSetting}></form>",attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{action:"",method:"",encType:"","accept-charset":"",accept:"",target:""}),postMixInProperties:function(){this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";this.inherited(arguments);},execute:function(_2fd){},onExecute:function(){},_setEncTypeAttr:function(_2fe){this.encType=_2fe;dojo.attr(this.domNode,"encType",_2fe);if(dojo.isIE){this.domNode.encoding=_2fe;}},postCreate:function(){if(dojo.isIE&&this.srcNodeRef&&this.srcNodeRef.attributes){var item=this.srcNodeRef.attributes.getNamedItem("encType");if(item&&!item.specified&&(typeof item.value=="string")){this.attr("encType",item.value);}}this.inherited(arguments);},onReset:function(e){return true;},_onReset:function(e){var faux={returnValue:true,preventDefault:function(){this.returnValue=false;},stopPropagation:function(){},currentTarget:e.currentTarget,target:e.target};if(!(this.onReset(faux)===false)&&faux.returnValue){this.reset();}dojo.stopEvent(e);return false;},_onSubmit:function(e){var fp=dijit.form.Form.prototype;if(this.execute!=fp.execute||this.onExecute!=fp.onExecute){dojo.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0");this.onExecute();this.execute(this.getValues());}if(this.onSubmit(e)===false){dojo.stopEvent(e);}},onSubmit:function(e){return this.isValid();},submit:function(){if(!(this.onSubmit()===false)){this.containerNode.submit();}}});}if(!dojo._hasResource["dojo.regexp"]){dojo._hasResource["dojo.regexp"]=true;dojo.provide("dojo.regexp");dojo.regexp.escapeString=function(str,_2ff){return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){if(_2ff&&_2ff.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};dojo.regexp.buildGroupRE=function(arr,re,_300){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return dojo.regexp.group(b.join("|"),_300);};dojo.regexp.group=function(_301,_302){return "("+(_302?"?:":"")+_301+")";};}if(!dojo._hasResource["dojo.cookie"]){dojo._hasResource["dojo.cookie"]=true;dojo.provide("dojo.cookie");dojo.cookie=function(name,_303,_304){var c=document.cookie;if(arguments.length==1){var _305=c.match(new RegExp("(?:^|; )"+dojo.regexp.escapeString(name)+"=([^;]*)"));return _305?decodeURIComponent(_305[1]):undefined;}else{_304=_304||{};var exp=_304.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=_304.expires=d;}if(exp&&exp.toUTCString){_304.expires=exp.toUTCString();}_303=encodeURIComponent(_303);var _306=name+"="+_303,_307;for(_307 in _304){_306+="; "+_307;var _308=_304[_307];if(_308!==true){_306+="="+_308;}}document.cookie=_306;}};dojo.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};}if(!dojo._hasResource["dijit.form.ToggleButton"]){dojo._hasResource["dijit.form.ToggleButton"]=true;dojo.provide("dijit.form.ToggleButton");}if(!dojo._hasResource["dijit.layout.StackController"]){dojo._hasResource["dijit.layout.StackController"]=true;dojo.provide("dijit.layout.StackController");dojo.declare("dijit.layout.StackController",[dijit._Widget,dijit._Templated,dijit._Container],{templateString:"<span wairole='tablist' dojoAttachEvent='onkeypress' class='dijitStackController'></span>",containerId:"",buttonWidget:"dijit.layout._StackButton",postCreate:function(){dijit.setWaiRole(this.domNode,"tablist");this.pane2button={};this.pane2handles={};this.subscribe(this.containerId+"-startup","onStartup");this.subscribe(this.containerId+"-addChild","onAddChild");this.subscribe(this.containerId+"-removeChild","onRemoveChild");this.subscribe(this.containerId+"-selectChild","onSelectChild");this.subscribe(this.containerId+"-containerKeyPress","onContainerKeyPress");},onStartup:function(info){dojo.forEach(info.children,this.onAddChild,this);if(info.selected){this.onSelectChild(info.selected);}},destroy:function(){for(var pane in this.pane2button){this.onRemoveChild(dijit.byId(pane));}this.inherited(arguments);},onAddChild:function(page,_309){var _30a=dojo.doc.createElement("span");this.domNode.appendChild(_30a);var cls=dojo.getObject(this.buttonWidget);var _30b=new cls({id:this.id+"_"+page.id,label:page.title,showLabel:page.showTitle,iconClass:page.iconClass,closeButton:page.closable,title:page.tooltip},_30a);dijit.setWaiState(_30b.focusNode,"selected","false");this.pane2handles[page.id]=[this.connect(page,"attr",function(name,_30c){if(arguments.length==2){var _30d={title:"label",showTitle:"showLabel",iconClass:"iconClass",closable:"closeButton",tooltip:"title"}[name];if(_30d){_30b.attr(_30d,_30c);}}}),this.connect(_30b,"onClick",dojo.hitch(this,"onButtonClick",page)),this.connect(_30b,"onClickCloseButton",dojo.hitch(this,"onCloseButtonClick",page))];this.addChild(_30b,_309);this.pane2button[page.id]=_30b;page.controlButton=_30b;if(!this._currentChild){_30b.focusNode.setAttribute("tabIndex","0");dijit.setWaiState(_30b.focusNode,"selected","true");this._currentChild=page;}if(!this.isLeftToRight()&&dojo.isIE&&this._rectifyRtlTabList){this._rectifyRtlTabList();}},onRemoveChild:function(page){if(this._currentChild===page){this._currentChild=null;}dojo.forEach(this.pane2handles[page.id],this.disconnect,this);delete this.pane2handles[page.id];var _30e=this.pane2button[page.id];if(_30e){this.removeChild(_30e);delete this.pane2button[page.id];_30e.destroy();}delete page.controlButton;},onSelectChild:function(page){if(!page){return;}if(this._currentChild){var _30f=this.pane2button[this._currentChild.id];_30f.attr("checked",false);dijit.setWaiState(_30f.focusNode,"selected","false");_30f.focusNode.setAttribute("tabIndex","-1");}var _310=this.pane2button[page.id];_310.attr("checked",true);dijit.setWaiState(_310.focusNode,"selected","true");this._currentChild=page;_310.focusNode.setAttribute("tabIndex","0");var _311=dijit.byId(this.containerId);dijit.setWaiState(_311.containerNode,"labelledby",_310.id);},onButtonClick:function(page){var _312=dijit.byId(this.containerId);_312.selectChild(page);},onCloseButtonClick:function(page){var _313=dijit.byId(this.containerId);_313.closeChild(page);if(this._currentChild){var b=this.pane2button[this._currentChild.id];if(b){dijit.focus(b.focusNode||b.domNode);}}},adjacent:function(_314){if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition))){_314=!_314;}var _315=this.getChildren();var _316=dojo.indexOf(_315,this.pane2button[this._currentChild.id]);var _317=_314?1:_315.length-1;return _315[(_316+_317)%_315.length];},onkeypress:function(e){if(this.disabled||e.altKey){return;}var _318=null;if(e.ctrlKey||!e._djpage){var k=dojo.keys;switch(e.charOrCode){case k.LEFT_ARROW:case k.UP_ARROW:if(!e._djpage){_318=false;}break;case k.PAGE_UP:if(e.ctrlKey){_318=false;}break;case k.RIGHT_ARROW:case k.DOWN_ARROW:if(!e._djpage){_318=true;}break;case k.PAGE_DOWN:if(e.ctrlKey){_318=true;}break;case k.DELETE:if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);}dojo.stopEvent(e);break;default:if(e.ctrlKey){if(e.charOrCode===k.TAB){this.adjacent(!e.shiftKey).onClick();dojo.stopEvent(e);}else{if(e.charOrCode=="w"){if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);}dojo.stopEvent(e);}}}}if(_318!==null){this.adjacent(_318).onClick();dojo.stopEvent(e);}}},onContainerKeyPress:function(info){info.e._djpage=info.page;this.onkeypress(info.e);}});dojo.declare("dijit.layout._StackButton",dijit.form.ToggleButton,{tabIndex:"-1",postCreate:function(evt){dijit.setWaiRole((this.focusNode||this.domNode),"tab");this.inherited(arguments);},onClick:function(evt){dijit.focus(this.focusNode);},onClickCloseButton:function(evt){evt.stopPropagation();}});}if(!dojo._hasResource["dijit.layout.StackContainer"]){dojo._hasResource["dijit.layout.StackContainer"]=true;dojo.provide("dijit.layout.StackContainer");dojo.declare("dijit.layout.StackContainer",dijit.layout._LayoutWidget,{doLayout:true,persist:false,baseClass:"dijitStackContainer",postCreate:function(){this.inherited(arguments);dojo.addClass(this.domNode,"dijitLayoutContainer");dijit.setWaiRole(this.containerNode,"tabpanel");this.connect(this.domNode,"onkeypress",this._onKeyPress);},startup:function(){if(this._started){return;}var _319=this.getChildren();dojo.forEach(_319,this._setupChild,this);if(this.persist){this.selectedChildWidget=dijit.byId(dojo.cookie(this.id+"_selectedChild"));}else{dojo.some(_319,function(_31a){if(_31a.selected){this.selectedChildWidget=_31a;}return _31a.selected;},this);}var _31b=this.selectedChildWidget;if(!_31b&&_319[0]){_31b=this.selectedChildWidget=_319[0];_31b.selected=true;}dojo.publish(this.id+"-startup",[{children:_319,selected:_31b}]);this.inherited(arguments);},resize:function(){var _31c=this.selectedChildWidget;if(_31c&&!this._hasBeenShown){this._hasBeenShown=true;this._showChild(_31c);}this.inherited(arguments);},_setupChild:function(_31d){this.inherited(arguments);dojo.removeClass(_31d.domNode,"dijitVisible");dojo.addClass(_31d.domNode,"dijitHidden");_31d.domNode.title="";},addChild:function(_31e,_31f){this.inherited(arguments);if(this._started){dojo.publish(this.id+"-addChild",[_31e,_31f]);this.layout();if(!this.selectedChildWidget){this.selectChild(_31e);}}},removeChild:function(page){this.inherited(arguments);if(this._started){dojo.publish(this.id+"-removeChild",[page]);}if(this._beingDestroyed){return;}if(this._started){this.layout();}if(this.selectedChildWidget===page){this.selectedChildWidget=undefined;if(this._started){var _320=this.getChildren();if(_320.length){this.selectChild(_320[0]);}}}},selectChild:function(page){page=dijit.byId(page);if(this.selectedChildWidget!=page){this._transition(page,this.selectedChildWidget);this.selectedChildWidget=page;dojo.publish(this.id+"-selectChild",[page]);if(this.persist){dojo.cookie(this.id+"_selectedChild",this.selectedChildWidget.id);}}},_transition:function(_321,_322){if(_322){this._hideChild(_322);}this._showChild(_321);if(_321.resize){if(this.doLayout){_321.resize(this._containerContentBox||this._contentBox);}else{_321.resize();}}},_adjacent:function(_323){var _324=this.getChildren();var _325=dojo.indexOf(_324,this.selectedChildWidget);_325+=_323?1:_324.length-1;return _324[_325%_324.length];},forward:function(){this.selectChild(this._adjacent(true));},back:function(){this.selectChild(this._adjacent(false));},_onKeyPress:function(e){dojo.publish(this.id+"-containerKeyPress",[{e:e,page:this}]);},layout:function(){if(this.doLayout&&this.selectedChildWidget&&this.selectedChildWidget.resize){this.selectedChildWidget.resize(this._contentBox);}},_showChild:function(page){var _326=this.getChildren();page.isFirstChild=(page==_326[0]);page.isLastChild=(page==_326[_326.length-1]);page.selected=true;dojo.removeClass(page.domNode,"dijitHidden");dojo.addClass(page.domNode,"dijitVisible");page._onShow();},_hideChild:function(page){page.selected=false;dojo.removeClass(page.domNode,"dijitVisible");dojo.addClass(page.domNode,"dijitHidden");page.onHide();},closeChild:function(page){var _327=page.onClose(this,page);if(_327){this.removeChild(page);page.destroyRecursive();}},destroyDescendants:function(_328){dojo.forEach(this.getChildren(),function(_329){this.removeChild(_329);_329.destroyRecursive(_328);},this);}});dojo.extend(dijit._Widget,{selected:false,closable:false,iconClass:"",showTitle:true,onClose:function(){return true;}});}if(!dojo._hasResource["dijit.layout._TabContainerBase"]){dojo._hasResource["dijit.layout._TabContainerBase"]=true;dojo.provide("dijit.layout._TabContainerBase");dojo.declare("dijit.layout._TabContainerBase",[dijit.layout.StackContainer,dijit._Templated],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:false,nested:false,templateString:dojo.cache("dijit.layout","templates/TabContainer.html","<div class=\"dijitTabContainer\">\r\n\t<div class=\"dijitTabListWrapper\" dojoAttachPoint=\"tablistNode\"></div>\r\n\t<div dojoAttachPoint=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer\"></div>\r\n\t<div class=\"dijitTabPaneWrapper ${baseClass}-container\" dojoAttachPoint=\"containerNode\"></div>\r\n</div>\r\n"),postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");this.srcNodeRef&&dojo.style(this.srcNodeRef,"visibility","hidden");this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.tablist=this._makeController(this.tablistNode);if(!this.doLayout){dojo.addClass(this.domNode,"dijitTabContainerNoLayout");}if(this.nested){dojo.addClass(this.domNode,"dijitTabContainerNested");dojo.addClass(this.tablist.containerNode,"dijitTabContainerTabListNested");dojo.addClass(this.tablistSpacer,"dijitTabContainerSpacerNested");dojo.addClass(this.containerNode,"dijitTabPaneWrapperNested");}else{dojo.addClass(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"));}},_setupChild:function(tab){dojo.addClass(tab.domNode,"dijitTabPane");this.inherited(arguments);},startup:function(){if(this._started){return;}this.tablist.startup();this.inherited(arguments);},layout:function(){if(!this._contentBox||typeof (this._contentBox.l)=="undefined"){return;}var sc=this.selectedChildWidget;if(this.doLayout){var _32a=this.tabPosition.replace(/-h/,"");this.tablist.layoutAlign=_32a;var _32b=[this.tablist,{domNode:this.tablistSpacer,layoutAlign:_32a},{domNode:this.containerNode,layoutAlign:"client"}];dijit.layout.layoutChildren(this.domNode,this._contentBox,_32b);this._containerContentBox=dijit.layout.marginBox2contentBox(this.containerNode,_32b[2]);if(sc&&sc.resize){sc.resize(this._containerContentBox);}}else{if(this.tablist.resize){this.tablist.resize({w:dojo.contentBox(this.domNode).w});}if(sc&&sc.resize){sc.resize();}}},destroy:function(){if(this.tablist){this.tablist.destroy();}this.inherited(arguments);}});}if(!dojo._hasResource["dijit._KeyNavContainer"]){dojo._hasResource["dijit._KeyNavContainer"]=true;dojo.provide("dijit._KeyNavContainer");dojo.declare("dijit._KeyNavContainer",dijit._Container,{tabIndex:"0",_keyNavCodes:{},connectKeyNavHandlers:function(_32c,_32d){var _32e=(this._keyNavCodes={});var prev=dojo.hitch(this,this.focusPrev);var next=dojo.hitch(this,this.focusNext);dojo.forEach(_32c,function(code){_32e[code]=prev;});dojo.forEach(_32d,function(code){_32e[code]=next;});this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus");},startupKeyNavChildren:function(){dojo.forEach(this.getChildren(),dojo.hitch(this,"_startupChild"));},addChild:function(_32f,_330){dijit._KeyNavContainer.superclass.addChild.apply(this,arguments);this._startupChild(_32f);},focus:function(){this.focusFirstChild();},focusFirstChild:function(){var _331=this._getFirstFocusableChild();if(_331){this.focusChild(_331);}},focusNext:function(){var _332=this._getNextFocusableChild(this.focusedChild,1);this.focusChild(_332);},focusPrev:function(){var _333=this._getNextFocusableChild(this.focusedChild,-1);this.focusChild(_333,true);},focusChild:function(_334,last){if(this.focusedChild&&_334!==this.focusedChild){this._onChildBlur(this.focusedChild);}_334.focus(last?"end":"start");this.focusedChild=_334;},_startupChild:function(_335){_335.attr("tabIndex","-1");this.connect(_335,"_onFocus",function(){_335.attr("tabIndex",this.tabIndex);});this.connect(_335,"_onBlur",function(){_335.attr("tabIndex","-1");});},_onContainerFocus:function(evt){if(evt.target!==this.domNode){return;}this.focusFirstChild();dojo.attr(this.domNode,"tabIndex","-1");},_onBlur:function(evt){if(this.tabIndex){dojo.attr(this.domNode,"tabIndex",this.tabIndex);}this.inherited(arguments);},_onContainerKeypress:function(evt){if(evt.ctrlKey||evt.altKey){return;}var func=this._keyNavCodes[evt.charOrCode];if(func){func();dojo.stopEvent(evt);}},_onChildBlur:function(_336){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getNextFocusableChild:function(_337,dir){if(_337){_337=this._getSiblingOfChild(_337,dir);}var _338=this.getChildren();for(var i=0;i<_338.length;i++){if(!_337){_337=_338[(dir>0)?0:(_338.length-1)];}if(_337.isFocusable()){return _337;}_337=this._getSiblingOfChild(_337,dir);}return null;}});}if(!dojo._hasResource["dijit.MenuItem"]){dojo._hasResource["dijit.MenuItem"]=true;dojo.provide("dijit.MenuItem");dojo.declare("dijit.MenuItem",[dijit._Widget,dijit._Templated,dijit._Contained],{templateString:dojo.cache("dijit","templates/MenuItem.html","<tr class=\"dijitReset dijitMenuItem\" dojoAttachPoint=\"focusNode\" waiRole=\"menuitem\" tabIndex=\"-1\"\r\n\t\tdojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\r\n\t<td class=\"dijitReset\" waiRole=\"presentation\">\r\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuItemIcon\" dojoAttachPoint=\"iconNode\">\r\n\t</td>\r\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" dojoAttachPoint=\"containerNode\"></td>\r\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" dojoAttachPoint=\"accelKeyNode\"></td>\r\n\t<td class=\"dijitReset dijitMenuArrowCell\" waiRole=\"presentation\">\r\n\t\t<div dojoAttachPoint=\"arrowWrapper\" style=\"visibility: hidden\">\r\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\">\r\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\r\n\t\t</div>\r\n\t</td>\r\n</tr>\r\n"),attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{label:{node:"containerNode",type:"innerHTML"},iconClass:{node:"iconNode",type:"class"}}),label:"",iconClass:"",accelKey:"",disabled:false,_fillContent:function(_339){if(_339&&!("label" in this.params)){this.attr("label",_339.innerHTML);}},postCreate:function(){dojo.setSelectable(this.domNode,false);var _33a=this.id+"_text";dojo.attr(this.containerNode,"id",_33a);if(this.accelKeyNode){dojo.attr(this.accelKeyNode,"id",this.id+"_accel");_33a+=" "+this.id+"_accel";}dijit.setWaiState(this.domNode,"labelledby",_33a);},_onHover:function(){dojo.addClass(this.domNode,"dijitMenuItemHover");this.getParent().onItemHover(this);},_onUnhover:function(){dojo.removeClass(this.domNode,"dijitMenuItemHover");this.getParent().onItemUnhover(this);},_onClick:function(evt){this.getParent().onItemClick(this,evt);dojo.stopEvent(evt);},onClick:function(evt){},focus:function(){try{if(dojo.isIE==8){this.containerNode.focus();}dijit.focus(this.focusNode);}catch(e){}},_onFocus:function(){this._setSelected(true);this.getParent()._onItemFocus(this);this.inherited(arguments);},_setSelected:function(_33b){dojo.toggleClass(this.domNode,"dijitMenuItemSelected",_33b);},setLabel:function(_33c){dojo.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use attr('label', ...) instead.","","2.0");this.attr("label",_33c);},setDisabled:function(_33d){dojo.deprecated("dijit.Menu.setDisabled() is deprecated.  Use attr('disabled', bool) instead.","","2.0");this.attr("disabled",_33d);},_setDisabledAttr:function(_33e){this.disabled=_33e;dojo[_33e?"addClass":"removeClass"](this.domNode,"dijitMenuItemDisabled");dijit.setWaiState(this.focusNode,"disabled",_33e?"true":"false");},_setAccelKeyAttr:function(_33f){this.accelKey=_33f;this.accelKeyNode.style.display=_33f?"":"none";this.accelKeyNode.innerHTML=_33f;dojo.attr(this.containerNode,"colSpan",_33f?"1":"2");}});}if(!dojo._hasResource["dijit.PopupMenuItem"]){dojo._hasResource["dijit.PopupMenuItem"]=true;dojo.provide("dijit.PopupMenuItem");dojo.declare("dijit.PopupMenuItem",dijit.MenuItem,{_fillContent:function(){if(this.srcNodeRef){var _340=dojo.query("*",this.srcNodeRef);dijit.PopupMenuItem.superclass._fillContent.call(this,_340[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}this.inherited(arguments);if(!this.popup){var node=dojo.query("[widgetId]",this.dropDownContainer)[0];this.popup=dijit.byNode(node);}dojo.body().appendChild(this.popup.domNode);this.popup.domNode.style.display="none";if(this.arrowWrapper){dojo.style(this.arrowWrapper,"visibility","");}dijit.setWaiState(this.focusNode,"haspopup","true");},destroyDescendants:function(){if(this.popup){if(!this.popup._destroyed){this.popup.destroyRecursive();}delete this.popup;}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.CheckedMenuItem"]){dojo._hasResource["dijit.CheckedMenuItem"]=true;dojo.provide("dijit.CheckedMenuItem");dojo.declare("dijit.CheckedMenuItem",dijit.MenuItem,{templateString:dojo.cache("dijit","templates/CheckedMenuItem.html","<tr class=\"dijitReset dijitMenuItem\" dojoAttachPoint=\"focusNode\" waiRole=\"menuitemcheckbox\" tabIndex=\"-1\"\r\n\t\tdojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\r\n\t<td class=\"dijitReset\" waiRole=\"presentation\">\r\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuItemIcon dijitCheckedMenuItemIcon\" dojoAttachPoint=\"iconNode\">\r\n\t\t<span class=\"dijitCheckedMenuItemIconChar\">&#10003;</span>\r\n\t</td>\r\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" dojoAttachPoint=\"containerNode,labelNode\"></td>\r\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" dojoAttachPoint=\"accelKeyNode\"></td>\r\n\t<td class=\"dijitReset dijitMenuArrowCell\" waiRole=\"presentation\">\r\n\t</td>\r\n</tr>\r\n"),checked:false,_setCheckedAttr:function(_341){dojo.toggleClass(this.domNode,"dijitCheckedMenuItemChecked",_341);dijit.setWaiState(this.domNode,"checked",_341);this.checked=_341;},onChange:function(_342){},_onClick:function(e){if(!this.disabled){this.attr("checked",!this.checked);this.onChange(this.checked);}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.MenuSeparator"]){dojo._hasResource["dijit.MenuSeparator"]=true;dojo.provide("dijit.MenuSeparator");dojo.declare("dijit.MenuSeparator",[dijit._Widget,dijit._Templated,dijit._Contained],{templateString:dojo.cache("dijit","templates/MenuSeparator.html","<tr class=\"dijitMenuSeparator\">\r\n\t<td colspan=\"4\">\r\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\r\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\r\n\t</td>\r\n</tr>\r\n"),postCreate:function(){dojo.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});}if(!dojo._hasResource["dijit.Menu"]){dojo._hasResource["dijit.Menu"]=true;dojo.provide("dijit.Menu");dojo.declare("dijit._MenuBase",[dijit._Widget,dijit._Templated,dijit._KeyNavContainer],{parentMenu:null,popupDelay:500,startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_343){_343.startup();});this.startupKeyNavChildren();this.inherited(arguments);},onExecute:function(){},onCancel:function(_344){},_moveToPopup:function(evt){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){this.focusedChild._onClick(evt);}else{var _345=this._getTopMenu();if(_345&&_345._isMenuBar){_345.focusNext();}}},_onPopupHover:function(evt){if(this.currentPopup&&this.currentPopup._pendingClose_timer){var _346=this.currentPopup.parentMenu;if(_346.focusedChild){_346.focusedChild._setSelected(false);}_346.focusedChild=this.currentPopup.from_item;_346.focusedChild._setSelected(true);this._stopPendingCloseTimer(this.currentPopup);}},onItemHover:function(item){if(this.isActive){this.focusChild(item);if(this.focusedChild.popup&&!this.focusedChild.disabled&&!this.hover_timer){this.hover_timer=setTimeout(dojo.hitch(this,"_openPopup"),this.popupDelay);}}if(this.focusedChild){this.focusChild(item);}this._hoveredChild=item;},_onChildBlur:function(item){this._stopPopupTimer();item._setSelected(false);var _347=item.popup;if(_347){this._stopPendingCloseTimer(_347);_347._pendingClose_timer=setTimeout(function(){_347._pendingClose_timer=null;if(_347.parentMenu){_347.parentMenu.currentPopup=null;}dijit.popup.close(_347);},this.popupDelay);}},onItemUnhover:function(item){if(this.isActive){this._stopPopupTimer();}if(this._hoveredChild==item){this._hoveredChild=null;}},_stopPopupTimer:function(){if(this.hover_timer){clearTimeout(this.hover_timer);this.hover_timer=null;}},_stopPendingCloseTimer:function(_348){if(_348._pendingClose_timer){clearTimeout(_348._pendingClose_timer);_348._pendingClose_timer=null;}},_stopFocusTimer:function(){if(this._focus_timer){clearTimeout(this._focus_timer);this._focus_timer=null;}},_getTopMenu:function(){for(var top=this;top.parentMenu;top=top.parentMenu){}return top;},onItemClick:function(item,evt){if(item.disabled){return false;}if(typeof this.isShowingNow=="undefined"){this._markActive();}this.focusChild(item);if(item.popup){this._openPopup();}else{this.onExecute();item.onClick(evt);}},_openPopup:function(){this._stopPopupTimer();var _349=this.focusedChild;if(!_349){return;}var _34a=_349.popup;if(_34a.isShowingNow){return;}if(this.currentPopup){this._stopPendingCloseTimer(this.currentPopup);dijit.popup.close(this.currentPopup);}_34a.parentMenu=this;_34a.from_item=_349;var self=this;dijit.popup.open({parent:this,popup:_34a,around:_349.domNode,orient:this._orient||(this.isLeftToRight()?{"TR":"TL","TL":"TR","BR":"BL","BL":"BR"}:{"TL":"TR","TR":"TL","BL":"BR","BR":"BL"}),onCancel:function(){self.focusChild(_349);self._cleanUp();_349._setSelected(true);self.focusedChild=_349;},onExecute:dojo.hitch(this,"_cleanUp")});this.currentPopup=_34a;_34a.connect(_34a.domNode,"onmouseenter",dojo.hitch(self,"_onPopupHover"));if(_34a.focus){_34a._focus_timer=setTimeout(dojo.hitch(_34a,function(){this._focus_timer=null;this.focus();}),0);}},_markActive:function(){this.isActive=true;dojo.addClass(this.domNode,"dijitMenuActive");dojo.removeClass(this.domNode,"dijitMenuPassive");},onOpen:function(e){this.isShowingNow=true;this._markActive();},_markInactive:function(){this.isActive=false;dojo.removeClass(this.domNode,"dijitMenuActive");dojo.addClass(this.domNode,"dijitMenuPassive");},onClose:function(){this._stopFocusTimer();this._markInactive();this.isShowingNow=false;this.parentMenu=null;},_closeChild:function(){this._stopPopupTimer();if(this.focusedChild){this.focusedChild._setSelected(false);this.focusedChild._onUnhover();this.focusedChild=null;}if(this.currentPopup){dijit.popup.close(this.currentPopup);this.currentPopup=null;}},_onItemFocus:function(item){if(this._hoveredChild&&this._hoveredChild!=item){this._hoveredChild._onUnhover();}},_onBlur:function(){this._cleanUp();this.inherited(arguments);},_cleanUp:function(){this._closeChild();if(typeof this.isShowingNow=="undefined"){this._markInactive();}}});dojo.declare("dijit.Menu",dijit._MenuBase,{constructor:function(){this._bindings=[];},templateString:dojo.cache("dijit","templates/Menu.html","<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" waiRole=\"menu\" tabIndex=\"${tabIndex}\" dojoAttachEvent=\"onkeypress:_onKeyPress\">\r\n\t<tbody class=\"dijitReset\" dojoAttachPoint=\"containerNode\"></tbody>\r\n</table>\r\n"),targetNodeIds:[],contextMenuForWindow:false,leftClickToOpen:false,refocus:true,_contextMenuWithMouse:false,postCreate:function(){if(this.contextMenuForWindow){this.bindDomNode(dojo.body());}else{dojo.forEach(this.targetNodeIds,this.bindDomNode,this);}var k=dojo.keys,l=this.isLeftToRight();this._openSubMenuKey=l?k.RIGHT_ARROW:k.LEFT_ARROW;this._closeSubMenuKey=l?k.LEFT_ARROW:k.RIGHT_ARROW;this.connectKeyNavHandlers([k.UP_ARROW],[k.DOWN_ARROW]);},_onKeyPress:function(evt){if(evt.ctrlKey||evt.altKey){return;}switch(evt.charOrCode){case this._openSubMenuKey:this._moveToPopup(evt);dojo.stopEvent(evt);break;case this._closeSubMenuKey:if(this.parentMenu){if(this.parentMenu._isMenuBar){this.parentMenu.focusPrev();}else{this.onCancel(false);}}else{dojo.stopEvent(evt);}break;}},_iframeContentWindow:function(_34b){var win=dijit.getDocumentWindow(this._iframeContentDocument(_34b))||this._iframeContentDocument(_34b)["__parent__"]||(_34b.name&&dojo.doc.frames[_34b.name])||null;return win;},_iframeContentDocument:function(_34c){var doc=_34c.contentDocument||(_34c.contentWindow&&_34c.contentWindow.document)||(_34c.name&&dojo.doc.frames[_34c.name]&&dojo.doc.frames[_34c.name].document)||null;return doc;},bindDomNode:function(node){node=dojo.byId(node);var cn;if(node.tagName.toLowerCase()=="iframe"){var _34d=node,win=this._iframeContentWindow(_34d);cn=dojo.withGlobal(win,dojo.body);}else{cn=(node==dojo.body()?dojo.doc.documentElement:node);}var _34e={node:node,iframe:_34d};dojo.attr(node,"_dijitMenu"+this.id,this._bindings.push(_34e));var _34f=dojo.hitch(this,function(cn){return [dojo.connect(cn,(this.leftClickToOpen)?"onclick":"oncontextmenu",this,function(evt){this._openMyself(evt,cn,_34d);}),dojo.connect(cn,"onkeydown",this,"_contextKey"),dojo.connect(cn,"onmousedown",this,"_contextMouse")];});_34e.connects=cn?_34f(cn):[];if(_34d){_34e.onloadHandler=dojo.hitch(this,function(){var win=this._iframeContentWindow(_34d);cn=dojo.withGlobal(win,dojo.body);_34e.connects=_34f(cn);});if(_34d.addEventListener){_34d.addEventListener("load",_34e.onloadHandler,false);}else{_34d.attachEvent("onload",_34e.onloadHandler);}}},unBindDomNode:function(_350){var node;try{node=dojo.byId(_350);}catch(e){return;}var _351="_dijitMenu"+this.id;if(node&&dojo.hasAttr(node,_351)){var bid=dojo.attr(node,_351)-1,b=this._bindings[bid];dojo.forEach(b.connects,dojo.disconnect);var _352=b.iframe;if(_352){if(_352.removeEventListener){_352.removeEventListener("load",b.onloadHandler,false);}else{_352.detachEvent("onload",b.onloadHandler);}}dojo.removeAttr(node,_351);delete this._bindings[bid];}},_contextKey:function(e){this._contextMenuWithMouse=false;if(e.keyCode==dojo.keys.F10){dojo.stopEvent(e);if(e.shiftKey&&e.type=="keydown"){var _353={target:e.target,pageX:e.pageX,pageY:e.pageY};_353.preventDefault=_353.stopPropagation=function(){};window.setTimeout(dojo.hitch(this,function(){this._openMyself(_353);}),1);}}},_contextMouse:function(e){this._contextMenuWithMouse=true;},_openMyself:function(e,node,_354){if(this.leftClickToOpen&&e.button>0){return;}dojo.stopEvent(e);var x,y;if(dojo.isSafari||this._contextMenuWithMouse){x=e.pageX;y=e.pageY;if(_354){var od=e.target.ownerDocument,ifc=dojo.position(_354,true),win=this._iframeContentWindow(_354),_355=dojo.withGlobal(win,"_docScroll",dojo);var cs=dojo.getComputedStyle(_354),tp=dojo._toPixelValue,left=(dojo.isIE&&dojo.isQuirks?0:tp(_354,cs.paddingLeft))+(dojo.isIE&&dojo.isQuirks?tp(_354,cs.borderLeftWidth):0),top=(dojo.isIE&&dojo.isQuirks?0:tp(_354,cs.paddingTop))+(dojo.isIE&&dojo.isQuirks?tp(_354,cs.borderTopWidth):0);x+=ifc.x+left-_355.x;y+=ifc.y+top-_355.y;}}else{var _356=dojo.position(e.target,true);x=_356.x+10;y=_356.y+10;}var self=this;var _357=dijit.getFocus(this);function _358(){if(self.refocus){dijit.focus(_357);}dijit.popup.close(self);};dijit.popup.open({popup:this,x:x,y:y,onExecute:_358,onCancel:_358,orient:this.isLeftToRight()?"L":"R"});this.focus();this._onBlur=function(){this.inherited("_onBlur",arguments);dijit.popup.close(this);};},uninitialize:function(){dojo.forEach(this._bindings,function(b){if(b){this.unBindDomNode(b.node);}},this);this.inherited(arguments);}});}if(!dojo._hasResource["dijit.layout.TabController"]){dojo._hasResource["dijit.layout.TabController"]=true;dojo.provide("dijit.layout.TabController");dojo.declare("dijit.layout.TabController",dijit.layout.StackController,{templateString:"<div wairole='tablist' dojoAttachEvent='onkeypress:onkeypress'></div>",tabPosition:"top",buttonWidget:"dijit.layout._TabButton",_rectifyRtlTabList:function(){if(0>=this.tabPosition.indexOf("-h")){return;}if(!this.pane2button){return;}var _359=0;for(var pane in this.pane2button){var ow=this.pane2button[pane].innerDiv.scrollWidth;_359=Math.max(_359,ow);}for(pane in this.pane2button){this.pane2button[pane].innerDiv.style.width=_359+"px";}}});dojo.declare("dijit.layout._TabButton",dijit.layout._StackButton,{baseClass:"dijitTab",templateString:dojo.cache("dijit.layout","templates/_TabButton.html","<div waiRole=\"presentation\" dojoAttachPoint=\"titleNode\" dojoAttachEvent='onclick:onClick,onmouseenter:_onMouse,onmouseleave:_onMouse'>\r\n    <div waiRole=\"presentation\" class='dijitTabInnerDiv' dojoAttachPoint='innerDiv'>\r\n        <div waiRole=\"presentation\" class='dijitTabContent' dojoAttachPoint='tabContent,focusNode'>\r\n\t        <img src=\"${_blankGif}\" alt=\"\" dojoAttachPoint='iconNode' waiRole=\"presentation\"/>\r\n\t        <span dojoAttachPoint='containerNode' class='tabLabel'></span>\r\n\t        <span class=\"closeButton\" dojoAttachPoint='closeNode'\r\n\t        \t\tdojoAttachEvent='onclick: onClickCloseButton, onmouseenter: _onCloseButtonEnter, onmouseleave: _onCloseButtonLeave'>\r\n\t        \t<img src=\"${_blankGif}\" alt=\"\" dojoAttachPoint='closeIcon' class='closeImage' waiRole=\"presentation\"/>\r\n\t            <span dojoAttachPoint='closeText' class='closeText'>x</span>\r\n\t        </span>\r\n        </div>\r\n    </div>\r\n</div>\r\n"),scrollOnFocus:false,postMixInProperties:function(){if(!this.iconClass){this.iconClass="dijitTabButtonIcon";}},postCreate:function(){this.inherited(arguments);dojo.setSelectable(this.containerNode,false);if(this.iconNode.className=="dijitTabButtonIcon"){dojo.style(this.iconNode,"width","1px");}},startup:function(){this.inherited(arguments);var n=this.domNode;setTimeout(function(){n.className=n.className;},1);},_setCloseButtonAttr:function(disp){this.closeButton=disp;dojo.toggleClass(this.innerDiv,"dijitClosable",disp);this.closeNode.style.display=disp?"":"none";if(disp){var _35a=dojo.i18n.getLocalization("dijit","common");if(this.closeNode){dojo.attr(this.closeNode,"title",_35a.itemClose);if(dojo.isIE<8){dojo.attr(this.closeIcon,"title",_35a.itemClose);}}var _35a=dojo.i18n.getLocalization("dijit","common");this._closeMenu=new dijit.Menu({id:this.id+"_Menu",targetNodeIds:[this.domNode]});this._closeMenu.addChild(new dijit.MenuItem({label:_35a.itemClose,onClick:dojo.hitch(this,"onClickCloseButton")}));}else{if(this._closeMenu){this._closeMenu.destroyRecursive();delete this._closeMenu;}}},destroy:function(){if(this._closeMenu){this._closeMenu.destroyRecursive();delete this._closeMenu;}this.inherited(arguments);},_onCloseButtonEnter:function(){dojo.addClass(this.closeNode,"closeButton-hover");},_onCloseButtonLeave:function(){dojo.removeClass(this.closeNode,"closeButton-hover");}});}if(!dojo._hasResource["dijit.layout.ScrollingTabController"]){dojo._hasResource["dijit.layout.ScrollingTabController"]=true;dojo.provide("dijit.layout.ScrollingTabController");dojo.declare("dijit.layout.ScrollingTabController",dijit.layout.TabController,{templateString:dojo.cache("dijit.layout","templates/ScrollingTabController.html","<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\r\n\t<div dojoType=\"dijit.layout._ScrollingTabControllerButton\" buttonType=\"menuBtn\" buttonClass=\"tabStripMenuButton\"\r\n\t\t\ttabPosition=\"${tabPosition}\" dojoAttachPoint=\"_menuBtn\" showLabel=false>&darr;</div>\r\n\t<div dojoType=\"dijit.layout._ScrollingTabControllerButton\" buttonType=\"leftBtn\" buttonClass=\"tabStripSlideButtonLeft\"\r\n\t\t\ttabPosition=\"${tabPosition}\" dojoAttachPoint=\"_leftBtn\" dojoAttachEvent=\"onClick: doSlideLeft\" showLabel=false>&larr;</div>\r\n\t<div dojoType=\"dijit.layout._ScrollingTabControllerButton\" buttonType=\"rightBtn\" buttonClass=\"tabStripSlideButtonRight\"\r\n\t\t\ttabPosition=\"${tabPosition}\" dojoAttachPoint=\"_rightBtn\" dojoAttachEvent=\"onClick: doSlideRight\" showLabel=false>&rarr;</div>\r\n\t<div class='dijitTabListWrapper' dojoAttachPoint='tablistWrapper'>\r\n\t\t<div wairole='tablist' dojoAttachEvent='onkeypress:onkeypress'\r\n\t\t\t\tdojoAttachPoint='containerNode' class='nowrapTabStrip'>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n"),useMenu:true,useSlider:true,tabStripClass:"",widgetsInTemplate:true,_minScroll:5,attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{"class":"containerNode"}),postCreate:function(){this.inherited(arguments);var n=this.domNode;this.scrollNode=this.tablistWrapper;this._initButtons();if(!this.tabStripClass){this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"")+"None";dojo.addClass(n,"tabStrip-disabled");}dojo.addClass(this.tablistWrapper,this.tabStripClass);},onStartup:function(){this.inherited(arguments);dojo.style(this.domNode,"visibility","visible");this._postStartup=true;},onAddChild:function(page,_35b){this.inherited(arguments);var _35c;if(this.useMenu){_35c=new dijit.MenuItem({label:page.title,onClick:dojo.hitch(this,function(){this.onSelectChild(page);})});this._menuChildren[page.id]=_35c;this._menu.addChild(_35c,_35b);}this.pane2handles[page.id].push(this.connect(this.pane2button[page.id],"attr",function(name,_35d){if(this._postStartup){if(arguments.length==2&&name=="label"){if(_35c){_35c.attr(name,_35d);}if(this._dim){this.resize(this._dim);}}}}));dojo.style(this.containerNode,"width",(dojo.style(this.containerNode,"width")+200)+"px");},onRemoveChild:function(page,_35e){var _35f=this.pane2button[page.id];if(this._selectedTab===_35f.domNode){this._selectedTab=null;}if(this.useMenu&&page&&page.id&&this._menuChildren[page.id]){this._menu.removeChild(this._menuChildren[page.id]);this._menuChildren[page.id].destroy();delete this._menuChildren[page.id];}this.inherited(arguments);},_initButtons:function(){this._menuChildren={};this._btnWidth=0;this._buttons=dojo.query("> .tabStripButton",this.domNode).filter(function(btn){if((this.useMenu&&btn==this._menuBtn.domNode)||(this.useSlider&&(btn==this._rightBtn.domNode||btn==this._leftBtn.domNode))){this._btnWidth+=dojo.marginBox(btn).w;return true;}else{dojo.style(btn,"display","none");return false;}},this);if(this.useMenu){this._menu=new dijit.Menu({id:this.id+"_menu",targetNodeIds:[this._menuBtn.domNode],leftClickToOpen:true,refocus:false});this._supportingWidgets.push(this._menu);}},_getTabsWidth:function(){var _360=this.getChildren();if(_360.length){var _361=_360[this.isLeftToRight()?0:_360.length-1].domNode,_362=_360[this.isLeftToRight()?_360.length-1:0].domNode;return _362.offsetLeft+dojo.style(_362,"width")-_361.offsetLeft;}else{return 0;}},_enableBtn:function(_363){var _364=this._getTabsWidth();_363=_363||dojo.style(this.scrollNode,"width");return _364>0&&_363<_364;},resize:function(dim){if(this.domNode.offsetWidth==0){return;}this._dim=dim;this.scrollNode.style.height="auto";this._contentBox=dijit.layout.marginBox2contentBox(this.domNode,{h:0,w:dim.w});this._contentBox.h=this.scrollNode.offsetHeight;dojo.contentBox(this.domNode,this._contentBox);var _365=this._enableBtn(this._contentBox.w);this._buttons.style("display",_365?"":"none");this._leftBtn.layoutAlign="left";this._rightBtn.layoutAlign="right";this._menuBtn.layoutAlign=this.isLeftToRight()?"right":"left";dijit.layout.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,layoutAlign:"client"}]);if(this._selectedTab){var w=this.scrollNode,sl=this._convertToScrollLeft(this._getScrollForSelectedTab());w.scrollLeft=sl;}this._setButtonClass(this._getScroll());},_getScroll:function(){var sl=(this.isLeftToRight()||dojo.isIE<8||dojo.isQuirks||dojo.isWebKit)?this.scrollNode.scrollLeft:dojo.style(this.containerNode,"width")-dojo.style(this.scrollNode,"width")+(dojo.isIE==8?-1:1)*this.scrollNode.scrollLeft;return sl;},_convertToScrollLeft:function(val){if(this.isLeftToRight()||dojo.isIE<8||dojo.isQuirks||dojo.isWebKit){return val;}else{var _366=dojo.style(this.containerNode,"width")-dojo.style(this.scrollNode,"width");return (dojo.isIE==8?-1:1)*(val-_366);}},onSelectChild:function(page){var tab=this.pane2button[page.id];if(!tab||!page){return;}var node=tab.domNode;if(node!=this._selectedTab){this._selectedTab=node;var sl=this._getScroll();if(sl>node.offsetLeft||sl+dojo.style(this.scrollNode,"width")<node.offsetLeft+dojo.style(node,"width")){this.createSmoothScroll().play();}}this.inherited(arguments);},_getScrollBounds:function(){var _367=this.getChildren(),_368=dojo.style(this.scrollNode,"width"),_369=dojo.style(this.containerNode,"width"),_36a=_369-_368,_36b=this._getTabsWidth();if(_367.length&&_36b>_368){return {min:this.isLeftToRight()?0:_367[_367.length-1].domNode.offsetLeft,max:this.isLeftToRight()?(_367[_367.length-1].domNode.offsetLeft+dojo.style(_367[_367.length-1].domNode,"width"))-_368:_36a};}else{var _36c=this.isLeftToRight()?0:_36a;return {min:_36c,max:_36c};}},_getScrollForSelectedTab:function(){var w=this.scrollNode,n=this._selectedTab,_36d=dojo.style(this.scrollNode,"width"),_36e=this._getScrollBounds();var pos=(n.offsetLeft+dojo.style(n,"width")/2)-_36d/2;pos=Math.min(Math.max(pos,_36e.min),_36e.max);return pos;},createSmoothScroll:function(x){if(arguments.length>0){var _36f=this._getScrollBounds();x=Math.min(Math.max(x,_36f.min),_36f.max);}else{x=this._getScrollForSelectedTab();}if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}var self=this,w=this.scrollNode,anim=new dojo._Animation({beforeBegin:function(){if(this.curve){delete this.curve;}var oldS=w.scrollLeft,newS=self._convertToScrollLeft(x);anim.curve=new dojo._Line(oldS,newS);},onAnimate:function(val){w.scrollLeft=val;}});this._anim=anim;this._setButtonClass(x);return anim;},_getBtnNode:function(e){var n=e.target;while(n&&!dojo.hasClass(n,"tabStripButton")){n=n.parentNode;}return n;},doSlideRight:function(e){this.doSlide(1,this._getBtnNode(e));},doSlideLeft:function(e){this.doSlide(-1,this._getBtnNode(e));},doSlide:function(_370,node){if(node&&dojo.hasClass(node,"dijitTabBtnDisabled")){return;}var _371=dojo.style(this.scrollNode,"width");var d=(_371*0.75)*_370;var to=this._getScroll()+d;this._setButtonClass(to);this.createSmoothScroll(to).play();},_setButtonClass:function(_372){var cls="dijitTabBtnDisabled",_373=this._getScrollBounds();dojo.toggleClass(this._leftBtn.domNode,cls,_372<=_373.min);dojo.toggleClass(this._rightBtn.domNode,cls,_372>=_373.max);}});dojo.declare("dijit.layout._ScrollingTabControllerButton",dijit.form.Button,{baseClass:"dijitTab",buttonType:"",buttonClass:"",tabPosition:"top",templateString:dojo.cache("dijit.layout","templates/_ScrollingTabControllerButton.html","<div id=\"${id}-${buttonType}\" class=\"tabStripButton dijitTab ${buttonClass} tabStripButton-${tabPosition}\"\r\n\t\tdojoAttachEvent=\"onclick:_onButtonClick,onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\">\r\n\t<div role=\"presentation\" wairole=\"presentation\" class=\"dijitTabInnerDiv\" dojoattachpoint=\"innerDiv,focusNode\">\r\n\t\t<div role=\"presentation\" wairole=\"presentation\" class=\"dijitTabContent dijitButtonContents\" dojoattachpoint=\"tabContent\">\r\n\t\t\t<img src=\"${_blankGif}\"/>\r\n\t\t\t<span dojoAttachPoint=\"containerNode,titleNode\" class=\"dijitButtonText\"></span>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n"),tabIndex:""});}if(!dojo._hasResource["dijit.layout.TabContainer"]){dojo._hasResource["dijit.layout.TabContainer"]=true;dojo.provide("dijit.layout.TabContainer");dojo.declare("dijit.layout.TabContainer",dijit.layout._TabContainerBase,{useMenu:true,useSlider:true,controllerWidget:"",_makeController:function(_374){var cls=this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout"),_375=dojo.getObject(this.controllerWidget);return new _375({id:this.id+"_tablist",tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":cls,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},_374);},postMixInProperties:function(){this.inherited(arguments);if(!this.controllerWidget){this.controllerWidget=(this.tabPosition=="top"||this.tabPosition=="bottom")&&!this.nested?"dijit.layout.ScrollingTabController":"dijit.layout.TabController";}}});}if(!dojo._hasResource["dojo.fx.Toggler"]){dojo._hasResource["dojo.fx.Toggler"]=true;dojo.provide("dojo.fx.Toggler");dojo.declare("dojo.fx.Toggler",null,{node:null,showFunc:dojo.fadeIn,hideFunc:dojo.fadeOut,showDuration:200,hideDuration:200,constructor:function(args){var _376=this;dojo.mixin(_376,args);_376.node=args.node;_376._showArgs=dojo.mixin({},args);_376._showArgs.node=_376.node;_376._showArgs.duration=_376.showDuration;_376.showAnim=_376.showFunc(_376._showArgs);_376._hideArgs=dojo.mixin({},args);_376._hideArgs.node=_376.node;_376._hideArgs.duration=_376.hideDuration;_376.hideAnim=_376.hideFunc(_376._hideArgs);dojo.connect(_376.showAnim,"beforeBegin",dojo.hitch(_376.hideAnim,"stop",true));dojo.connect(_376.hideAnim,"beforeBegin",dojo.hitch(_376.showAnim,"stop",true));},show:function(_377){return this.showAnim.play(_377||0);},hide:function(_378){return this.hideAnim.play(_378||0);}});}if(!dojo._hasResource["dojo.fx"]){dojo._hasResource["dojo.fx"]=true;dojo.provide("dojo.fx");(function(){var d=dojo,_379={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _37a=function(_37b){this._index=-1;this._animations=_37b||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;d.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};d.extend(_37a,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){d.disconnect(this._onAnimateCtx);d.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function(_37c,_37d){if(!this._current){this._current=this._animations[this._index=0];}if(!_37d&&this._current.status()=="playing"){return this;}var _37e=d.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_37f=d.connect(this._current,"onBegin",this,function(arg){this._fire("onBegin",arguments);}),_380=d.connect(this._current,"onPlay",this,function(arg){this._fire("onPlay",arguments);d.disconnect(_37e);d.disconnect(_37f);d.disconnect(_380);});if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}this._onAnimateCtx=d.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){d.disconnect(this._onEndCtx);}this._onEndCtx=d.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=d.connect(this._current,"onPause",this,function(arg){this._fire("onPause",arguments);d.disconnect(e);});this._current.pause();}return this;},gotoPercent:function(_381,_382){this.pause();var _383=this.duration*_381;this._current=null;d.some(this._animations,function(a){if(a.duration<=_383){this._current=a;return true;}_383-=a.duration;return false;});if(this._current){this._current.gotoPercent(_383/this._current.duration,_382);}return this;},stop:function(_384){if(this._current){if(_384){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=d.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);d.disconnect(e);});this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){d.disconnect(this._onAnimateCtx);}if(this._onEndCtx){d.disconnect(this._onEndCtx);}}});d.extend(_37a,_379);dojo.fx.chain=function(_385){return new _37a(_385);};var _386=function(_387){this._animations=_387||[];this._connects=[];this._finished=0;this.duration=0;d.forEach(_387,function(a){var _388=a.duration;if(a.delay){_388+=a.delay;}if(this.duration<_388){this.duration=_388;}this._connects.push(d.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new d.Animation({curve:[0,1],duration:this.duration});var self=this;d.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){self._connects.push(d.connect(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);}));});};d.extend(_386,{_doAction:function(_389,args){d.forEach(this._animations,function(a){a[_389].apply(a,args);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_38a,args){var t=this._pseudoAnimation;t[_38a].apply(t,args);},play:function(_38b,_38c){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_38d,_38e){var ms=this.duration*_38d;d.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_38e);});this._call("gotoPercent",arguments);return this;},stop:function(_38f){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){d.forEach(this._connects,dojo.disconnect);}});d.extend(_386,_379);dojo.fx.combine=function(_390){return new _386(_390);};dojo.fx.wipeIn=function(args){var node=args.node=d.byId(args.node),s=node.style,o;var anim=d.animateProperty(d.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _391=d.style(node,"height");return Math.max(_391,1);}},end:function(){return node.scrollHeight;}}}},args));d.connect(anim,"onEnd",function(){s.height="auto";s.overflow=o;});return anim;};dojo.fx.wipeOut=function(args){var node=args.node=d.byId(args.node),s=node.style,o;var anim=d.animateProperty(d.mixin({properties:{height:{end:1}}},args));d.connect(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";});d.connect(anim,"onEnd",function(){s.overflow=o;s.height="auto";s.display="none";});return anim;};dojo.fx.slideTo=function(args){var node=args.node=d.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=d.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=d.position(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=d.animateProperty(d.mixin({properties:{top:args.top||0,left:args.left||0}},args));d.connect(anim,"beforeBegin",anim,init);return anim;};})();}if(!dojo._hasResource["dojo.date"]){dojo._hasResource["dojo.date"]=true;dojo.provide("dojo.date");dojo.date.getDaysInMonth=function(_392){var _393=_392.getMonth();var days=[31,28,31,30,31,30,31,31,30,31,30,31];if(_393==1&&dojo.date.isLeapYear(_392)){return 29;}return days[_393];};dojo.date.isLeapYear=function(_394){var year=_394.getFullYear();return !(year%400)||(!(year%4)&&!!(year%100));};dojo.date.getTimezoneName=function(_395){var str=_395.toString();var tz="";var _396;var pos=str.indexOf("(");if(pos>-1){tz=str.substring(++pos,str.indexOf(")"));}else{var pat=/([A-Z\/]+) \d{4}$/;if((_396=str.match(pat))){tz=_396[1];}else{str=_395.toLocaleString();pat=/ ([A-Z\/]+)$/;if((_396=str.match(pat))){tz=_396[1];}}}return (tz=="AM"||tz=="PM")?"":tz;};dojo.date.compare=function(_397,_398,_399){_397=new Date(+_397);_398=new Date(+(_398||new Date()));if(_399=="date"){_397.setHours(0,0,0,0);_398.setHours(0,0,0,0);}else{if(_399=="time"){_397.setFullYear(0,0,0);_398.setFullYear(0,0,0);}}if(_397>_398){return 1;}if(_397<_398){return -1;}return 0;};dojo.date.add=function(date,_39a,_39b){var sum=new Date(+date);var _39c=false;var _39d="Date";switch(_39a){case "day":break;case "weekday":var days,_39e;var mod=_39b%5;if(!mod){days=(_39b>0)?5:-5;_39e=(_39b>0)?((_39b-5)/5):((_39b+5)/5);}else{days=mod;_39e=parseInt(_39b/5);}var strt=date.getDay();var adj=0;if(strt==6&&_39b>0){adj=1;}else{if(strt==0&&_39b<0){adj=-1;}}var trgt=strt+days;if(trgt==0||trgt==6){adj=(_39b>0)?2:-2;}_39b=(7*_39e)+days+adj;break;case "year":_39d="FullYear";_39c=true;break;case "week":_39b*=7;break;case "quarter":_39b*=3;case "month":_39c=true;_39d="Month";break;default:_39d="UTC"+_39a.charAt(0).toUpperCase()+_39a.substring(1)+"s";}if(_39d){sum["set"+_39d](sum["get"+_39d]()+_39b);}if(_39c&&(sum.getDate()<date.getDate())){sum.setDate(0);}return sum;};dojo.date.difference=function(_39f,_3a0,_3a1){_3a0=_3a0||new Date();_3a1=_3a1||"day";var _3a2=_3a0.getFullYear()-_39f.getFullYear();var _3a3=1;switch(_3a1){case "quarter":var m1=_39f.getMonth();var m2=_3a0.getMonth();var q1=Math.floor(m1/3)+1;var q2=Math.floor(m2/3)+1;q2+=(_3a2*4);_3a3=q2-q1;break;case "weekday":var days=Math.round(dojo.date.difference(_39f,_3a0,"day"));var _3a4=parseInt(dojo.date.difference(_39f,_3a0,"week"));var mod=days%7;if(mod==0){days=_3a4*5;}else{var adj=0;var aDay=_39f.getDay();var bDay=_3a0.getDay();_3a4=parseInt(days/7);mod=days%7;var _3a5=new Date(_39f);_3a5.setDate(_3a5.getDate()+(_3a4*7));var _3a6=_3a5.getDay();if(days>0){switch(true){case aDay==6:adj=-1;break;case aDay==0:adj=0;break;case bDay==6:adj=-1;break;case bDay==0:adj=-2;break;case (_3a6+mod)>5:adj=-2;}}else{if(days<0){switch(true){case aDay==6:adj=0;break;case aDay==0:adj=1;break;case bDay==6:adj=2;break;case bDay==0:adj=1;break;case (_3a6+mod)<0:adj=2;}}}days+=adj;days-=(_3a4*2);}_3a3=days;break;case "year":_3a3=_3a2;break;case "month":_3a3=(_3a0.getMonth()-_39f.getMonth())+(_3a2*12);break;case "week":_3a3=parseInt(dojo.date.difference(_39f,_3a0,"day")/7);break;case "day":_3a3/=24;case "hour":_3a3/=60;case "minute":_3a3/=60;case "second":_3a3/=1000;case "millisecond":_3a3*=_3a0.getTime()-_39f.getTime();}return Math.round(_3a3);};}if(!dojo._hasResource["dojox.collections._base"]){dojo._hasResource["dojox.collections._base"]=true;dojo.provide("dojox.collections._base");dojox.collections.DictionaryEntry=function(k,v){this.key=k;this.value=v;this.valueOf=function(){return this.value;};this.toString=function(){return String(this.value);};};dojox.collections.Iterator=function(arr){var a=arr;var _3a7=0;this.element=a[_3a7]||null;this.atEnd=function(){return (_3a7>=a.length);};this.get=function(){if(this.atEnd()){return null;}this.element=a[_3a7++];return this.element;};this.map=function(fn,_3a8){return dojo.map(a,fn,_3a8);};this.reset=function(){_3a7=0;this.element=a[_3a7];};};dojox.collections.DictionaryIterator=function(obj){var a=[];var _3a9={};for(var p in obj){if(!_3a9[p]){a.push(obj[p]);}}var _3aa=0;this.element=a[_3aa]||null;this.atEnd=function(){return (_3aa>=a.length);};this.get=function(){if(this.atEnd()){return null;}this.element=a[_3aa++];return this.element;};this.map=function(fn,_3ab){return dojo.map(a,fn,_3ab);};this.reset=function(){_3aa=0;this.element=a[_3aa];};};}if(!dojo._hasResource["dojox.collections.Dictionary"]){dojo._hasResource["dojox.collections.Dictionary"]=true;dojo.provide("dojox.collections.Dictionary");dojox.collections.Dictionary=function(_3ac){var _3ad={};this.count=0;var _3ae={};this.add=function(k,v){var b=(k in _3ad);_3ad[k]=new dojox.collections.DictionaryEntry(k,v);if(!b){this.count++;}};this.clear=function(){_3ad={};this.count=0;};this.clone=function(){return new dojox.collections.Dictionary(this);};this.contains=this.containsKey=function(k){if(_3ae[k]){return false;}return (_3ad[k]!=null);};this.containsValue=function(v){var e=this.getIterator();while(e.get()){if(e.element.value==v){return true;}}return false;};this.entry=function(k){return _3ad[k];};this.forEach=function(fn,_3af){var a=[];for(var p in _3ad){if(!_3ae[p]){a.push(_3ad[p]);}}dojo.forEach(a,fn,_3af);};this.getKeyList=function(){return (this.getIterator()).map(function(_3b0){return _3b0.key;});};this.getValueList=function(){return (this.getIterator()).map(function(_3b1){return _3b1.value;});};this.item=function(k){if(k in _3ad){return _3ad[k].valueOf();}return undefined;};this.getIterator=function(){return new dojox.collections.DictionaryIterator(_3ad);};this.remove=function(k){if(k in _3ad&&!_3ae[k]){delete _3ad[k];this.count--;return true;}return false;};if(_3ac){var e=_3ac.getIterator();while(e.get()){this.add(e.element.key,e.element.value);}}};}if(!dojo._hasResource["xwt.widget.CommonUtilities"]){dojo._hasResource["xwt.widget.CommonUtilities"]=true;dojo.provide("xwt.widget.CommonUtilities");xwt.version=function(){var _3b2=" 20110509-1117  ".replace(/^\s+|\s+$/g,"");var _3b3=" 1.6.4 ".replace(/^\s+|\s+$/g,"");var _3b4=" 84  ".replace(/^\s+|\s+$/g,"");if(_3b3.search("Revision")!=-1){return null;}var d=new Date(_3b2.substring(0,4),parseInt(_3b2.substring(4,6))-1,_3b2.substring(6,8),_3b2.substring(9,11),_3b2.substring(11,13));return {"Build_Version":_3b3,"Build_Date":d,"Build_number":_3b4};}();xwt.CommonUtilities=new function(){this.regExIPAddress="";this._dateFormat="yyyy-MMM-dd, HH:mm:ss.nnn ZZZ";this._MONTH_NAMES=new Array("January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec");this._zone=new Object();this._zone["0"]="GMT";this._zone["1"]="ECT";this._zone["2"]="EET";this._zone["3"]="EAT";this._zone["3.5"]="MET";this._zone["4"]="NET";this._zone["5"]="PLT";this._zone["5.5"]="IST";this._zone["6"]="BST";this._zone["7"]="VST";this._zone["8"]="CTT";this._zone["9"]="JST";this._zone["9.5"]="ACT";this._zone["10"]="AET";this._zone["11"]="SST";this._zone["12"]="NST";this._zone["-11"]="MIT";this._zone["-10"]="HST";this._zone["-9"]="AST";this._zone["-8"]="PST";this._zone["-7"]="PNT";this._zone["-6"]="CST";this._zone["-5"]="EST";this._zone["-4"]="PRT";this._zone["-3"]="AGT";this._zone["-1"]="CAT";this.getMouseCoordinates=function(e){var _3b5=null;var _3b6,_3b7;if(!e){return;}if(typeof (e.pageX)=="number"){_3b6=e.pageX;_3b7=e.pageY;}else{if(typeof (e.clientX)=="number"){_3b6=e.clientX;_3b7=e.clientY;if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){_3b6+=document.body.scrollLeft;_3b7+=document.body.scrollTop;}else{if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){_3b6+=document.documentElement.scrollLeft;_3b7+=document.documentElement.scrollTop;}}}else{return;}}_3b5={x:_3b6,y:_3b7};return _3b5;};this.getMouseCoordinatesOldBrowsers=function(e){var _3b8=null;var _3b9,_3ba;if(!e){return;}if(typeof (e.pageX)=="number"){_3b9=e.pageX;_3ba=e.pageY;}else{if(typeof (e.clientX)=="number"){_3b9=e.clientX;_3ba=e.clientY;var _3bb=(window.navigator.userAgent.indexOf("Opera")+1)||(window.ScriptEngine&&ScriptEngine().indexOf("InScript")+1)||(navigator.vendor=="KDE");if(!_3bb){if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){_3b9+=document.body.scrollLeft;_3ba+=document.body.scrollTop;}else{if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){_3b9+=document.documentElement.scrollLeft;_3ba+=document.documentElement.scrollTop;}}}}else{return;}}_3b8={x:_3b9,y:_3ba};console.log("Mouse coordinates are ("+_3b9+","+_3ba+")");return _3b8;};this.openUrl=function(url,_3bc,_3bd){if(url&&_3bc){if(_3bd){window.open(url,_3bc,_3bd);}else{window.open(url,_3bc);}}};this.getScrollBarInfo=function(node){var _3be=0;var _3bf=null;var _3c0=0;var _3c1=0;var _3c2;var _3c3;if(node){var _3c4=dojo.style(node,"overflow");if(_3c4=="hidden"){_3c2=false;_3c3=false;}else{if(_3c4=="scroll"){_3c2=true;_3c3=true;}else{_3c2=(node.scrollHeight>node.clientHeight);_3c3=(node.scrollWidth>node.clientWidth);}}var _3c5={hasVScrollBar:_3c2,hasHScrollBar:_3c3};return _3c5;}else{if(dojo.isIE){}else{}var _3c6=document.createElement("DIV");dojo.style(_3c6,{position:"absolute",top:"-1000px",left:"-1000px",overflow:"hidden",height:"100px",width:"100px"});_3bf=document.createElement("DIV");dojo.style(_3bf,{height:"200px",width:"200px"});_3c6.appendChild(_3bf);dojo.body().appendChild(_3c6);dojo.style(_3c6,{overflow:"auto"});_3be=_3c6.offsetWidth-_3c6.clientWidth;dojo.destroy(_3c6);return _3be;}};this.getFormattedTimeDate=function(_3c7,_3c8,_3c9){if(typeof _3c7=="string"){_3c7=new Date(_3c7);}if(!_3c8){_3c9=false;}var _3ca="";if(!_3c8){_3ca=this._dateFormat.replace(":ss.nnn","");}else{if(!_3c9){_3ca=this._dateFormat.replace(".nnn","");}else{_3ca=this._dateFormat+"";}}var _3cb="";var _3cc=0;var c="";var _3cd="";var y=_3c7.getFullYear()+"";var M=_3c7.getMonth()+1;var d=_3c7.getDate();var E=_3c7.getDay();var H=_3c7.getHours();var m=_3c7.getMinutes();var s=_3c7.getSeconds();var n=_3c7.getMilliseconds();var z=-_3c7.getTimezoneOffset()/60;z=""+z;var yyyy,yy,MMM,MM,dd,hh,h,mm,ss,ampm,HH,KK,K,kk,k;var nnn,nn;var _3ce=new Object();if(y.length<4){y=""+(y-0+1900);}_3ce["y"]=""+y;_3ce["yyyy"]=y;_3ce["yy"]=y.substring(2,4);_3ce["M"]=M;_3ce["MM"]=this._getZeroPrefixedNo(M);_3ce["MMM"]=this._MONTH_NAMES[M+11];_3ce["d"]=d;_3ce["dd"]=this._getZeroPrefixedNo(d);_3ce["H"]=H;_3ce["HH"]=this._getZeroPrefixedNo(H);if(H==0){_3ce["h"]=12;}else{if(H>12){_3ce["h"]=H-12;}else{_3ce["h"]=H;}}_3ce["hh"]=this._getZeroPrefixedNo(_3ce["h"]);if(H>11){_3ce["a"]="PM";}else{_3ce["a"]="AM";}_3ce["m"]=m;_3ce["mm"]=this._getZeroPrefixedNo(m);_3ce["s"]=this._getZeroPrefixedNo(s);_3ce["ss"]=this._getZeroPrefixedNo(s);_3ce["n"]=this._formatMilliSecs(n);_3ce["nn"]=this._formatMilliSecs(n);_3ce["nnn"]=this._formatMilliSecs(n);_3ce["Z"]=this._zone[z];_3ce["ZZ"]=this._zone[z];_3ce["ZZZ"]=this._zone[z];while(_3cc<_3ca.length){c=_3ca.charAt(_3cc);_3cd="";while((_3ca.charAt(_3cc)==c)&&(_3cc<_3ca.length)){_3cd+=_3ca.charAt(_3cc++);}if(_3ce[_3cd]!=null){_3cb=_3cb+_3ce[_3cd];}else{_3cb=_3cb+_3cd;}}return _3cb;};this._getZeroPrefixedNo=function(x){return (x<0||x>9?"":"0")+x;};this._formatMilliSecs=function(_3cf){return ((_3cf<10?"00":((_3cf>9&&_3cf<100)?"0":""))+_3cf);};this.stringToBoolean=function(_3d0){switch(_3d0.toLowerCase()){case "true":case "yes":case "1":return true;case "false":case "no":case "0":case null:return false;default:return Boolean(_3d0);}};this.jsonToWidget=function(json,_3d1){};}();}if(!dojo._hasResource["xwt.widget.layout.TitlePane"]){dojo._hasResource["xwt.widget.layout.TitlePane"]=true;dojo.provide("xwt.widget.layout.TitlePane");dojo.declare("xwt.widget.layout.TitlePane",[dojox.layout.ContentPane,dijit._Templated],{title:"",open:true,toggleable:true,tabIndex:"0",duration:dijit.defaultDuration,baseClass:"xwtTitlePane",templateString:dojo.cache("xwt","widget/layout/templates/TitlePane.html","<div class=\"${baseClass}\">\r\n<div dojoAttachEvent=\"onfocus:_handleFocus, onblur:_handleFocus, onkeypress:_onTitleKey, onmouseenter:_onTitleEnter, onmouseleave:_onTitleLeave\"\r\n\tclass=\"xwtTitlePaneTitle\" dojoAttachPoint=\"titleBarNode,focusNode\">\r\n<div id=\"${id}_arrowNodeInner\" dojoAttachEvent=\"onkeypress:_onTitleKey,onclick:_onTitleClick\"  dojoAttachPoint=\"arrowNodeInner\" class=\"xwtArrowNodeInner\"></div>\r\n<div dojoAttachPoint=\"titleNode\" dojoAttachEvent=\"onkeypress:_onTitleKey,onclick:_onTitleClick\" class=\"xwtTitlePaneTextNode\"></div>\r\n<div class=\"xwtTitlePaneActions\" dojoAttachPoint=\"titlePaneActionsAP\"></div>\r\n</div>\r\n<div class=\"xwtTitlePaneContentOuter\" dojoAttachPoint=\"hideNode\"\r\n\twaiRole=\"presentation\">\r\n<div class=\"dijitReset\" dojoAttachPoint=\"wipeNode\"\r\n\twaiRole=\"presentation\">\r\n<table dojoAttachPoint=\"rcTableAP\" style=\"border-spacing: 0;border: none;width: 100%\">\r\n\t<tbody>\r\n\t\t<tr>\r\n\t\t\t<td class=\"tp_tl\"></td>\r\n\t\t\t<td class=\"tp_tm\"></td>\r\n\t\t\t<td class=\"tp_tr\"></td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td class=\"tp_ml\"></td>\r\n\t\t\t<td class=\"tp_mm\">\r\n\t\t\t<div class=\"xwtTitlePaneContentInner\" dojoAttachPoint=\"containerNode\"\r\n\t\t\t\twaiRole=\"region\" tabindex=\"-1\" id=\"${id}_pane\"><!-- dojo1.4 nested divs because wipeIn()/wipeOut() doesn't work right on node w/padding etc.  Put padding on inner div. -->\r\n\t\t\t</div>\r\n\t\t\t</td>\r\n\t\t\t<td class=\"tp_mr\"></td>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t<td class=\"tp_bl\"></td>\r\n\t\t\t<td class=\"tp_bm\"></td>\r\n\t\t\t<td class=\"tp_br\"></td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n</div>\r\n</div>\r\n</div>\r\n"),needTitleBar:true,titlePaneActionsArray:null,titlePaneActions:null,heightC:47,widthC:17,openedFirstTime:false,isNested:false,isNestedAtOdd:false,attributeMap:dojo.delegate(dijit.layout.ContentPane.prototype.attributeMap,{title:{node:"titleNode",type:"innerHTML"},tooltip:{node:"focusNode",type:"attribute",attribute:"title"},id:""}),needAnimation:true,constructor:function(args,node){this.titlePaneActionsArray=[];if(args){dojo.mixin(this,args);}if(dojo.isWebKit||dojo.isChrome){this.needAnimation=false;}},postCreate:function(){if(!this.open){this.openedFirstTime=true;this.hideNode.style.display=this.wipeNode.style.display="none";}this._setCss();dojo.setSelectable(this.titleNode,false);dijit.setWaiState(this.containerNode,"hidden",this.open?"false":"true");dijit.setWaiState(this.focusNode,"pressed",this.open?"true":"false");var _3d2=this.hideNode,_3d3=this.wipeNode;var _3d4=this;this._wipeIn=dojo.fx.wipeIn({node:this.wipeNode,duration:this.duration,beforeBegin:function(){_3d2.style.display="";}});this.connect(this._wipeIn,"onEnd",function(){_3d4.resize();});this._wipeOut=dojo.fx.wipeOut({node:this.wipeNode,duration:this.duration,onEnd:function(){_3d2.style.display="none";}});this.inherited(arguments);if(!this.needTitleBar){dojo.style(this.titleBarNode,{"display":"none"});}if(!this.toggleable){dojo.style(this.arrowNodeInner,{"display":"none"});dojo.style(this.titleNode,{"cursor":"default"});}if(this.titlePaneActions){this.addActionItems(this.titlePaneActions.items);}},startup:function(){this.inherited(arguments);if(this.isNested&&this.isNestedAtOdd){dojo.addClass(this.domNode,"oddLevelTitlePane");}else{dojo.addClass(this.domNode,"evenLevelTitlePane");}},destroy:function(){dojo.forEach(this.titlePaneActionsArray,function(item){item.destroy();});this.inherited(arguments);},_fixOddEvenLevelFlag:function(){var _3d5=this.domNode.parentNode;var _3d6=(_3d5)?dijit.getEnclosingWidget(_3d5):null;if(_3d6&&_3d6.declaredClass&&_3d6.declaredClass=="xwt.widget.layout.TitlePane"){if(_3d6.isNestedAtOdd){this.isNestedAtOdd=false;this.isNested=true;}else{this.isNestedAtOdd=true;this.isNested=true;}}else{this.isNested=false;this.isNestedAtOdd=false;}},addActionItems:function(_3d7){if(_3d7&&_3d7.length>0){for(var i=0;i<_3d7.length;i++){var item=_3d7[i];this.addActionItem(item);}}},addActionItem:function(item){var _3d8=(item.id)?this.id+"_"+item.id:item.id;var args={id:_3d8,title:item.label,showLabel:false,iconClass:"titlePaneActionIcon "+item.iconClass};var _3d9=new dijit.form.Button(args);if(item.actionId){dojo.mixin(_3d9,{actionId:item.actionId});}if(item.href){args={href:item.href,target:item.target};dojo.mixin(_3d9,args);}if(item.handler){args={handler:item.handler};dojo.mixin(_3d9,args);}this.connect(_3d9,"onClick",dojo.hitch(this,"_onActionItemClick"));_3d9.startup();this.titlePaneActionsAP.appendChild(_3d9.domNode);this.titlePaneActionsArray.push(_3d9);},_setOpenAttr:function(open){if(this.open!==open){this.toggle();}},_setToggleableAttr:function(_3da){this.toggleable=_3da;dijit.setWaiRole(this.focusNode,_3da?"button":"heading");dojo.attr(this.focusNode,"tabIndex",_3da?this.tabIndex:"-1");if(_3da){dijit.setWaiState(this.focusNode,"controls",this.id+"_pane");}this._setCss();},_setContentAttr:function(_3db){if(!this.open||!this._wipeOut||this._wipeOut.status()=="playing"){this.inherited(arguments);}else{if(this._wipeIn&&this._wipeIn.status()=="playing"){this._wipeIn.stop();}dojo.marginBox(this.wipeNode,{h:dojo.marginBox(this.wipeNode).h});this.inherited(arguments);if(this._wipeIn){this._wipeIn.play();}else{this.hideNode.style.display="";}}},toggle:function(){dojo.forEach([this._wipeIn,this._wipeOut],function(_3dc){if(_3dc&&_3dc.status()=="playing"){_3dc.stop();}});var anim=this[this.open?"_wipeOut":"_wipeIn"];if(anim&&this.needAnimation){anim.play();}else{this.hideNode.style.display=this.open?"none":"";this.wipeNode.style.display=this.open?"none":"";}this.open=!this.open;dijit.setWaiState(this.containerNode,"hidden",this.open?"false":"true");dijit.setWaiState(this.focusNode,"pressed",this.open?"true":"false");if(this.open){this._onShow();this.onShow();}else{this.onHide();}this._setCss();if(this.openedFirstTime){if(this.href){this.refresh();}else{}this.openedFirstTime=false;}},onHide:function(){},onShow:function(){},_setCss:function(){var node=this.titleBarNode||this.focusNode;if(this._titleBarClass){dojo.removeClass(node,this._titleBarClass);}this._titleBarClass="dijit"+(this.toggleable?"":"Fixed")+(this.open?"Open":"Closed");dojo.addClass(node,this._titleBarClass);if(this.open){if(this.arrowNodeInner){dojo.removeClass(this.arrowNodeInner,"closed");}dojo.removeClass(this.domNode,"xwtTitlePaneBorderBottom");}else{if(this.arrowNodeInner){dojo.addClass(this.arrowNodeInner,"closed");}dojo.addClass(this.domNode,"xwtTitlePaneBorderBottom");}},_onTitleKey:function(e){if(e.charOrCode==dojo.keys.ENTER||e.charOrCode==" "){if(this.toggleable){this.toggle();}dojo.stopEvent(e);}else{if(e.charOrCode==dojo.keys.DOWN_ARROW&&this.open){this.containerNode.focus();e.preventDefault();}}},_onTitleEnter:function(){if(this.toggleable){dojo.addClass(this.focusNode,"xwtTitlePaneTitle-hover");}},_onTitleLeave:function(){if(this.toggleable){dojo.removeClass(this.focusNode,"xwtTitlePaneTitle-hover");}},_onTitleClick:function(){if(this.toggleable){this.toggle();}},_handleFocus:function(e){dojo.toggleClass(this.focusNode,this.baseClass+"Focused",e.type=="focus");},setTitle:function(_3dd){dojo.deprecated("xwt.widget.layout.TitlePane.setTitle() is deprecated.  Use attr('title', ...) instead.","","2.0");this.attr("title",_3dd);},_onActionItemClick:function(evt){var item=dijit.byNode(evt.currentTarget);this.onActionItemClick(evt,item);if(item.href&&item.href.length>3){var _3de=(item.target)?item.target:"_self";xwt.CommonUtilities.openUrl(item.href,_3de);}if(item.handler){item.handler(item);}},onActionItemClick:function(evt,item){console.log("TitlePane/Dashlet clicked actionId is --> "+item.actionId);}});}if(!dojo._hasResource["xwt.widget.layout.Dashlet"]){dojo._hasResource["xwt.widget.layout.Dashlet"]=true;dojo.provide("xwt.widget.layout.Dashlet");dojo.declare("xwt.widget.layout.Dashlet",[xwt.widget.layout.TitlePane],{templateString:dojo.cache("xwt","widget/layout/templates/Dashlet.html","<div class=\"${baseClass}\">\r\n<table dojoAttachPoint=\"rcTableAP\" class=\"dashletContainerTable\">\r\n\t<tbody>\r\n\t\t<tr class=\"topRow\">\r\n\t\t\t<td class=\"tl\"></td>\r\n\t\t\t<td class=\"tm\"></td>\r\n\t\t\t<td class=\"tr\"></td>\r\n\t\t</tr>\r\n\t\t<tr class=\"middleRow\">\r\n\t\t\t<td class=\"ml\"></td>\r\n\t\t\t<td class=\"mm\">\r\n\t\t\t<div id=\"${id}_titleBarNode\" dojoAttachEvent=\"onkeypress:_onTitleKey, onfocus:_handleFocus, onblur:_handleFocus, onmouseenter:_onTitleEnter, onmouseleave:_onTitleLeave\"\r\n\t\t\t\tclass=\"xwtTitlePaneTitle xwtDashletPaneTitle\" dojoAttachPoint=\"titleBarNode,focusNode\">\r\n\t\t\t<div id=\"${id}_xwtTitlePaneTextNode\" dojoAttachPoint=\"titleNode\" class=\"xwtTitlePaneTextNode\"></div>\r\n\t\t\t<div id=\"${id}_titlePaneActionsAP\" class=\"xwtTitlePaneActions\" dojoAttachPoint=\"titlePaneActionsAP\">\r\n\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"xwtTitlePaneContentOuter\" dojoAttachPoint=\"hideNode\"\r\n\t\t\t\twaiRole=\"presentation\">\r\n\t\t\t<div class=\"dijitReset\" dojoAttachPoint=\"wipeNode\"\r\n\t\t\t\twaiRole=\"presentation\">\r\n\t\t\t<div class=\"xwtTitlePaneContentInner\" dojoAttachPoint=\"containerNode\"\r\n\t\t\t\twaiRole=\"region\" tabindex=\"-1\" id=\"${id}_pane\"><!-- dojo1.4 nested divs because wipeIn()/wipeOut() doesn't work right on node w/padding etc.  Put padding on inner div. -->\r\n\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t</td>\r\n\t\t\t<td class=\"mr\"></td>\r\n\t\t</tr>\r\n\t\t<tr class=\"bottomRow\">\r\n\t\t\t<td class=\"bl\"></td>\r\n\t\t\t<td class=\"bm\"></td>\r\n\t\t\t<td class=\"br\"></td>\r\n\t\t</tr>\r\n\t</tbody>\r\n</table>\r\n</div>\r\n"),widgetsInTemplate:true,_roundedCornersClass:"xwtRoundedPanel",_dashletClass:"xwtDashlet",topC:8,bottomC:8,leftC:9,rightC:10,_timerForUpdateSize:300,_standardActions:["edit","help","refresh","detach","maximizeRestore","collapseExpand","close"],dashletActions:{edit:{id:"edit",actionId:"edit",label:"Edit",iconClass:"d_titleicon_edit"},help:{id:"help",actionId:"help",label:"Help",iconClass:"d_titleicon_help"},refresh:{id:"refresh",actionId:"refresh",label:"Refresh",iconClass:"d_titleicon_refresh"},detach:{id:"detach",actionId:"detach",label:"Detach",iconClass:"d_titleicon_detach"},collapseExpand:{id:"collapseExpand",actionId:"collapseExpand",label:"Collapse/Expand",iconClass:"d_titleicon_collapse"},maximizeRestore:{id:"maximizeRestore",actionId:"maximizeRestore",label:"Maximize/Restore",iconClass:"d_titleicon_maximize"},close:{id:"close",actionId:"close",label:"Close",iconClass:"d_titleicon_close"}},requiredActions:null,refreshIntervel:30000,helpUrl:"",resizeChildren:true,_parents:null,_size:null,requireEdit:false,requireHelp:false,requireRefresh:false,requireDetach:false,requireCollapse:true,requireMaximize:false,requireClose:false,requireAllActions:false,dragRestriction:false,_subscriptions:null,buildRendering:function(){this.inherited(arguments);dojo.style(this.domNode,"visibility","hidden");},postCreate:function(){this.inherited(arguments);var _3df=this;dojo.addClass(this.domNode,this._roundedCornersClass);dojo.addClass(this.domNode,this._dashletClass);if(this.requiredActions||this.requireAllActions||this.requireEdit||this.requireHelp||this.requireRefresh||this.requireDetach||this.requireCollapse||this.requireMaximize||this.requireClose){this._addDashletActions();}dojo.addClass(this.domNode,this._dashletClass+"-"+(!this.dragRestriction?"movable":"nonmovable"));if(this.resizeChildren){this.subscribe("/dnd/drop",function(){_3df._updateSize();});this.connect(window,"onresize",function(){_3df._updateSize();});this.subscribe("/Dashlet/sizechange",function(_3e0){_3df.onSizeChange(_3e0);});var _3e1=dojo.hitch(this,function(id,_3e2){var _3e3=dijit.byId(id);if(_3e3.selectChild){_3df._subscriptions=this.subscribe(id+"-selectChild",function(_3e4){var n=_3df.domNode.parentNode;while(n){if(n==_3e4.domNode){_3df.unsubscribe(_3df._subscriptions);_3df._updateSize();break;}n=n.parentNode;}});var _3e5=dijit.byId(_3e2);if(_3e3&&_3e5){_3df._parents.push({parent:_3e3,child:_3e5});}}});var _3e6;this._parents=[];for(var p=this.domNode.parentNode;p!==null;p=p.parentNode){var id=p.getAttribute?p.getAttribute("widgetId"):null;if(id){_3e1(id,_3e6);_3e6=id;}}var xx="";}this.connect(this._wipeOut,"onEnd",dojo.hitch(this,"_publish"));this.connect(this._wipeIn,"onEnd",dojo.hitch(this,"_publish"));},startup:function(){if(this._started){return;}this._placeSettingsWidgets();this.inherited(arguments);dojo.style(this.domNode,"visibility","visible");},_placeSettingsWidgets:function(){var _3e7=dijit.findWidgets(this.hideNode);var _3e8=null;dojo.forEach(_3e7,function(_3e9){if(dojo.hasClass(_3e9.domNode,"xwtDashletSettingsContainer")){_3e8=_3e9;console.log("Found xwtDashletSettingsContainer -->"+_3e9.id);}});if(_3e8){var _3ea=this;this.connect(this,"onActionItemClick",function(evt,item){if(item&&item.actionId=="edit"){console.log("xwt.widget.layout.dashlet --> Show/Hide DashletSettings!");dojo.hitch(_3e8,"toggle");}});dojo.place(_3e8.domNode,this.containerNode,"before");_3e8.attr("portlet",this);}},_addDashletActions:function(){if(this.requireAllActions){for(var i=0;i<this._standardActions.length;i++){var _3eb=this._standardActions[i];if(this.dashletActions[_3eb]){this.addDashletAction(this.dashletActions[_3eb]);}}}else{if(this.requiredActions&&this.requiredActions.length>0){for(var j=0;j<this.requiredActions.length;j++){var _3eb=this.requiredActions[j];if(this.dashletActions[_3eb]){this.addDashletAction(this.dashletActions[_3eb]);}}}else{if(this.requireEdit){this.addDashletAction(this.dashletActions["edit"]);}if(this.requireHelp){this.addDashletAction(this.dashletActions["help"]);}if(this.requireRefresh){this.addDashletAction(this.dashletActions["refresh"]);}if(this.requireDetach){this.addDashletAction(this.dashletActions["detach"]);}if(this.requireMaximize){this.addDashletAction(this.dashletActions["maximizeRestore"]);}if(this.requireCollapse){this.addDashletAction(this.dashletActions["collapseExpand"]);}if(this.requireClose){this.addDashletAction(this.dashletActions["close"]);}}}},addDashletAction:function(item){var _3ec=(item.id)?this.id+"_"+item.id:item.id;var args={id:_3ec,title:item.label,showLabel:false,iconClass:"titlePaneActionIcon "+item.iconClass};var _3ed=new dijit.form.Button(args);if(item.actionId){dojo.mixin(_3ed,{actionId:item.actionId});}if(item.href){var args={href:item.href,target:item.target};dojo.mixin(_3ed,args);}if(item.handler){var args={handler:item.handler};dojo.mixin(_3ed,args);}this.connect(_3ed,"onClick",dojo.hitch(this,"_onActionItemClick"));if(item.actionId&&item.actionId=="collapseExpand"){this.arrowNodeInner=_3ed;this.connect(_3ed,"onClick",dojo.hitch(this,"_onTitleClick"));this.connect(this,"onActionItemClick",dojo.hitch(this,"_handleToggleStyle"));}this.titlePaneActionsArray.push(_3ed);_3ed.startup();this.titlePaneActionsAP.appendChild(_3ed.domNode);},_handleToggleStyle:function(evt,item){if(item&&item.actionId=="collapseExpand"){var _3ee=false;if(this.open){_3ee=false;dojo.addClass(this.domNode,"xwtDashletCollapsed");}else{_3ee=true;dojo.removeClass(this.domNode,"xwtDashletCollapsed");}item.attr("iconClass",_3ee?"titlePaneActionIcon d_titleicon_collapse":"titlePaneActionIcon d_titleicon_expand");}},_publish:function(){console.log("Published.");dojo.publish("/Dashlet/sizechange",[this]);},addChild:function(_3ef){this._size=null;this.inherited(arguments);if(this._started){this._placeSettingsWidgets();this._updateSize();}if(this._started&&!_3ef.started&&!_3ef._started){_3ef.startup();}},onSizeChange:function(_3f0){if(_3f0==this){return;}this._updateSize();},_updateSize:function(){if(!this.open||!this._started||!this.resizeChildren){return;}if(this._timer){clearTimeout(this._timer);}this._timer=setTimeout(dojo.hitch(this,function(){if(!this.domNode){console.log("Error::xwt.widget.layout.Dashlet._updateSize() -- The domNode is null as it has been destroyed for dashlet -- "+this.id);return;}var size={w:dojo.style(this.domNode,"width"),h:dojo.style(this.domNode,"height")};for(var i=0;i<this._parents.length;i++){var p=this._parents[i];var sel=p.parent.selectedChildWidget;if(sel&&sel!=p.child){return;}}if(this._size){if(this._size.w==size.w&&this._size.h==size.h){return;}}this._size=size;var _3f1=["resize","layout"];this._timer=null;var _3f2=this.getChildren();dojo.forEach(_3f2,function(_3f3){for(var i=0;i<_3f1.length;i++){if(dojo.isFunction(_3f3[_3f1[i]])){try{_3f3[_3f1[i]]();}catch(e){console.log("Error::xwt.widget.layout.Dashlet._updateSize (failed calling child["+_3f1[i]+"]) -->"+e);}break;}}});this.onUpdateSize();}),this._timerForUpdateSize);},onUpdateSize:function(){},_setCss:function(){this.inherited(arguments);dojo.removeClass(this.domNode,"xwtTitlePaneBorderBottom");},onClose:function(){dojo.addClass(this.domNode,"hide");},onShow:function(){dojo.removeClass(this.domNode,"hide");},resize:function(_3f4,_3f5){this.inherited(arguments);var mb=dojo.contentBox(this.domNode);mb.w=_3f4?_3f4.w:mb.w;mb=this._adjustSize(mb);dojo.marginBox(this.containerNode,mb);var _3f6={h:mb.h,w:mb.w};dojo.forEach(this.getChildren(),function(_3f7){if(_3f7.resize){_3f7.resize(_3f6);}});},_adjustSize:function(_3f8){if(_3f8){if("h" in _3f8){_3f8.h=_3f8.h-(this.topC+this.bottomC);}if("w" in _3f8){_3f8.w=_3f8.w-(this.leftC+this.rightC);}}return _3f8;},displayChildren:function(_3f9){dojo.forEach(_3f9,function(_3fa){var i=0;console.log(i+" widget is -->"+_3fa.id);if(_3fa.resize){console.log(i+" widget has resize");}});}});dojo.declare("xwt.widget.layout.DashletSettings",[dijit._Container,dijit.layout.ContentPane],{postCreate:function(){dojo.style(this.domNode,"display","none");dojo.addClass(this.domNode,"xwtDashletSettingsContainer");dojo.removeClass(this.domNode,"dijitContentPane");},_setPortletAttr:function(_3fb){this.portlet=_3fb;},toggle:function(){var n=this.domNode;if(dojo.style(n,"display")=="none"){dojo.style(n,{"display":"block","height":"1px","width":"auto"});dojo.fx.wipeIn({node:n}).play();}else{dojo.fx.wipeOut({node:n,onEnd:dojo.hitch(this,function(){dojo.style(n,{"display":"none","height":"","width":""});})}).play();}},destroy:function(){}});dojo.declare("xwt.widget.layout.DashletDialogSettings",xwt.widget.layout.DashletSettings,{dimensions:null,constructor:function(_3fc,node){this.dimensions=_3fc.dimensions||[300,100];},toggle:function(){if(!this.dialog){dojo["require"]("dijit.Dialog");this.dialog=new dijit.Dialog({title:this.title});dojo.body().appendChild(this.dialog.domNode);this.dialog.containerNode.appendChild(this.domNode);dojo.style(this.dialog.domNode,{"width":this.dimensions[0]+"px","height":this.dimensions[1]+"px"});dojo.style(this.domNode,"display","");}if(this.dialog.open){this.dialog.hide();}else{this.dialog.show(this.domNode);}}});}if(!dojo._hasResource["dijit.Tooltip"]){dojo._hasResource["dijit.Tooltip"]=true;dojo.provide("dijit.Tooltip");dojo.declare("dijit._MasterTooltip",[dijit._Widget,dijit._Templated],{duration:dijit.defaultDuration,templateString:dojo.cache("dijit","templates/Tooltip.html","<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\">\r\n\t<div class=\"dijitTooltipContainer dijitTooltipContents\" dojoAttachPoint=\"containerNode\" waiRole='alert'></div>\r\n\t<div class=\"dijitTooltipConnector\"></div>\r\n</div>\r\n"),postCreate:function(){dojo.body().appendChild(this.domNode);this.bgIframe=new dijit.BackgroundIframe(this.domNode);this.fadeIn=dojo.fadeIn({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onShow")});this.fadeOut=dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onHide")});},show:function(_3fd,_3fe,_3ff){if(this.aroundNode&&this.aroundNode===_3fe){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_3fd;this.domNode.style.top=(this.domNode.offsetTop+1)+"px";var pos=dijit.placeOnScreenAroundElement(this.domNode,_3fe,dijit.getPopupAroundAlignment((_3ff&&_3ff.length)?_3ff:dijit.Tooltip.defaultPosition,this.isLeftToRight()),dojo.hitch(this,"orient"));dojo.style(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_3fe;},orient:function(node,_400,_401){node.className="dijitTooltip "+{"BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_400+"-"+_401];},_onShow:function(){if(dojo.isIE){this.domNode.style.filter="";}},hide:function(_402){if(this._onDeck&&this._onDeck[1]==_402){this._onDeck=null;}else{if(this.aroundNode===_402){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});dijit.showTooltip=function(_403,_404,_405){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.show(_403,_404,_405);};dijit.hideTooltip=function(_406){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.hide(_406);};dojo.declare("dijit.Tooltip",dijit._Widget,{label:"",showDelay:400,connectId:[],position:[],constructor:function(){this._nodeConnectionsById={};},_setConnectIdAttr:function(_407){for(var _408 in this._nodeConnectionsById){this.removeTarget(_408);}dojo.forEach(dojo.isArrayLike(_407)?_407:[_407],this.addTarget,this);},_getConnectIdAttr:function(){var ary=[];for(var id in this._nodeConnectionsById){ary.push(id);}return ary;},addTarget:function(id){var node=dojo.byId(id);if(!node){return;}if(node.id in this._nodeConnectionsById){return;}this._nodeConnectionsById[node.id]=[this.connect(node,"onmouseenter","_onTargetMouseEnter"),this.connect(node,"onmouseleave","_onTargetMouseLeave"),this.connect(node,"onfocus","_onTargetFocus"),this.connect(node,"onblur","_onTargetBlur")];if(dojo.isIE&&!node.style.zoom){node.style.zoom=1;}},removeTarget:function(node){var id=node.id||node;if(id in this._nodeConnectionsById){dojo.forEach(this._nodeConnectionsById[id],this.disconnect,this);delete this._nodeConnectionsById[id];}},postCreate:function(){dojo.addClass(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;dojo.forEach(dojo.isArrayLike(ids)?ids:[ids],this.addTarget,this);},_onTargetMouseEnter:function(e){this._onHover(e);},_onTargetMouseLeave:function(e){this._onUnHover(e);},_onTargetFocus:function(e){this._focus=true;this._onHover(e);},_onTargetBlur:function(e){this._focus=false;this._onUnHover(e);},_onHover:function(e){if(!this._showTimer){var _409=e.target;this._showTimer=setTimeout(dojo.hitch(this,function(){this.open(_409);}),this.showDelay);}},_onUnHover:function(e){if(this._focus){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}this.close();},open:function(_40a){if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}dijit.showTooltip(this.label||this.domNode.innerHTML,_40a,this.position);this._connectNode=_40a;this.onShow(_40a,this.position);},close:function(){if(this._connectNode){dijit.hideTooltip(this._connectNode);delete this._connectNode;this.onHide();}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}},onShow:function(_40b,_40c){},onHide:function(){},uninitialize:function(){this.close();this.inherited(arguments);}});dijit.Tooltip.defaultPosition=["after","before"];}if(!dojo._hasResource["xwt.widget.layout.Breadcrumb"]){dojo._hasResource["xwt.widget.layout.Breadcrumb"]=true;dojo.provide("xwt.widget.layout.Breadcrumb");dojo.declare("xwt.widget.layout.Breadcrumb",[dijit._Widget,dijit._Templated],{breadcrumbItems:"",templateString:"<span dojoAttachPoint=\"breadcrumb_span\"></span>\r\n",ellipsesNotation:"...",ellipsesFlag:false,ellipsesStr:"",showEllipsesFlag:true,_ellipsesCounter:"3",spacerString:"&nbsp;>&nbsp;",nested:false,startup:function(){this.inherited(arguments);if(this.nested){this._nested(this.breadcrumb_span);}},_nested:function(_40d){dojo.addClass(_40d,"nested");},addItems:function(_40e){var node="";if(dojo.isArray(_40e)){node=_40e;}else{var _40f=eval("("+_40e+")");this.breadcrumbItems.items[this.breadcrumbItems.items.length]=_40f;node=this.breadcrumbItems.items;}var _410=this.breadcrumb_span;_410.innerHTML="";this.ellipsesFlag=false;this.ellipsesStr="";if(node.length>parseInt(this.getCounter(),10)){for(var i=0;i<node.length;i++){if(this.showEllipses()){if(i===0||i===node.length-2||i===node.length-1){this._addData(node[i],_410,i);}else{this._addEllipses(node[i],_410);}}else{this._addData(node[i],_410,i);}}}else{for(i=0;i<node.length;i++){this._addData(node[i],_410,i);}}if(this.showEllipses()){var _411=dojo.byId("ellipsesId");if(this.ellipsesEvent){dojo.disconnect(this.ellipsesEvent);this.ellipsesEvent=null;}this.ellipsesEvent=dojo.connect(_411,"onclick",this,"expandEllipses");}},showEllipses:function(){return this.showEllipsesFlag;},setCounter:function(_412){this._ellipsesCounter=_412;},getCounter:function(){return this._ellipsesCounter;},_addData:function(node,_413,_414){var _415=document;if(node.destination){var _416;if(_414==this.breadcrumbItems.items.length-1){_416=_415.createElement("span");dojo.addClass(_416,"xwtBreadcrumbText");}else{_416=_415.createElement("a");_416.setAttribute("href",node.destination);dojo.addClass(_413,"xwtBreadcrumb");}if(this.nested){this._nested(_413);}_416.innerHTML=node.label;if(_414>0){_413.appendChild(this.getSeperator());_413.appendChild(_416);}else{_413.appendChild(_416);}}else{if(node.htmlText){var _417=_415.createElement("span");dojo.addClass(_417,"xwtBreadcrumbText");_417.innerHTML=node.htmlText;if(_414>0){_413.appendChild(this.getSeperator());_413.appendChild(_417);}else{_413.appendChild(_417);}}else{var _418=_415.createElement("span");dojo.addClass(_418,"xwtBreadcrumbText");_418.innerHTML=node.label;if(_414>0){_413.appendChild(this.getSeperator());_413.appendChild(_418);}else{_413.appendChild(_418);}}}},_addEllipses:function(node,_419){if(!this.ellipsesFlag){var _41a=document.createElement("span");_41a.innerHTML=this.ellipsesNotation;_41a.setAttribute("id","ellipsesId");dojo.addClass(_41a,"xwtEllipses");this.ellipsesFlag=true;if(node.destination){this.ellipsesStr+=node.label+this.spacerString;}else{if(node.htmlText){this.ellipsesStr+=node.htmlText+this.spacerString;}else{this.ellipsesStr+=node.label+this.spacerString;}}_41a.title=this._convertBreadcrumbTxtToPresentableString();_419.appendChild(this.getSeperator());_419.appendChild(_41a);}else{if(node.destination){this.ellipsesStr+=node.label+this.spacerString;}else{if(node.htmlText){this.ellipsesStr+=node.htmlText+this.spacerString;}else{this.ellipsesStr+=node.label+this.spacerString;}}var _41a=dojo.byId("ellipsesId");_41a.title=this._convertBreadcrumbTxtToPresentableString();}},expandEllipses:function(){if(this.ellipsesEvent){dojo.disconnect(this.ellipsesEvent);this.ellipsesEvent=null;}var _41b=this.breadcrumb_span;_41b.innerHTML="";var node=this.breadcrumbItems.items;for(i=0;i<node.length;i++){this._addData(node[i],_41b,i);}},_convertBreadcrumbTxtToPresentableString:function(){var _41c=this.ellipsesStr;var _41d=_41c.replace(/&nbsp;/g," ");return _41d;},showBCTooltip:function(){var _41e=this._convertBreadcrumbTxtToPresentableString();this.tooltip=new dijit.Tooltip({label:_41e,position:top});this.tooltip.open(dojo.byId("ellipsesId"));dojo.connect(dojo.byId("ellipsesId"),"onmouseout",this,"_closeBCTooltip");},_closeBCTooltip:function(){this.tooltip.close();},removeItems:function(){var _41f=this.breadcrumb_span;_41f.innerHTML="";var node=this.breadcrumbItems.items;if(node.length>=2){var _420=node.pop();this.addItems(this.breadcrumbItems.items);}else{this.addItems(this.breadcrumbItems.items);}},setBreadcrumbItems:function(_421){if(dojo.isString(_421)){this.breadcrumbItems=eval("("+_421+")");}var _422=document;var _423=this.breadcrumb_span;_423.innerHTML="";var node=this.breadcrumbItems.items;for(var i=0;i<node.length;i++){if(node[i].destination){var a;if(i==node.length-1){a=_422.createElement("span");a.setAttribute("href",node[i].destination);dojo.addClass(a,"xwtBreadcrumbText");}else{a=_422.createElement("a");a.setAttribute("href",node[i].destination);dojo.addClass(_423,"xwtBreadcrumb");}a.innerHTML=node[i].label;_423.appendChild(a);if(i!=node.length-1){_423.appendChild(this.getSeperator());}}else{if(node[i].htmlText){var span=_422.createElement("span");dojo.addClass(span,"xwtBreadcrumbText");span.innerHTML=node[i].htmlText;_423.appendChild(span);if(i!=node.length-1){_423.appendChild(this.getSeperator());}}else{var span=_422.createElement("span");dojo.addClass(span,"xwtBreadcrumbText");span.innerHTML=node[i].label;_423.appendChild(span);if(i!=node.length-1){_423.appendChild(this.getSeperator());}}}}},getSeperator:function(){var _424=document.createElement("span");dojo.addClass(_424,"xwtBreadcrumbSeparator");_424.innerHTML=this.spacerString;return _424;},postCreate:function(){if(dojo.isString(this.breadcrumbItems)){this.breadcrumbItems=eval("("+this.breadcrumbItems+")");}var _425=this.breadcrumb_span;var node=this.breadcrumbItems.items;var _426=document;for(var i=0;i<node.length;i++){if(node[i].destination){var a;if(i==node.length-1){a=_426.createElement("span");a.setAttribute("href",node[i].destination);dojo.addClass(a,"xwtBreadcrumbText");}else{a=_426.createElement("a");a.setAttribute("href",node[i].destination);dojo.addClass(_425,"xwtBreadcrumb");}a.innerHTML=node[i].label;_425.appendChild(a);if(i!=node.length-1){_425.appendChild(this.getSeperator());}}else{if(node[i].htmlText){var span=_426.createElement("span");dojo.addClass(span,"xwtBreadcrumbText");span.innerHTML=node[i].htmlText;_425.appendChild(span);if(i!=node.length-1){_425.appendChild(this.getSeperator());}}else{var span=_426.createElement("span");dojo.addClass(span,"xwtBreadcrumbText");span.innerHTML=node[i].label;_425.appendChild(span);if(i!=node.length-1){_425.appendChild(this.getSeperator());}}}}}});}if(!dojo._hasResource["xwt.widget.form.ListBox"]){dojo._hasResource["xwt.widget.form.ListBox"]=true;dojo.provide("xwt.widget.form.ListBox");dojo.declare("xwt.widget.form.ListBox",[dijit._Widget,dijit._Templated,dijit.form._FormWidget],{templateString:"<select multiple=\"true\" class=\"${baseClass}\" size=\"${size}\" dojoAttachPoint=\"containerNode,focusNode\" dojoType=\"dijit.form.MultiSelect\">\r\n</select>\r\n\t\t\r\n",baseClass:"xwtlistbox",size:8,store:null,searchAttr:"",disabled:false,postCreate:function(){this.inherited(arguments);this._createOptions();if(this.disabled==true){dojo.attr(this.focusNode,"disabled",this.disabled);}},_createOptions:function(){if(this.store){if(this.containerNode!=null){this.store.fetch({onItem:dojo.hitch(this,"_addOption")});}}},_addOption:function(item){var _427=dojo.doc.createElement("option");if(this.searchAttr){_427.innerHTML=this.store.getValue(item,this.searchAttr);}else{_427.innerHTML=this.store.getLabel(item);}_427.value=this.store.getIdentity(item);if(this.store.getValue(item,"selected")=="true"){_427.selected="selected";}this.containerNode.appendChild(_427);},getSelectedItemsValue:function(){if(this.containerNode==null){return;}var _428=new Array();dojo.query("option",this.containerNode).filter(function(n){return n.selected;}).forEach(function(n){_428.push(n.value);});if(_428.length>0){return _428;}else{return null;}},getSelectedItemsText:function(){if(this.containerNode==null){return;}var _429=new Array();dojo.query("option",this.containerNode).filter(function(n){return n.selected;}).forEach(function(n){_429.push(n.text);});if(_429.length>0){return _429;}else{return null;}},resize:function(size){if(size){dojo.marginBox(this,size);}},setStore:function(_42a){this.store=_42a;},refresh:function(){this.clearOptions();this._createOptions();},clearOptions:function(){dojo.query("option",this.containerNode).orphan();}});}if(!dojo._hasResource["xwt.widget.form.TextButton"]){dojo._hasResource["xwt.widget.form.TextButton"]=true;dojo.provide("xwt.widget.form.TextButton");dojo.declare("xwt.widget.form.TextButton",[dijit.form.Button],{baseClass:"xwt-TextButton",templateString:null,templateString:"<span class=\"dijit dijitReset dijitLeft dijitInline xwtButtonBorder\"\r\n\tdojoAttachEvent=\"ondijitclick:_onButtonClick,onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse \"\r\n\tdojoAttachPoint=\"styleEventNode\"\r\n\t><span class=\"dijitReset xwt-TextRight dijitInline\"\r\n\t\t><span class=\"dijitReset dijitInline xwt-TextButtonNode\"\r\n\t\t\t><button class=\"dijitReset dijitStretch xwt-TextButtonContents\"\r\n\t\t\t\tdojoAttachPoint=\"titleNode,focusNode\" \r\n\t\t\t\t${nameAttrSetting} type=\"${type}\" value=\"${value}\" waiRole=\"button\" waiState=\"labelledby-${id}_label\"\r\n\t\t\t\t><span class=\"dijitReset dijitInline xwt-TextButtonIconNode\" dojoAttachPoint=\"iconNode\"\r\n\t\t\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#10003;</span\r\n\t\t\t\t></span\r\n\t\t\t\t><span class=\"dijitReset dijitInline xwt-TextButtonText\" \r\n\t\t\t\t\tid=\"${id}_label\"  \r\n\t\t\t\t\tdojoAttachPoint=\"containerNode\"\r\n\t\t\t\t></span\r\n\t\t\t></button\r\n\t\t></span\r\n\t></span\r\n></span>\r\n",focus:function(){this.inherited(arguments);if(this===undefined||this.styleEventNode===undefined){return;}if(this.baseClass==="defaultButton"){dojo.addClass(this.styleEventNode,"defaultButton");dojo.addClass(this.styleEventNode,"defaultButtonHover");}else{dojo.addClass(this.styleEventNode,"xwt-TextButton");dojo.addClass(this.styleEventNode,"xwt-TextButtonHover");}dojo.addClass(this.styleEventNode,"dijitHover");},onBlur:function(){this.inherited(arguments);if(this===undefined||this.styleEventNode===undefined){return;}if(this.baseClass==="defaultButton"){dojo.removeClass(this.styleEventNode,"defaultButton");dojo.removeClass(this.styleEventNode,"defaultButtonHover");}else{dojo.removeClass(this.styleEventNode,"xwt-TextButtonHover");}dojo.removeClass(this.styleEventNode,"dijitHover");}});}if(!dojo._hasResource["dijit.form.ValidationTextBox"]){dojo._hasResource["dijit.form.ValidationTextBox"]=true;dojo.provide("dijit.form.ValidationTextBox");dojo.declare("dijit.form.ValidationTextBox",dijit.form.TextBox,{templateString:dojo.cache("dijit.form","templates/ValidationTextBox.html","<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\r\n\tid=\"widget_${id}\"\r\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\" waiRole=\"presentation\"\r\n\t><div style=\"overflow:hidden;\"\r\n\t\t><div class=\"dijitReset dijitValidationIcon\"><br></div\r\n\t\t><div class=\"dijitReset dijitValidationIconText\">&Chi;</div\r\n\t\t><div class=\"dijitReset dijitInputField\"\r\n\t\t\t><input class=\"dijitReset\" dojoAttachPoint='textbox,focusNode' autocomplete=\"off\"\r\n\t\t\t${nameAttrSetting} type='${type}'\r\n\t\t/></div\r\n\t></div\r\n></div>\r\n"),baseClass:"dijitTextBox",required:false,promptMessage:"",invalidMessage:"$_unset_$",constraints:{},regExp:".*",regExpGen:function(_42b){return this.regExp;},state:"",tooltipPosition:[],_setValueAttr:function(){this.inherited(arguments);this.validate(this._focused);},validator:function(_42c,_42d){return (new RegExp("^(?:"+this.regExpGen(_42d)+")"+(this.required?"":"?")+"$")).test(_42c)&&(!this.required||!this._isEmpty(_42c))&&(this._isEmpty(_42c)||this.parse(_42c,_42d)!==undefined);},_isValidSubset:function(){return this.textbox.value.search(this._partialre)==0;},isValid:function(_42e){return this.validator(this.textbox.value,this.constraints);},_isEmpty:function(_42f){return /^\s*$/.test(_42f);},getErrorMessage:function(_430){return this.invalidMessage;},getPromptMessage:function(_431){return this.promptMessage;},_maskValidSubsetError:true,validate:function(_432){var _433="";var _434=this.disabled||this.isValid(_432);if(_434){this._maskValidSubsetError=true;}var _435=!_434&&_432&&this._isValidSubset();var _436=this._isEmpty(this.textbox.value);if(_436){this._maskValidSubsetError=true;}this.state=(_434||(!this._hasBeenBlurred&&_436)||_435)?"":"Error";if(this.state=="Error"){this._maskValidSubsetError=false;}this._setStateClass();dijit.setWaiState(this.focusNode,"invalid",_434?"false":"true");if(_432){if(_436){_433=this.getPromptMessage(true);}if(!_433&&(this.state=="Error"||(_435&&!this._maskValidSubsetError))){_433=this.getErrorMessage(true);}}this.displayMessage(_433);return _434;},_message:"",displayMessage:function(_437){if(this._message==_437){return;}this._message=_437;dijit.hideTooltip(this.domNode);if(_437){dijit.showTooltip(_437,this.domNode,this.tooltipPosition);}},_refreshState:function(){this.validate(this._focused);this.inherited(arguments);},constructor:function(){this.constraints={};},postMixInProperties:function(){this.inherited(arguments);this.constraints.locale=this.lang;this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);if(this.invalidMessage=="$_unset_$"){this.invalidMessage=this.messages.invalidMessage;}var p=this.regExpGen(this.constraints);this.regExp=p;var _438="";if(p!=".*"){this.regExp.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){switch(re.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":_438+=re;break;case ")":_438+="|$)";break;default:_438+="(?:"+re+"|$)";break;}});}try{"".search(_438);}catch(e){_438=this.regExp;console.warn("RegExp error in "+this.declaredClass+": "+this.regExp);}this._partialre="^(?:"+_438+")$";},_setDisabledAttr:function(_439){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function(_43a){this.required=_43a;dijit.setWaiState(this.focusNode,"required",_43a);this._refreshState();},postCreate:function(){if(dojo.isIE){var s=dojo.getComputedStyle(this.focusNode);if(s){var ff=s.fontFamily;if(ff){this.focusNode.style.fontFamily=ff;}}}this.inherited(arguments);},reset:function(){this._maskValidSubsetError=true;this.inherited(arguments);},_onBlur:function(){this.displayMessage("");this.inherited(arguments);}});dojo.declare("dijit.form.MappedTextBox",dijit.form.ValidationTextBox,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting="";},serialize:function(val,_43b){return val.toString?val.toString():"";},toString:function(){var val=this.filter(this.attr("value"));return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.valueNode=dojo.place("<input type='hidden'"+(this.name?" name='"+this.name+"'":"")+">",this.textbox,"after");},reset:function(){this.valueNode.value="";this.inherited(arguments);}});dojo.declare("dijit.form.RangeBoundTextBox",dijit.form.MappedTextBox,{rangeMessage:"",rangeCheck:function(_43c,_43d){return ("min" in _43d?(this.compare(_43c,_43d.min)>=0):true)&&("max" in _43d?(this.compare(_43c,_43d.max)<=0):true);},isInRange:function(_43e){return this.rangeCheck(this.attr("value"),this.constraints);},_isDefinitelyOutOfRange:function(){var val=this.attr("value");var _43f=false;var _440=false;if("min" in this.constraints){var min=this.constraints.min;min=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min);_43f=(typeof min=="number")&&min<0;}if("max" in this.constraints){var max=this.constraints.max;max=this.compare(val,((typeof max!="number")||max>0)?max:0);_440=(typeof max=="number")&&max>0;}return _43f||_440;},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();},isValid:function(_441){return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_441));},getErrorMessage:function(_442){var v=this.attr("value");if(v!==null&&v!==""&&v!==undefined&&!this.isInRange(_442)){return this.rangeMessage;}return this.inherited(arguments);},postMixInProperties:function(){this.inherited(arguments);if(!this.rangeMessage){this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage;}},postCreate:function(){this.inherited(arguments);if(this.constraints.min!==undefined){dijit.setWaiState(this.focusNode,"valuemin",this.constraints.min);}if(this.constraints.max!==undefined){dijit.setWaiState(this.focusNode,"valuemax",this.constraints.max);}},_setValueAttr:function(_443,_444){dijit.setWaiState(this.focusNode,"valuenow",_443);this.inherited(arguments);}});}if(!dojo._hasResource["dijit.form.ComboBox"]){dojo._hasResource["dijit.form.ComboBox"]=true;dojo.provide("dijit.form.ComboBox");dojo.declare("dijit.form.ComboBoxMixin",null,{item:null,pageSize:Infinity,store:null,fetchProperties:{},query:{},autoComplete:true,highlightMatch:"first",searchDelay:100,searchAttr:"name",labelAttr:"",labelType:"text",queryExpr:"${0}*",ignoreCase:true,hasDownArrow:true,templateString:dojo.cache("dijit.form","templates/ComboBox.html","<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\r\n\tid=\"widget_${id}\"\r\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\" dojoAttachPoint=\"comboNode\" waiRole=\"combobox\" tabIndex=\"-1\"\r\n\t><div style=\"overflow:hidden;\"\r\n\t\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton'\r\n\t\t\tdojoAttachPoint=\"downArrowNode\" waiRole=\"presentation\"\r\n\t\t\tdojoAttachEvent=\"onmousedown:_onArrowMouseDown,onmouseup:_onMouse,onmouseenter:_onMouse,onmouseleave:_onMouse\"\r\n\t\t\t><div class=\"dijitArrowButtonInner\">&thinsp;</div\r\n\t\t\t><div class=\"dijitArrowButtonChar\">&#9660;</div\r\n\t\t></div\r\n\t\t><div class=\"dijitReset dijitValidationIcon\"><br></div\r\n\t\t><div class=\"dijitReset dijitValidationIconText\">&Chi;</div\r\n\t\t><div class=\"dijitReset dijitInputField\"\r\n\t\t\t><input ${nameAttrSetting} type=\"text\" autocomplete=\"off\" class='dijitReset'\r\n\t\t\tdojoAttachEvent=\"onkeypress:_onKeyPress,compositionend\"\r\n\t\t\tdojoAttachPoint=\"textbox,focusNode\" waiRole=\"textbox\" waiState=\"haspopup-true,autocomplete-list\"\r\n\t\t/></div\r\n\t></div\r\n></div>\r\n"),baseClass:"dijitComboBox",_getCaretPos:function(_445){var pos=0;if(typeof (_445.selectionStart)=="number"){pos=_445.selectionStart;}else{if(dojo.isIE){var tr=dojo.doc.selection.createRange().duplicate();var ntr=_445.createTextRange();tr.move("character",0);ntr.move("character",0);try{ntr.setEndPoint("EndToEnd",tr);pos=String(ntr.text).replace(/\r/g,"").length;}catch(e){}}}return pos;},_setCaretPos:function(_446,_447){_447=parseInt(_447);dijit.selectInputText(_446,_447,_447);},_setDisabledAttr:function(_448){this.inherited(arguments);dijit.setWaiState(this.comboNode,"disabled",_448);},_abortQuery:function(){if(this.searchTimer){clearTimeout(this.searchTimer);this.searchTimer=null;}if(this._fetchHandle){if(this._fetchHandle.abort){this._fetchHandle.abort();}this._fetchHandle=null;}},_onKeyPress:function(evt){var key=evt.charOrCode;if(evt.altKey||((evt.ctrlKey||evt.metaKey)&&(key!="x"&&key!="v"))||key==dojo.keys.SHIFT){return;}var _449=false;var _44a="_startSearchFromInput";var pw=this._popupWidget;var dk=dojo.keys;var _44b=null;this._prev_key_backspace=false;this._abortQuery();if(this._isShowingNow){pw.handleKey(key);_44b=pw.getHighlightedOption();}switch(key){case dk.PAGE_DOWN:case dk.DOWN_ARROW:case dk.PAGE_UP:case dk.UP_ARROW:if(!this._isShowingNow){this._arrowPressed();_449=true;_44a="_startSearchAll";}else{this._announceOption(_44b);}dojo.stopEvent(evt);break;case dk.ENTER:if(_44b){if(_44b==pw.nextButton){this._nextSearch(1);dojo.stopEvent(evt);break;}else{if(_44b==pw.previousButton){this._nextSearch(-1);dojo.stopEvent(evt);break;}}}else{this._setBlurValue();this._setCaretPos(this.focusNode,this.focusNode.value.length);}evt.preventDefault();case dk.TAB:var _44c=this.attr("displayedValue");if(pw&&(_44c==pw._messages["previousMessage"]||_44c==pw._messages["nextMessage"])){break;}if(_44b){this._selectOption();}if(this._isShowingNow){this._lastQuery=null;this._hideResultList();}break;case " ":if(_44b){dojo.stopEvent(evt);this._selectOption();this._hideResultList();}else{_449=true;}break;case dk.ESCAPE:if(this._isShowingNow){dojo.stopEvent(evt);this._hideResultList();}break;case dk.DELETE:case dk.BACKSPACE:this._prev_key_backspace=true;_449=true;break;default:_449=typeof key=="string"||key==229;}if(_449){this.item=undefined;this.searchTimer=setTimeout(dojo.hitch(this,_44a),1);}},_autoCompleteText:function(text){var fn=this.focusNode;dijit.selectInputText(fn,fn.value.length);var _44d=this.ignoreCase?"toLowerCase":"substr";if(text[_44d](0).indexOf(this.focusNode.value[_44d](0))==0){var cpos=this._getCaretPos(fn);if((cpos+1)>fn.value.length){fn.value=text;dijit.selectInputText(fn,cpos);}}else{fn.value=text;dijit.selectInputText(fn);}},_openResultList:function(_44e,_44f){this._fetchHandle=null;if(this.disabled||this.readOnly||(_44f.query[this.searchAttr]!=this._lastQuery)){return;}this._popupWidget.clearResultList();if(!_44e.length){this._hideResultList();return;}_44f._maxOptions=this._maxOptions;var _450=this._popupWidget.createOptions(_44e,_44f,dojo.hitch(this,"_getMenuLabelFromItem"));this._showResultList();if(_44f.direction){if(1==_44f.direction){this._popupWidget.highlightFirstOption();}else{if(-1==_44f.direction){this._popupWidget.highlightLastOption();}}this._announceOption(this._popupWidget.getHighlightedOption());}else{if(this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(_44f.query[this.searchAttr])){this._announceOption(_450[1]);}}},_showResultList:function(){this._hideResultList();this._arrowPressed();this.displayMessage("");dojo.style(this._popupWidget.domNode,{width:"",height:""});var best=this.open();var _451=dojo.marginBox(this._popupWidget.domNode);this._popupWidget.domNode.style.overflow=((best.h==_451.h)&&(best.w==_451.w))?"hidden":"auto";var _452=best.w;if(best.h<this._popupWidget.domNode.scrollHeight){_452+=16;}dojo.marginBox(this._popupWidget.domNode,{h:best.h,w:Math.max(_452,this.domNode.offsetWidth)});if(_452<this.domNode.offsetWidth){this._popupWidget.domNode.parentNode.style.left=dojo.position(this.domNode).x+"px";}dijit.setWaiState(this.comboNode,"expanded","true");},_hideResultList:function(){this._abortQuery();if(this._isShowingNow){dijit.popup.close(this._popupWidget);this._arrowIdle();this._isShowingNow=false;dijit.setWaiState(this.comboNode,"expanded","false");dijit.removeWaiState(this.focusNode,"activedescendant");}},_setBlurValue:function(){var _453=this.attr("displayedValue");var pw=this._popupWidget;if(pw&&(_453==pw._messages["previousMessage"]||_453==pw._messages["nextMessage"])){this._setValueAttr(this._lastValueReported,true);}else{if(typeof this.item=="undefined"){this.item=null;this.attr("displayedValue",_453);}else{if(this.value!=this._lastValueReported){dijit.form._FormValueWidget.prototype._setValueAttr.call(this,this.value,true);}this._refreshState();}}},_onBlur:function(){this._hideResultList();this._arrowIdle();this.inherited(arguments);},_setItemAttr:function(item,_454,_455){if(!_455){_455=this.labelFunc(item,this.store);}this.value=this._getValueField()!=this.searchAttr?this.store.getIdentity(item):_455;this.item=item;dijit.form.ComboBox.superclass._setValueAttr.call(this,this.value,_454,_455);},_announceOption:function(node){if(!node){return;}var _456;if(node==this._popupWidget.nextButton||node==this._popupWidget.previousButton){_456=node.innerHTML;this.item=undefined;this.value="";}else{_456=this.labelFunc(node.item,this.store);this.attr("item",node.item,false,_456);}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);dijit.setWaiState(this.focusNode,"activedescendant",dojo.attr(node,"id"));this._autoCompleteText(_456);},_selectOption:function(evt){if(evt){this._announceOption(evt.target);}this._hideResultList();this._setCaretPos(this.focusNode,this.focusNode.value.length);dijit.form._FormValueWidget.prototype._setValueAttr.call(this,this.value,true);},_onArrowMouseDown:function(evt){if(this.disabled||this.readOnly){return;}dojo.stopEvent(evt);this.focus();if(this._isShowingNow){this._hideResultList();}else{this._startSearchAll();}},_startSearchAll:function(){this._startSearch("");},_startSearchFromInput:function(){this._startSearch(this.focusNode.value.replace(/([\\\*\?])/g,"\\$1"));},_getQueryString:function(text){return dojo.string.substitute(this.queryExpr,[text]);},_startSearch:function(key){if(!this._popupWidget){var _457=this.id+"_popup";this._popupWidget=new dijit.form._ComboBoxMenu({onChange:dojo.hitch(this,this._selectOption),id:_457});dijit.removeWaiState(this.focusNode,"activedescendant");dijit.setWaiState(this.textbox,"owns",_457);}var _458=dojo.clone(this.query);this._lastInput=key;this._lastQuery=_458[this.searchAttr]=this._getQueryString(key);this.searchTimer=setTimeout(dojo.hitch(this,function(_459,_45a){this.searchTimer=null;var _45b={queryOptions:{ignoreCase:this.ignoreCase,deep:true},query:_459,onBegin:dojo.hitch(this,"_setMaxOptions"),onComplete:dojo.hitch(this,"_openResultList"),onError:function(_45c){_45a._fetchHandle=null;console.error("dijit.form.ComboBox: "+_45c);dojo.hitch(_45a,"_hideResultList")();},start:0,count:this.pageSize};dojo.mixin(_45b,_45a.fetchProperties);this._fetchHandle=_45a.store.fetch(_45b);var _45d=function(_45e,_45f){_45e.start+=_45e.count*_45f;_45e.direction=_45f;this._fetchHandle=this.store.fetch(_45e);};this._nextSearch=this._popupWidget.onPage=dojo.hitch(this,_45d,this._fetchHandle);},_458,this),this.searchDelay);},_setMaxOptions:function(size,_460){this._maxOptions=size;},_getValueField:function(){return this.searchAttr;},_arrowPressed:function(){if(!this.disabled&&!this.readOnly&&this.hasDownArrow){dojo.addClass(this.downArrowNode,"dijitArrowButtonActive");}},_arrowIdle:function(){if(!this.disabled&&!this.readOnly&&this.hasDownArrow){dojo.removeClass(this.downArrowNode,"dojoArrowButtonPushed");}},compositionend:function(evt){this._onKeyPress({charOrCode:229});},constructor:function(){this.query={};this.fetchProperties={};},postMixInProperties:function(){if(!this.hasDownArrow){this.baseClass="dijitTextBox";}if(!this.store){var _461=this.srcNodeRef;this.store=new dijit.form._ComboBoxDataStore(_461);if(!this.value||((typeof _461.selectedIndex=="number")&&_461.selectedIndex.toString()===this.value)){var item=this.store.fetchSelectedItem();if(item){var _462=this._getValueField();this.value=_462!=this.searchAttr?this.store.getValue(item,_462):this.labelFunc(item,this.store);}}}this.inherited(arguments);},postCreate:function(){var _463=dojo.query("label[for=\""+this.id+"\"]");if(_463.length){_463[0].id=(this.id+"_label");var cn=this.comboNode;dijit.setWaiState(cn,"labelledby",_463[0].id);}this.inherited(arguments);},uninitialize:function(){if(this._popupWidget&&!this._popupWidget._destroyed){this._hideResultList();this._popupWidget.destroy();}this.inherited(arguments);},_getMenuLabelFromItem:function(item){var _464=this.labelAttr?this.store.getValue(item,this.labelAttr):this.labelFunc(item,this.store);var _465=this.labelType;if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){_464=this.doHighlight(_464,this._escapeHtml(this._lastInput));_465="html";}return {html:_465=="html",label:_464};},doHighlight:function(_466,find){var _467="i"+(this.highlightMatch=="all"?"g":"");var _468=this._escapeHtml(_466);find=dojo.regexp.escapeString(find);var ret=_468.replace(new RegExp("(^|\\s)("+find+")",_467),"$1<span class=\"dijitComboBoxHighlightMatch\">$2</span>");return ret;},_escapeHtml:function(str){str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");return str;},open:function(){this._isShowingNow=true;return dijit.popup.open({popup:this._popupWidget,around:this.domNode,parent:this});},reset:function(){this.item=null;this.inherited(arguments);},labelFunc:function(item,_469){return _469.getValue(item,this.searchAttr).toString();}});dojo.declare("dijit.form._ComboBoxMenu",[dijit._Widget,dijit._Templated],{templateString:"<ul class='dijitReset dijitMenu' dojoAttachEvent='onmousedown:_onMouseDown,onmouseup:_onMouseUp,onmouseover:_onMouseOver,onmouseout:_onMouseOut' tabIndex='-1' style='overflow: \"auto\"; overflow-x: \"hidden\";'>"+"<li class='dijitMenuItem dijitMenuPreviousButton' dojoAttachPoint='previousButton' waiRole='option'></li>"+"<li class='dijitMenuItem dijitMenuNextButton' dojoAttachPoint='nextButton' waiRole='option'></li>"+"</ul>",_messages:null,postMixInProperties:function(){this._messages=dojo.i18n.getLocalization("dijit.form","ComboBox",this.lang);this.inherited(arguments);},_setValueAttr:function(_46a){this.value=_46a;this.onChange(_46a);},onChange:function(_46b){},onPage:function(_46c){},postCreate:function(){this.previousButton.innerHTML=this._messages["previousMessage"];this.nextButton.innerHTML=this._messages["nextMessage"];this.inherited(arguments);},onClose:function(){this._blurOptionNode();},_createOption:function(item,_46d){var _46e=_46d(item);var _46f=dojo.doc.createElement("li");dijit.setWaiRole(_46f,"option");if(_46e.html){_46f.innerHTML=_46e.label;}else{_46f.appendChild(dojo.doc.createTextNode(_46e.label));}if(_46f.innerHTML==""){_46f.innerHTML="&nbsp;";}_46f.item=item;return _46f;},createOptions:function(_470,_471,_472){this.previousButton.style.display=(_471.start==0)?"none":"";dojo.attr(this.previousButton,"id",this.id+"_prev");dojo.forEach(_470,function(item,i){var _473=this._createOption(item,_472);_473.className="dijitReset dijitMenuItem";dojo.attr(_473,"id",this.id+i);this.domNode.insertBefore(_473,this.nextButton);},this);var _474=false;if(_471._maxOptions&&_471._maxOptions!=-1){if((_471.start+_471.count)<_471._maxOptions){_474=true;}else{if((_471.start+_471.count)>(_471._maxOptions-1)){if(_471.count==_470.length){_474=true;}}}}else{if(_471.count==_470.length){_474=true;}}this.nextButton.style.display=_474?"":"none";dojo.attr(this.nextButton,"id",this.id+"_next");return this.domNode.childNodes;},clearResultList:function(){while(this.domNode.childNodes.length>2){this.domNode.removeChild(this.domNode.childNodes[this.domNode.childNodes.length-2]);}},_onMouseDown:function(evt){dojo.stopEvent(evt);},_onMouseUp:function(evt){if(evt.target===this.domNode){return;}else{if(evt.target==this.previousButton){this.onPage(-1);}else{if(evt.target==this.nextButton){this.onPage(1);}else{var tgt=evt.target;while(!tgt.item){tgt=tgt.parentNode;}this._setValueAttr({target:tgt},true);}}}},_onMouseOver:function(evt){if(evt.target===this.domNode){return;}var tgt=evt.target;if(!(tgt==this.previousButton||tgt==this.nextButton)){while(!tgt.item){tgt=tgt.parentNode;}}this._focusOptionNode(tgt);},_onMouseOut:function(evt){if(evt.target===this.domNode){return;}this._blurOptionNode();},_focusOptionNode:function(node){if(this._highlighted_option!=node){this._blurOptionNode();this._highlighted_option=node;dojo.addClass(this._highlighted_option,"dijitMenuItemSelected");}},_blurOptionNode:function(){if(this._highlighted_option){dojo.removeClass(this._highlighted_option,"dijitMenuItemSelected");this._highlighted_option=null;}},_highlightNextOption:function(){var fc=this.domNode.firstChild;if(!this.getHighlightedOption()){this._focusOptionNode(fc.style.display=="none"?fc.nextSibling:fc);}else{var ns=this._highlighted_option.nextSibling;if(ns&&ns.style.display!="none"){this._focusOptionNode(ns);}}dijit.scrollIntoView(this._highlighted_option);},highlightFirstOption:function(){this._focusOptionNode(this.domNode.firstChild.nextSibling);dijit.scrollIntoView(this._highlighted_option);},highlightLastOption:function(){this._focusOptionNode(this.domNode.lastChild.previousSibling);dijit.scrollIntoView(this._highlighted_option);},_highlightPrevOption:function(){var lc=this.domNode.lastChild;if(!this.getHighlightedOption()){this._focusOptionNode(lc.style.display=="none"?lc.previousSibling:lc);}else{var ps=this._highlighted_option.previousSibling;if(ps&&ps.style.display!="none"){this._focusOptionNode(ps);}}dijit.scrollIntoView(this._highlighted_option);},_page:function(up){var _475=0;var _476=this.domNode.scrollTop;var _477=dojo.style(this.domNode,"height");if(!this.getHighlightedOption()){this._highlightNextOption();}while(_475<_477){if(up){if(!this.getHighlightedOption().previousSibling||this._highlighted_option.previousSibling.style.display=="none"){break;}this._highlightPrevOption();}else{if(!this.getHighlightedOption().nextSibling||this._highlighted_option.nextSibling.style.display=="none"){break;}this._highlightNextOption();}var _478=this.domNode.scrollTop;_475+=(_478-_476)*(up?-1:1);_476=_478;}},pageUp:function(){this._page(true);},pageDown:function(){this._page(false);},getHighlightedOption:function(){var ho=this._highlighted_option;return (ho&&ho.parentNode)?ho:null;},handleKey:function(key){switch(key){case dojo.keys.DOWN_ARROW:this._highlightNextOption();break;case dojo.keys.PAGE_DOWN:this.pageDown();break;case dojo.keys.UP_ARROW:this._highlightPrevOption();break;case dojo.keys.PAGE_UP:this.pageUp();break;}}});dojo.declare("dijit.form.ComboBox",[dijit.form.ValidationTextBox,dijit.form.ComboBoxMixin],{_setValueAttr:function(_479,_47a,_47b){this.item=null;if(!_479){_479="";}dijit.form.ValidationTextBox.prototype._setValueAttr.call(this,_479,_47a,_47b);}});dojo.declare("dijit.form._ComboBoxDataStore",null,{constructor:function(root){this.root=root;dojo.query("> option",root).forEach(function(node){node.innerHTML=dojo.trim(node.innerHTML);});},getValue:function(item,_47c,_47d){return (_47c=="value")?item.value:(item.innerText||item.textContent||"");},isItemLoaded:function(_47e){return true;},getFeatures:function(){return {"dojo.data.api.Read":true,"dojo.data.api.Identity":true};},_fetchItems:function(args,_47f,_480){if(!args.query){args.query={};}if(!args.query.name){args.query.name="";}if(!args.queryOptions){args.queryOptions={};}var _481=dojo.data.util.filter.patternToRegExp(args.query.name,args.queryOptions.ignoreCase),_482=dojo.query("> option",this.root).filter(function(_483){return (_483.innerText||_483.textContent||"").match(_481);});if(args.sort){_482.sort(dojo.data.util.sorter.createSortFunction(args.sort,this));}_47f(_482,args);},close:function(_484){return;},getLabel:function(item){return item.innerHTML;},getIdentity:function(item){return dojo.attr(item,"value");},fetchItemByIdentity:function(args){var item=dojo.query("option[value='"+args.identity+"']",this.root)[0];args.onItem(item);},fetchSelectedItem:function(){var root=this.root,si=root.selectedIndex;return dojo.query("> option:nth-child("+(si!=-1?si+1:1)+")",root)[0];}});dojo.extend(dijit.form._ComboBoxDataStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["dijit.form.FilteringSelect"]){dojo._hasResource["dijit.form.FilteringSelect"]=true;dojo.provide("dijit.form.FilteringSelect");dojo.declare("dijit.form.FilteringSelect",[dijit.form.MappedTextBox,dijit.form.ComboBoxMixin],{_isvalid:true,required:true,_lastDisplayedValue:"",isValid:function(){return this._isvalid||(!this.required&&this.attr("displayedValue")=="");},_callbackSetLabel:function(_485,_486,_487){if((_486&&_486.query[this.searchAttr]!=this._lastQuery)||(!_486&&_485.length&&this.store.getIdentity(_485[0])!=this._lastQuery)){return;}if(!_485.length){this.valueNode.value="";dijit.form.TextBox.superclass._setValueAttr.call(this,"",_487||(_487===undefined&&!this._focused));this._isvalid=false;this.validate(this._focused);this.item=null;}else{this.attr("item",_485[0],_487);}},_openResultList:function(_488,_489){if(_489.query[this.searchAttr]!=this._lastQuery){return;}this._isvalid=_488.length!=0;this.validate(true);dijit.form.ComboBoxMixin.prototype._openResultList.apply(this,arguments);},_getValueAttr:function(){return this.valueNode.value;},_getValueField:function(){return "value";},_setValueAttr:function(_48a,_48b){if(!this._onChangeActive){_48b=null;}this._lastQuery=_48a;if(_48a===null||_48a===""){this._setDisplayedValueAttr("",_48b);return;}var self=this;this.store.fetchItemByIdentity({identity:_48a,onItem:function(item){self._callbackSetLabel([item],undefined,_48b);}});},_setItemAttr:function(item,_48c,_48d){this._isvalid=true;this.inherited(arguments);this.valueNode.value=this.value;this._lastDisplayedValue=this.textbox.value;},_getDisplayQueryString:function(text){return text.replace(/([\\\*\?])/g,"\\$1");},_setDisplayedValueAttr:function(_48e,_48f){if(!this._created){_48f=false;}if(this.store){this._hideResultList();var _490=dojo.clone(this.query);this._lastQuery=_490[this.searchAttr]=this._getDisplayQueryString(_48e);this.textbox.value=_48e;this._lastDisplayedValue=_48e;var _491=this;var _492={query:_490,queryOptions:{ignoreCase:this.ignoreCase,deep:true},onComplete:function(_493,_494){_491._fetchHandle=null;dojo.hitch(_491,"_callbackSetLabel")(_493,_494,_48f);},onError:function(_495){_491._fetchHandle=null;console.error("dijit.form.FilteringSelect: "+_495);dojo.hitch(_491,"_callbackSetLabel")([],undefined,false);}};dojo.mixin(_492,this.fetchProperties);this._fetchHandle=this.store.fetch(_492);}},postMixInProperties:function(){this.inherited(arguments);this._isvalid=!this.required;},undo:function(){this.attr("displayedValue",this._lastDisplayedValue);}});}if(!dojo._hasResource["xwt.widget.form.FilteringSelect"]){dojo._hasResource["xwt.widget.form.FilteringSelect"]=true;dojo.provide("xwt.widget.form.FilteringSelect");dojo.declare("xwt.widget.form.FilteringSelect",dijit.form.FilteringSelect,{baseClass:"xwtComboBox dijitComboBox",autoComplete:false,highlightMatch:"first",queryExpr:"${0}*",_isvalidsubset:true,_isValidSubset:function(){return this._isvalidsubset;},onTextboxClickEvent:function(e){e.target.blur();this._onArrowMouseDown(e);e.preventDefault();},onItemSelectedEvent:function(e){},_arrowIdle:function(){if(!this.disabled&&!this.readOnly&&this.hasDownArrow){dojo.removeClass(this.downArrowNode,"dojoArrowButtonPushed");dojo.removeClass(this.downArrowNode,"downArrowPressed");}},_arrowPressed:function(){if(!this.disabled&&!this.readOnly&&this.hasDownArrow){dojo.addClass(this.downArrowNode,"dijitArrowButtonActive");dojo.addClass(this.downArrowNode,"downArrowPressed");}},_openResultList:function(_496,_497){this.matchedItems=[];this._matchedFocusIndex=-1;if(!this._createOptionOrig){this._createOptionOrig=this._popupWidget._createOption;var _498=this._createOptionOrig;var _499=this;this._popupWidget._createOption=function(item,_49a){var _49b=_49a(item);var _49c=dojo.doc.createElement("li");dijit.setWaiRole(_49c,"option");if(_49b.html){_49c.innerHTML=_49b.label;}else{_49c.appendChild(dojo.doc.createTextNode(_49b.label));}if(_49c.innerHTML===""){_49c.innerHTML="&nbsp;";}_49c.item=item;if(_49b.matchQuery){_499.matchedItems.push(_49c);}return _49c;};}this.inherited(arguments);try{var _49d=this._getSelectedItem();this._isvalidsubset=this._isvalid;this._isvalid=!!_49d;if(_49d){if(this._isShowingNow){this._popupWidget.domNode.scrollTop=this._popupWidget.domNode.scrollHeight;dijit.scrollIntoView(_49d);this._popupWidget._focusOptionNode(_49d);}}else{var _49e=dojo.query(".dijitComboBoxHighlightMatch",this._popupWidget.domNode);if(_49e.length>0){this._popupWidget.domNode.scrollTop=this._popupWidget.domNode.scrollHeight;dijit.scrollIntoView(_49e[0]);this._focusScrollOptionNode(_49e[0]);}}}catch(e){console.error(e);}},doHighlight:function(_49f,find){var _4a0="i"+(this.highlightMatch=="all"?"g":"");var _4a1=this._escapeHtml(_49f);find=dojo.regexp.escapeString(find);var ret;if(this.highlightMatch=="all"){ret=_4a1.replace(new RegExp("(|\\s)("+find+")",_4a0),"$1<span class=\"dijitComboBoxHighlightMatch\">$2</span>");}else{ret=_4a1.replace(new RegExp("(^)("+find+")",_4a0),"$1<span class=\"dijitComboBoxHighlightMatch\">$2</span>");}return ret;},_focusScrollOptionNode:function(node){if(this.scrollToHighlightedOption!=node){this._blurScrollOptionNode();this.scrollToHighlightedOption=node;dojo.addClass(this.scrollToHighlightedOption.parentNode,"dijitMenuItemSelected");}},_blurScrollOptionNode:function(){if(this.scrollToHighlightedOption!=null&&this.scrollToHighlightedOption.parentNode!=null){dojo.removeClass(this.scrollToHighlightedOption.parentNode,"dijitMenuItemSelected");this.scrollToHighlightedOption=null;}},_getSelectedItem:function(){var _4a2=this._popupWidget;var _4a3=this.attr("displayedValue");var _4a4=_4a2.domNode.children;var _4a5=_4a4.length;for(var i=1;i<_4a5-1;i++){var _4a6="";if(this.labelAttr&&this.labelAttr!==""){_4a6=this.labelAttr;}else{_4a6=this.searchAttr;}var _4a7="";if(dojo.isIE){_4a7=_4a4[i].innerHTML;}else{_4a7=_4a4[i].textContent;}if(_4a7==_4a3){return _4a4[i];}}return null;},startup:function(){this.inherited(arguments);},_startSearch:function(key){this.inherited(arguments);dojo.addClass(this._popupWidget.domNode,this.getPopupClass());},getPopupClass:function(){return "xwtComboBoxPopup";},_onKeyPress:function(evt){var key=evt.charOrCode;var dk=dojo.keys;if(this._popupWidget&&this.matchedItems&&this.matchedItems.length>0){var _4a8=this._matchedFocusIndex;switch(key){case dk.DOWN_ARROW:this._matchedFocusIndex++;break;case dk.UP_ARROW:this._matchedFocusIndex--;break;}if(_4a8!=this._matchedFocusIndex){if(this._matchedFocusIndex>=this.matchedItems.length){this._matchedFocusIndex=0;}else{if(this._matchedFocusIndex<0){this._matchedFocusIndex=this.matchedItems.length-1;}}var _4a9=this.matchedItems[this._matchedFocusIndex];this._announceOption(_4a9);this._popupWidget._focusOptionNode(_4a9);dijit.scrollIntoView(_4a9);dojo.stopEvent(evt);return;}}this.inherited(arguments);},_getMenuLabelFromItem:function(item){var _4aa=this.labelAttr?this.store.getValue(item,this.labelAttr):this.labelFunc(item,this.store);var _4ab=this.labelType;var _4ac=false;if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){var temp=this.doHighlight(_4aa,this._escapeHtml(this._lastInput));if(_4aa!=temp){_4ac=true;}_4aa=temp;_4ab="html";}return {html:_4ab=="html",label:_4aa,matchQuery:_4ac};},getValue:function(){return this.textbox.value;},_de1192_CSCth29102_hack:function(){var _4ad=dojo.position(this.domNode);var _4ae=_4ad.w;_4ae=_4ae+6;dojo.style(this.domNode,"width",_4ae+"px");}});}if(!dojo._hasResource["xwt.widget.form.ComboBox"]){dojo._hasResource["xwt.widget.form.ComboBox"]=true;dojo.provide("xwt.widget.form.ComboBox");dojo.declare("xwt.widget.form.ComboBox",dijit.form.ComboBox,{baseClass:"xwtComboBox dijitComboBox",autoComplete:true,highlightMatch:"first",queryExpr:"${0}*",_openResultList:function(_4af,_4b0){this.inherited(arguments);var _4b1=this._getSelectedItem();if(_4b1){if(this._isShowingNow){this._popupWidget.domNode.scrollTop=this._popupWidget.domNode.scrollHeight;dijit.scrollIntoView(_4b1);this._popupWidget._focusOptionNode(_4b1);}}else{var _4b2=dojo.query(".dijitComboBoxHighlightMatch",this._popupWidget.domNode);if(_4b2.length>0){this._popupWidget.domNode.scrollTop=this._popupWidget.domNode.scrollHeight;dijit.scrollIntoView(_4b2[0]);}}},_onArrowMouseDown:function(evt){if(this.disabled||this.readOnly){return;}dojo.stopEvent(evt);this.focus();if(this._isShowingNow){this._hideResultList();}else{this._startSearchFromInput();}},doHighlight:function(_4b3,find){var _4b4="i"+(this.highlightMatch=="all"?"g":"");var _4b5=this._escapeHtml(_4b3);find=dojo.regexp.escapeString(find);var ret;if(this.highlightMatch=="all"){ret=_4b5.replace(new RegExp("(|\\s)("+find+")",_4b4),"$1<span class=\"dijitComboBoxHighlightMatch\">$2</span>");}else{ret=_4b5.replace(new RegExp("(^)("+find+")",_4b4),"$1<span class=\"dijitComboBoxHighlightMatch\">$2</span>");}return ret;},_focusScrollOptionNode:function(node){if(this.scrollToHighlightedOption!=node){this._blurScrollOptionNode();this.scrollToHighlightedOption=node;dojo.addClass(this.scrollToHighlightedOption.parentNode,"dijitMenuItemSelected");}},_blurScrollOptionNode:function(){if(this.scrollToHighlightedOption!==null&&this.scrollToHighlightedOption.parentNode!==null){dojo.removeClass(this.scrollToHighlightedOption.parentNode,"dijitMenuItemSelected");this.scrollToHighlightedOption=null;}},_getSelectedItem:function(){var _4b6=this._popupWidget;var _4b7=this.getValue();var _4b8=_4b6.domNode.children;var _4b9=_4b8.length;for(var i=1;i<_4b9-1;i++){var _4ba="";if(this.labelAttr&&this.labelAttr!==""){_4ba=this.labelAttr;}else{_4ba=this.searchAttr;}var _4bb="";_4bb=_4b8[i].textContent;if(_4bb==_4b7){return _4b8[i];}}return null;},_arrowIdle:function(){if(!this.disabled&&!this.readOnly&&this.hasDownArrow){dojo.removeClass(this.downArrowNode,"dojoArrowButtonPushed");dojo.removeClass(this.downArrowNode,"downArrowPressed");}},_arrowPressed:function(){if(!this.disabled&&!this.readOnly&&this.hasDownArrow){dojo.addClass(this.downArrowNode,"dijitArrowButtonActive");dojo.addClass(this.downArrowNode,"downArrowPressed");}},startup:function(){this.inherited(arguments);if(dojo.isIE){dojo.style(this.focusNode,"fontFamily","inherit");}if(this.textbox){dojo.attr(this.textbox,"spellcheck","false");}},_startSearch:function(key){this.inherited(arguments);dojo.addClass(this._popupWidget.domNode,"xwtComboBoxPopup");},_getMenuLabelFromItem:function(item){var _4bc=this.labelAttr?this.store.getValue(item,this.labelAttr):this.labelFunc(item,this.store);var _4bd=this.labelType;var _4be=false;if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){var temp=this.doHighlight(_4bc,this._escapeHtml(this._lastInput));if(_4bc!=temp){_4be=true;}_4bc=temp;_4bd="html";}return {html:_4bd=="html",label:_4bc,matchQuery:_4be};},_openResultList:function(_4bf,_4c0){this.matchedItems=[];this._matchedFocusIndex=-1;if(!this._createOptionOrig){this._createOptionOrig=this._popupWidget._createOption;var _4c1=this._createOptionOrig;var _4c2=this;var _4c3=dojo.doc;this._popupWidget._createOption=function(item,_4c4){var _4c5=_4c4(item);var _4c6=_4c3.createElement("li");dijit.setWaiRole(_4c6,"option");if(_4c5.html){_4c6.innerHTML=_4c5.label;}else{_4c6.appendChild(_4c3.createTextNode(_4c5.label));}if(_4c6.innerHTML===""){_4c6.innerHTML="&nbsp;";}_4c6.item=item;if(_4c5.matchQuery){_4c2.matchedItems.push(_4c6);}return _4c6;};}this.inherited(arguments);var _4c7=this._getSelectedItem();if(_4c7){if(this._isShowingNow){this._popupWidget.domNode.scrollTop=this._popupWidget.domNode.scrollHeight;dijit.scrollIntoView(_4c7);this._popupWidget._focusOptionNode(_4c7);}}else{var _4c8=dojo.query(".dijitComboBoxHighlightMatch",this._popupWidget.domNode);if(_4c8.length>0){this._popupWidget.domNode.scrollTop=this._popupWidget.domNode.scrollHeight;dijit.scrollIntoView(_4c8[0]);}}},_onKeyPress:function(evt){var key=evt.charOrCode;var dk=dojo.keys;if(this._popupWidget&&this.matchedItems&&this.matchedItems.length>0){var _4c9=this._matchedFocusIndex;switch(key){case dk.DOWN_ARROW:this._matchedFocusIndex++;break;case dk.UP_ARROW:this._matchedFocusIndex--;break;}if(_4c9!=this._matchedFocusIndex){if(this._matchedFocusIndex>=this.matchedItems.length){this._matchedFocusIndex=0;}else{if(this._matchedFocusIndex<0){this._matchedFocusIndex=this.matchedItems.length-1;}}var _4ca=this.matchedItems[this._matchedFocusIndex];this._announceOption(_4ca);this._popupWidget._focusOptionNode(_4ca);dijit.scrollIntoView(_4ca);dojo.stopEvent(evt);return;}}this.inherited(arguments);}});}if(!dojo._hasResource["xwt.widget.form.Label"]){dojo._hasResource["xwt.widget.form.Label"]=true;dojo.provide("xwt.widget.form.Label");dojo.declare("xwt.widget.form.Label",[dijit._Widget,dijit._Templated],{templateString:"<span dojoAttachPoint=\"labelNode\" class = \"xwtLabel\"></span>",templatePath:null,value:"",style:null,postCreate:function(){this.inherited(arguments);this.domNode.appendChild(document.createTextNode(this.value));},getValue:function(){return this.value;},setValue:function(_4cb){this.value=_4cb;this.labelNode.innerHTML=_4cb;this.onChange(_4cb);},onChange:function(_4cc){}});}if(!dojo._hasResource["dojox.form.Rating"]){dojo._hasResource["dojox.form.Rating"]=true;dojo.provide("dojox.form.Rating");dojo.declare("dojox.form.Rating",dijit.form._FormWidget,{templateString:null,numStars:3,value:0,constructor:function(_4cd){dojo.mixin(this,_4cd);var tpl="<div dojoAttachPoint=\"domNode\" class=\"dojoxRating dijitInline\">"+"<input type=\"hidden\" value=\"0\" dojoAttachPoint=\"focusNode\" /><ul>${stars}</ul>"+"</div>";var _4ce="<li class=\"dojoxRatingStar dijitInline\" dojoAttachEvent=\"onclick:onStarClick,onmouseover:_onMouse,onmouseout:_onMouse\" value=\"${value}\"></li>";var _4cf="";for(var i=0;i<this.numStars;i++){_4cf+=dojo.string.substitute(_4ce,{value:i+1});}this.templateString=dojo.string.substitute(tpl,{stars:_4cf});},postCreate:function(){this.inherited(arguments);this._renderStars(this.value);},_onMouse:function(evt){this.inherited(arguments);if(this._hovering){var _4d0=+dojo.attr(evt.target,"value");this.onMouseOver(evt,_4d0);this._renderStars(_4d0,true);}else{this._renderStars(this.value);}},_renderStars:function(_4d1,_4d2){dojo.query(".dojoxRatingStar",this.domNode).forEach(function(star,i){if(i+1>_4d1){dojo.removeClass(star,"dojoxRatingStarHover");dojo.removeClass(star,"dojoxRatingStarChecked");}else{dojo.removeClass(star,"dojoxRatingStar"+(_4d2?"Checked":"Hover"));dojo.addClass(star,"dojoxRatingStar"+(_4d2?"Hover":"Checked"));}});},onStarClick:function(evt){var _4d3=+dojo.attr(evt.target,"value");this.setAttribute("value",_4d3==this.value?0:_4d3);this._renderStars(this.value);this.onChange(this.value);},onMouseOver:function(){},setAttribute:function(key,_4d4){this.inherited("setAttribute",arguments);if(key=="value"){this._renderStars(this.value);this.onChange(this.value);}}});}if(!dojo._hasResource["xwt.widget.form.Rating"]){dojo._hasResource["xwt.widget.form.Rating"]=true;dojo.provide("xwt.widget.form.Rating");dojo.declare("xwt.widget.form.Rating",dojox.form.Rating,{templateString:null,totalRatings:0,ratingsLabel:"Ratings",constructor:function(_4d5){var tpl="<div class=\"xwtRating dijitInline\">"+"<input type=\"hidden\" value=\"0\" dojoAttachPoint=\"focusNode\" /><ul>${stars}</ul>"+"</div>";var _4d6="<li class=\"xwtRatingStar dijitInline\" dojoAttachEvent=\"onclick:onStarClick,onmouseover:_onMouse,onmouseout:_onMouse\" value=\"${value}\"></li>";var _4d7="";for(var i=0;i<this.numStars;i++){_4d7+=dojo.string.substitute(_4d6,{value:(i+1)});}this.templateString=dojo.string.substitute(tpl,{stars:_4d7});},postCreate:function(){this.inherited(arguments);this.totalRatingsSpan=dojo.create("span",{innerHTML:this._formatTotalRatings(this.totalRatings),"class":"totalRatings"},this.domNode);},_renderStars:function(_4d8,_4d9){var _4da=false;if(String(_4d8).indexOf(".")!=-1){_4da=true;}dojo.query(".xwtRatingStar",this.domNode).forEach(function(star,i){if(i+1>Math.floor(_4d8)){tempVal=Math.floor(_4d8)+1;if(_4da&&(tempVal==i+1)){console.log(i+1);dojo.removeClass(star,"xwtRatingStarHover");dojo.removeClass(star,"xwtRatingStarChecked");dojo.addClass(star,"xwtRatingStarHalfChecked");}else{dojo.removeClass(star,"xwtRatingStarHover");dojo.removeClass(star,"xwtRatingStarHalfChecked");dojo.removeClass(star,"xwtRatingStarChecked");}}else{dojo.removeClass(star,"xwtRatingStarHalfChecked");dojo.removeClass(star,"xwtRatingStar"+(_4d9?"Checked":"Hover"));dojo.addClass(star,"xwtRatingStar"+(_4d9?"Hover":"Checked"));}});},_onMouse:function(evt){if(this.disabled){return;}this.inherited(arguments);},onStarClick:function(evt){if(this.disabled){return;}this.inherited(arguments);},updateTotalRatings:function(_4db){this.totalRatingsSpan.innerHTML=this._formatTotalRatings(_4db);},_formatTotalRatings:function(_4dc){this.totalRatings=_4dc;return "("+this.totalRatings+this.ratingsLabel+")";}});}if(!dojo._hasResource["dijit.form._FormSelectWidget"]){dojo._hasResource["dijit.form._FormSelectWidget"]=true;dojo.provide("dijit.form._FormSelectWidget");dojo.declare("dijit.form._FormSelectWidget",dijit.form._FormValueWidget,{multiple:false,options:null,store:null,query:null,queryOptions:null,onFetch:null,sortByLabel:true,loadChildrenOnOpen:false,getOptions:function(_4dd){var _4de=_4dd,opts=this.options||[],l=opts.length;if(_4de===undefined){return opts;}if(dojo.isArray(_4de)){return dojo.map(_4de,"return this.getOptions(item);",this);}if(dojo.isObject(_4dd)){if(!dojo.some(this.options,function(o,idx){if(o===_4de||(o.value&&o.value===_4de.value)){_4de=idx;return true;}return false;})){_4de=-1;}}if(typeof _4de=="string"){for(var i=0;i<l;i++){if(opts[i].value===_4de){_4de=i;break;}}}if(typeof _4de=="number"&&_4de>=0&&_4de<l){return this.options[_4de];}return null;},addOption:function(_4df){if(!dojo.isArray(_4df)){_4df=[_4df];}dojo.forEach(_4df,function(i){if(i&&dojo.isObject(i)){this.options.push(i);}},this);this._loadChildren();},removeOption:function(_4e0){if(!dojo.isArray(_4e0)){_4e0=[_4e0];}var _4e1=this.getOptions(_4e0);dojo.forEach(_4e1,function(i){if(i){this.options=dojo.filter(this.options,function(node,idx){return (node.value!==i.value);});this._removeOptionItem(i);}},this);this._loadChildren();},updateOption:function(_4e2){if(!dojo.isArray(_4e2)){_4e2=[_4e2];}dojo.forEach(_4e2,function(i){var _4e3=this.getOptions(i),k;if(_4e3){for(k in i){_4e3[k]=i[k];}}},this);this._loadChildren();},setStore:function(_4e4,_4e5,_4e6){var _4e7=this.store;_4e6=_4e6||{};if(_4e7!==_4e4){dojo.forEach(this._notifyConnections||[],dojo.disconnect);delete this._notifyConnections;if(_4e4&&_4e4.getFeatures()["dojo.data.api.Notification"]){this._notifyConnections=[dojo.connect(_4e4,"onNew",this,"_onNewItem"),dojo.connect(_4e4,"onDelete",this,"_onDeleteItem"),dojo.connect(_4e4,"onSet",this,"_onSetItem")];}this.store=_4e4;}this._onChangeActive=false;if(this.options&&this.options.length){this.removeOption(this.options);}if(_4e4){var cb=function(_4e8){if(this.sortByLabel&&!_4e6.sort&&_4e8.length){_4e8.sort(dojo.data.util.sorter.createSortFunction([{attribute:_4e4.getLabelAttributes(_4e8[0])[0]}],_4e4));}if(_4e6.onFetch){_4e8=_4e6.onFetch(_4e8);}dojo.forEach(_4e8,function(i){this._addOptionForItem(i);},this);this._loadingStore=false;this.attr("value",(("_pendingValue" in this)?this._pendingValue:_4e5));delete this._pendingValue;if(!this.loadChildrenOnOpen){this._loadChildren();}else{this._pseudoLoadChildren(_4e8);}this._fetchedWith=opts;this._lastValueReported=this.multiple?[]:null;this._onChangeActive=true;this.onSetStore();this._handleOnChange(this.value);};var opts=dojo.mixin({onComplete:cb,scope:this},_4e6);this._loadingStore=true;_4e4.fetch(opts);}else{delete this._fetchedWith;}return _4e7;},_setValueAttr:function(_4e9,_4ea){if(this._loadingStore){this._pendingValue=_4e9;return;}var opts=this.getOptions()||[];if(!dojo.isArray(_4e9)){_4e9=[_4e9];}dojo.forEach(_4e9,function(i,idx){if(!dojo.isObject(i)){i=i+"";}if(typeof i==="string"){_4e9[idx]=dojo.filter(opts,function(node){return node.value===i;})[0]||{value:"",label:""};}},this);_4e9=dojo.filter(_4e9,function(i){return i&&i.value;});if(!this.multiple&&(!_4e9[0]||!_4e9[0].value)&&opts.length){_4e9[0]=opts[0];}dojo.forEach(opts,function(i){i.selected=dojo.some(_4e9,function(v){return v.value===i.value;});});var val=dojo.map(_4e9,function(i){return i.value;}),disp=dojo.map(_4e9,function(i){return i.label;});this.value=this.multiple?val:val[0];this._setDisplay(this.multiple?disp:disp[0]);this._updateSelection();this._handleOnChange(this.value,_4ea);},_getDisplayedValueAttr:function(){var val=this.attr("value");if(!dojo.isArray(val)){val=[val];}var ret=dojo.map(this.getOptions(val),function(v){if(v&&"label" in v){return v.label;}else{if(v){return v.value;}}return null;},this);return this.multiple?ret:ret[0];},_getValueDeprecated:false,getValue:function(){return this._lastValue;},undo:function(){this._setValueAttr(this._lastValueReported,false);},_loadChildren:function(){if(this._loadingStore){return;}dojo.forEach(this._getChildren(),function(_4eb){_4eb.destroyRecursive();});dojo.forEach(this.options,this._addOptionItem,this);this._updateSelection();},_updateSelection:function(){this.value=this._getValueFromOpts();var val=this.value;if(!dojo.isArray(val)){val=[val];}if(val&&val[0]){dojo.forEach(this._getChildren(),function(_4ec){var _4ed=dojo.some(val,function(v){return _4ec.option&&(v===_4ec.option.value);});dojo.toggleClass(_4ec.domNode,this.baseClass+"SelectedOption",_4ed);dijit.setWaiState(_4ec.domNode,"selected",_4ed);},this);}this._handleOnChange(this.value);},_getValueFromOpts:function(){var opts=this.getOptions()||[];if(!this.multiple&&opts.length){var opt=dojo.filter(opts,function(i){return i.selected;})[0];if(opt&&opt.value){return opt.value;}else{opts[0].selected=true;return opts[0].value;}}else{if(this.multiple){return dojo.map(dojo.filter(opts,function(i){return i.selected;}),function(i){return i.value;})||[];}}return "";},_onNewItem:function(item,_4ee){if(!_4ee||!_4ee.parent){this._addOptionForItem(item);}},_onDeleteItem:function(item){var _4ef=this.store;this.removeOption(_4ef.getIdentity(item));},_onSetItem:function(item){this.updateOption(this._getOptionObjForItem(item));},_getOptionObjForItem:function(item){var _4f0=this.store,_4f1=_4f0.getLabel(item),_4f2=(_4f1?_4f0.getIdentity(item):null);return {value:_4f2,label:_4f1,item:item};},_addOptionForItem:function(item){var _4f3=this.store;if(!_4f3.isItemLoaded(item)){_4f3.loadItem({item:item,onComplete:function(i){this._addOptionForItem(item);},scope:this});return;}var _4f4=this._getOptionObjForItem(item);this.addOption(_4f4);},constructor:function(_4f5){this._oValue=(_4f5||{}).value||null;},_fillContent:function(){var opts=this.options;if(!opts){opts=this.options=this.srcNodeRef?dojo.query(">",this.srcNodeRef).map(function(node){if(node.getAttribute("type")==="separator"){return {value:"",label:"",selected:false,disabled:false};}return {value:node.getAttribute("value"),label:String(node.innerHTML),selected:node.getAttribute("selected")||false,disabled:node.getAttribute("disabled")||false};},this):[];}if(!this.value){this.value=this._getValueFromOpts();}else{if(this.multiple&&typeof this.value=="string"){this.value=this.value.split(",");}}},postCreate:function(){dojo.setSelectable(this.focusNode,false);this.inherited(arguments);this.connect(this,"onChange","_updateSelection");this.connect(this,"startup","_loadChildren");this._setValueAttr(this.value,null);},startup:function(){this.inherited(arguments);var _4f6=this.store,_4f7={};dojo.forEach(["query","queryOptions","onFetch"],function(i){if(this[i]){_4f7[i]=this[i];}delete this[i];},this);if(_4f6&&_4f6.getFeatures()["dojo.data.api.Identity"]){this.store=null;this.setStore(_4f6,this._oValue,_4f7);}},destroy:function(){dojo.forEach(this._notifyConnections||[],dojo.disconnect);this.inherited(arguments);},_addOptionItem:function(_4f8){},_removeOptionItem:function(_4f9){},_setDisplay:function(_4fa){},_getChildren:function(){return [];},_getSelectedOptionsAttr:function(){return this.getOptions(this.attr("value"));},_pseudoLoadChildren:function(_4fb){},onSetStore:function(){}});}if(!dojo._hasResource["dijit.form.Select"]){dojo._hasResource["dijit.form.Select"]=true;dojo.provide("dijit.form.Select");dojo.declare("dijit.form._SelectMenu",dijit.Menu,{buildRendering:function(){this.inherited(arguments);var o=(this.menuTableNode=this.domNode);var n=(this.domNode=dojo.doc.createElement("div"));if(o.parentNode){o.parentNode.replaceChild(n,o);}dojo.removeClass(o,"dijitMenuTable");n.className=o.className+" dijitSelectMenu";o.className="dijitReset dijitMenuTable";dijit.setWaiRole(o,"listbox");dijit.setWaiRole(n,"presentation");n.appendChild(o);this.tabIndex=null;},resize:function(mb){if(mb){dojo.marginBox(this.domNode,mb);var w=dojo.contentBox(this.domNode).w;if(dojo.isMoz&&this.domNode.scrollHeight>this.domNode.clientHeight){w--;}else{if(dojo.isIE<8||(dojo.isIE&&dojo.isQuirks)){w-=16;}}dojo.marginBox(this.menuTableNode,{w:w});}}});dojo.declare("dijit.form.Select",[dijit.form._FormSelectWidget,dijit._HasDropDown],{baseClass:"dijitSelect",templateString:dojo.cache("dijit.form","templates/Select.html","<table class='dijit dijitReset dijitInline dijitLeft'\r\n\tdojoAttachPoint=\"_buttonNode,tableNode\" cellspacing='0' cellpadding='0' waiRole=\"presentation\"\r\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\"\r\n\t><tbody waiRole=\"presentation\"><tr waiRole=\"presentation\"\r\n\t\t><td class=\"dijitReset dijitStretch dijitButtonContents dijitButtonNode\" dojoAttachPoint=\"focusNode\"\r\n\t\t\twaiRole=\"combobox\" waiState=\"haspopup-true\"\r\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"  dojoAttachPoint=\"containerNode,_popupStateNode\"></span\r\n\t\t\t><input type=\"hidden\" ${nameAttrSetting} dojoAttachPoint=\"valueNode\" value=\"${value}\" waiState=\"hidden-true\" />\r\n\t\t</td><td class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton\"\r\n\t\t\t\tdojoAttachPoint=\"titleNode\" waiRole=\"presentation\"\r\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" waiRole=\"presentation\">&thinsp;</div\r\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" waiRole=\"presentation\">&#9660;</div\r\n\t\t></td\r\n\t></tr></tbody\r\n></table>\r\n"),attributeMap:dojo.mixin(dojo.clone(dijit.form._FormSelectWidget.prototype.attributeMap),{style:"tableNode"}),required:false,state:"",tooltipPosition:[],emptyLabel:"",_isLoaded:false,_childrenLoaded:false,_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var si=this.srcNodeRef.selectedIndex;this.value=this.options[si!=-1?si:0].value;}this.dropDown=new dijit.form._SelectMenu();dojo.addClass(this.dropDown.domNode,this.baseClass+"Menu");},_getMenuItemForOption:function(_4fc){if(!_4fc.value){return new dijit.MenuSeparator();}else{var _4fd=dojo.hitch(this,"_setValueAttr",_4fc);var item=new dijit.MenuItem({option:_4fc,label:_4fc.label,onClick:_4fd,disabled:_4fc.disabled||false});dijit.setWaiRole(item.focusNode,"listitem");return item;}},_addOptionItem:function(_4fe){if(this.dropDown){this.dropDown.addChild(this._getMenuItemForOption(_4fe));}},_getChildren:function(){if(!this.dropDown){return [];}return this.dropDown.getChildren();},_loadChildren:function(_4ff){if(_4ff===true){if(this.dropDown){delete this.dropDown.focusedChild;}if(this.options.length){this.inherited(arguments);}else{dojo.forEach(this._getChildren(),function(_500){_500.destroyRecursive();});var item=new dijit.MenuItem({label:"&nbsp;"});this.dropDown.addChild(item);}}else{this._updateSelection();}var len=this.options.length;this._isLoaded=false;this._childrenLoaded=true;if(!this._loadingStore){this._setValueAttr(this.value);}},_setValueAttr:function(_501){this.inherited(arguments);dojo.attr(this.valueNode,"value",this.attr("value"));},_setDisplay:function(_502){this.containerNode.innerHTML="<span class=\"dijitReset dijitInline "+this.baseClass+"Label\">"+(_502||this.emptyLabel||"&nbsp;")+"</span>";dijit.setWaiState(this.focusNode,"valuenow",(_502||this.emptyLabel||"&nbsp;"));},validate:function(_503){var _504=this.isValid(_503);this.state=_504?"":"Error";this._setStateClass();dijit.setWaiState(this.focusNode,"invalid",_504?"false":"true");var _505=_504?"":this._missingMsg;if(this._message!==_505){this._message=_505;dijit.hideTooltip(this.domNode);if(_505){dijit.showTooltip(_505,this.domNode,this.tooltipPosition);}}return _504;},isValid:function(_506){return (!this.required||!(/^\s*$/.test(this.value)));},reset:function(){this.inherited(arguments);dijit.hideTooltip(this.domNode);this.state="";this._setStateClass();delete this._message;},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=dojo.i18n.getLocalization("dijit.form","validate",this.lang).missingMessage;},postCreate:function(){this.inherited(arguments);if(this.tableNode.style.width){dojo.addClass(this.domNode,this.baseClass+"FixedWidth");}},isLoaded:function(){return this._isLoaded;},loadDropDown:function(_507){this._loadChildren(true);this._isLoaded=true;_507();},uninitialize:function(_508){if(this.dropDown&&!this.dropDown._destroyed){this.dropDown.destroyRecursive(_508);delete this.dropDown;}this.inherited(arguments);}});}if(!dojo._hasResource["xwt.widget.form.DropDown"]){dojo._hasResource["xwt.widget.form.DropDown"]=true;dojo.provide("xwt.widget.form.DropDown");dojo.declare("xwt.widget.form.DropDown",dijit.form.Select,{baseClass:"xwtDropDown dijitSelect",closeDropDown:function(_509){this.inherited(arguments);dojo.removeClass(this.titleNode,"dojoArrowButtonPushed");dojo.removeClass(this.titleNode,"downArrowPressed");},openDropDown:function(){this.inherited(arguments);dojo.addClass(this.titleNode,"dijitArrowButtonActive");dojo.addClass(this.titleNode,"downArrowPressed");},startup:function(){this.inherited(arguments);this.tempDropdownConnect=dojo.connect(this,"openDropDown",this,"_sizeWidget");if(this.focus){this._oldFocus=this.focus;this.focus=function(){};}if(this.dropDown){if(this.dropDown.focus){this.dropDown._oldFocus=this.dropDown.focus;this.dropDown.focus=function(){};}if(this.dropDown.domNode){this._oldVisibility=dojo.style(this.dropDown.domNode,"visibility");dojo.style(this.dropDown.domNode,"visibility","hidden");}}this.toggleDropDown();},_sizeWidget:function(){var _50a=dojo.marginBox(this.dropDown.domNode);var _50b=20;var _50c=_50a.w-_50b;if(_50c>0){this.focusNode.style.width=_50c+"px";this.toggleDropDown();if(this.tempDropdownConnect){dojo.disconnect(this.tempDropdownConnect);delete this.tempDropdownConnect;}this._sizeWidgetCalled=true;if(this._oldFocus){this.focus=this._oldFocus;delete this._oldFocus;}if(this.dropDown){if(this.dropDown._oldFocus){this.dropDown.focus=this.dropDown._oldFocus;delete this.dropDown._oldFocus;}if(this.dropDown.domNode&&this._oldVisibility){dojo.style(this.dropDown.domNode,"visibility",this._oldVisibility);delete this._oldVisibility;}}}},_setDisplay:function(_50d){var _50e=null;var _50f=25;if(dojo.hasClass(dojo.body(),"kubricklite")){if(dojo.isIE){_50e=dojo.contentBox(this.domNode);_50f=32;}else{_50e=dojo.marginBox(this.domNode);_50f=37;}}else{if(dojo.isIE){_50e=dojo.contentBox(this.domNode);_50f=25;}else{_50e=dojo.marginBox(this.domNode);_50f=30;}}var _510=null;if(_50e.w>_50f){_510=_50e.w-_50f;}else{if(_50e.w<=0){_510=100;}else{_510=_50e.w;}}this.containerNode.style.width=_510+"px";this.containerNode.innerHTML="<span style = \"width:"+_510+"px;\" class=\"dijitReset dijitInline "+this.baseClass+"Label\">"+(_50d||this.emptyLabel||"&nbsp;")+"</span>";dijit.setWaiState(this.focusNode,"valuenow",(_50d||this.emptyLabel||"&nbsp;"));},setStore:function(_511){if(this.tempDropdownConnect){dojo.disconnect(this.tempDropdownConnect);delete this.tempDropdownConnect;}this.tempDropdownConnect=dojo.connect(this,"onSetStore",this,"_sizeWidget");this.inherited(arguments);this.toggleDropDown();}});}if(!dojo._hasResource["dojo.dnd.common"]){dojo._hasResource["dojo.dnd.common"]=true;dojo.provide("dojo.dnd.common");dojo.dnd.getCopyKeyState=dojo.isCopyKeyPressed;dojo.dnd._uniqueId=0;dojo.dnd.getUniqueId=function(){var id;do{id=dojo._scopeName+"Unique"+(++dojo.dnd._uniqueId);}while(dojo.byId(id));return id;};dojo.dnd._empty={};dojo.dnd.isFormElement=function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};}if(!dojo._hasResource["dojo.dnd.Container"]){dojo._hasResource["dojo.dnd.Container"]=true;dojo.provide("dojo.dnd.Container");dojo.declare("dojo.dnd.Container",null,{skipForm:false,constructor:function(node,_512){this.node=dojo.byId(node);if(!_512){_512={};}this.creator=_512.creator||null;this.skipForm=_512.skipForm;this.parent=_512.dropParent&&dojo.byId(_512.dropParent);this.map={};this.current=null;this.containerState="";dojo.addClass(this.node,"dojoDndContainer");if(!(_512&&_512._skipStartup)){this.startup();}this.events=[dojo.connect(this.node,"onmouseover",this,"onMouseOver"),dojo.connect(this.node,"onmouseout",this,"onMouseOut"),dojo.connect(this.node,"ondragstart",this,"onSelectStart"),dojo.connect(this.node,"onselectstart",this,"onSelectStart")];},creator:function(){},getItem:function(key){return this.map[key];},setItem:function(key,data){this.map[key]=data;},delItem:function(key){delete this.map[key];},forInItems:function(f,o){o=o||dojo.global;var m=this.map,e=dojo.dnd._empty;for(var i in m){if(i in e){continue;}f.call(o,m[i],i,this);}return o;},clearItems:function(){this.map={};},getAllNodes:function(){return dojo.query("> .dojoDndItem",this.parent);},sync:function(){var map={};this.getAllNodes().forEach(function(node){if(node.id){var item=this.getItem(node.id);if(item){map[node.id]=item;return;}}else{node.id=dojo.dnd.getUniqueId();}var type=node.getAttribute("dndType"),data=node.getAttribute("dndData");map[node.id]={data:data||node.innerHTML,type:type?type.split(/\s*,\s*/):["text"]};},this);this.map=map;return this;},insertNodes:function(data,_513,_514){if(!this.parent.firstChild){_514=null;}else{if(_513){if(!_514){_514=this.parent.firstChild;}}else{if(_514){_514=_514.nextSibling;}}}if(_514){for(var i=0;i<data.length;++i){var t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});this.parent.insertBefore(t.node,_514);}}else{for(var i=0;i<data.length;++i){var t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});this.parent.appendChild(t.node);}}return this;},destroy:function(){dojo.forEach(this.events,dojo.disconnect);this.clearItems();this.node=this.parent=this.current=null;},markupFactory:function(_515,node){_515._skipStartup=true;return new dojo.dnd.Container(node,_515);},startup:function(){if(!this.parent){this.parent=this.node;if(this.parent.tagName.toLowerCase()=="table"){var c=this.parent.getElementsByTagName("tbody");if(c&&c.length){this.parent=c[0];}}}this.defaultCreator=dojo.dnd._defaultCreator(this.parent);this.sync();},onMouseOver:function(e){var n=e.relatedTarget;while(n){if(n==this.node){break;}try{n=n.parentNode;}catch(x){n=null;}}if(!n){this._changeState("Container","Over");this.onOverEvent();}n=this._getChildByEvent(e);if(this.current==n){return;}if(this.current){this._removeItemClass(this.current,"Over");}if(n){this._addItemClass(n,"Over");}this.current=n;},onMouseOut:function(e){for(var n=e.relatedTarget;n;){if(n==this.node){return;}try{n=n.parentNode;}catch(x){n=null;}}if(this.current){this._removeItemClass(this.current,"Over");this.current=null;}this._changeState("Container","");this.onOutEvent();},onSelectStart:function(e){if(!this.skipForm||!dojo.dnd.isFormElement(e)){dojo.stopEvent(e);}},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(type,_516){var _517="dojoDnd"+type;var _518=type.toLowerCase()+"State";dojo.removeClass(this.node,_517+this[_518]);dojo.addClass(this.node,_517+_516);this[_518]=_516;},_addItemClass:function(node,type){dojo.addClass(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){dojo.removeClass(node,"dojoDndItem"+type);},_getChildByEvent:function(e){var node=e.target;if(node){for(var _519=node.parentNode;_519;node=_519,_519=node.parentNode){if(_519==this.parent&&dojo.hasClass(node,"dojoDndItem")){return node;}}}return null;},_normalizedCreator:function(item,hint){var t=(this.creator||this.defaultCreator).call(this,item,hint);if(!dojo.isArray(t.type)){t.type=["text"];}if(!t.node.id){t.node.id=dojo.dnd.getUniqueId();}dojo.addClass(t.node,"dojoDndItem");return t;}});dojo.dnd._createNode=function(tag){if(!tag){return dojo.dnd._createSpan;}return function(text){return dojo.create(tag,{innerHTML:text});};};dojo.dnd._createTrTd=function(text){var tr=dojo.create("tr");dojo.create("td",{innerHTML:text},tr);return tr;};dojo.dnd._createSpan=function(text){return dojo.create("span",{innerHTML:text});};dojo.dnd._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};dojo.dnd._defaultCreator=function(node){var tag=node.tagName.toLowerCase();var c=tag=="tbody"||tag=="thead"?dojo.dnd._createTrTd:dojo.dnd._createNode(dojo.dnd._defaultCreatorNodes[tag]);return function(item,hint){var _51a=item&&dojo.isObject(item),data,type,n;if(_51a&&item.tagName&&item.nodeType&&item.getAttribute){data=item.getAttribute("dndData")||item.innerHTML;type=item.getAttribute("dndType");type=type?type.split(/\s*,\s*/):["text"];n=item;}else{data=(_51a&&item.data)?item.data:item;type=(_51a&&item.type)?item.type:["text"];n=(hint=="avatar"?dojo.dnd._createSpan:c)(String(data));}n.id=dojo.dnd.getUniqueId();return {node:n,data:data,type:type};};};}if(!dojo._hasResource["dojo.dnd.Selector"]){dojo._hasResource["dojo.dnd.Selector"]=true;dojo.provide("dojo.dnd.Selector");dojo.declare("dojo.dnd.Selector",dojo.dnd.Container,{constructor:function(node,_51b){if(!_51b){_51b={};}this.singular=_51b.singular;this.autoSync=_51b.autoSync;this.selection={};this.anchor=null;this.simpleSelection=false;this.events.push(dojo.connect(this.node,"onmousedown",this,"onMouseDown"),dojo.connect(this.node,"onmouseup",this,"onMouseUp"));},singular:false,getSelectedNodes:function(){var t=new dojo.NodeList();var e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}t.push(dojo.byId(i));}return t;},selectNone:function(){return this._removeSelection()._removeAnchor();},selectAll:function(){this.forInItems(function(data,id){this._addItemClass(dojo.byId(id),"Selected");this.selection[id]=1;},this);return this._removeAnchor();},deleteSelectedNodes:function(){var e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}var n=dojo.byId(i);this.delItem(i);dojo.destroy(n);}this.anchor=null;this.selection={};return this;},forInSelectedItems:function(f,o){o=o||dojo.global;var s=this.selection,e=dojo.dnd._empty;for(var i in s){if(i in e){continue;}f.call(o,this.getItem(i),i,this);}},sync:function(){dojo.dnd.Selector.superclass.sync.call(this);if(this.anchor){if(!this.getItem(this.anchor.id)){this.anchor=null;}}var t=[],e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}if(!this.getItem(i)){t.push(i);}}dojo.forEach(t,function(i){delete this.selection[i];},this);return this;},insertNodes:function(_51c,data,_51d,_51e){var _51f=this._normalizedCreator;this._normalizedCreator=function(item,hint){var t=_51f.call(this,item,hint);if(_51c){if(!this.anchor){this.anchor=t.node;this._removeItemClass(t.node,"Selected");this._addItemClass(this.anchor,"Anchor");}else{if(this.anchor!=t.node){this._removeItemClass(t.node,"Anchor");this._addItemClass(t.node,"Selected");}}this.selection[t.node.id]=1;}else{this._removeItemClass(t.node,"Selected");this._removeItemClass(t.node,"Anchor");}return t;};dojo.dnd.Selector.superclass.insertNodes.call(this,data,_51d,_51e);this._normalizedCreator=_51f;return this;},destroy:function(){dojo.dnd.Selector.superclass.destroy.call(this);this.selection=this.anchor=null;},markupFactory:function(_520,node){_520._skipStartup=true;return new dojo.dnd.Selector(node,_520);},onMouseDown:function(e){if(this.autoSync){this.sync();}if(!this.current){return;}if(!this.singular&&!dojo.isCopyKey(e)&&!e.shiftKey&&(this.current.id in this.selection)){this.simpleSelection=true;if(e.button===dojo.mouseButtons.LEFT){dojo.stopEvent(e);}return;}if(!this.singular&&e.shiftKey){if(!dojo.isCopyKey(e)){this._removeSelection();}var c=this.getAllNodes();if(c.length){if(!this.anchor){this.anchor=c[0];this._addItemClass(this.anchor,"Anchor");}this.selection[this.anchor.id]=1;if(this.anchor!=this.current){var i=0;for(;i<c.length;++i){var node=c[i];if(node==this.anchor||node==this.current){break;}}for(++i;i<c.length;++i){var node=c[i];if(node==this.anchor||node==this.current){break;}this._addItemClass(node,"Selected");this.selection[node.id]=1;}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1;}}}else{if(this.singular){if(this.anchor==this.current){if(dojo.isCopyKey(e)){this.selectNone();}}else{this.selectNone();this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}}else{if(dojo.isCopyKey(e)){if(this.anchor==this.current){delete this.selection[this.anchor.id];this._removeAnchor();}else{if(this.current.id in this.selection){this._removeItemClass(this.current,"Selected");delete this.selection[this.current.id];}else{if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this._addItemClass(this.anchor,"Selected");}this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}else{if(!(this.current.id in this.selection)){this.selectNone();this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}}dojo.stopEvent(e);},onMouseUp:function(e){if(!this.simpleSelection){return;}this.simpleSelection=false;this.selectNone();if(this.current){this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}},onMouseMove:function(e){this.simpleSelection=false;},onOverEvent:function(){this.onmousemoveEvent=dojo.connect(this.node,"onmousemove",this,"onMouseMove");},onOutEvent:function(){dojo.disconnect(this.onmousemoveEvent);delete this.onmousemoveEvent;},_removeSelection:function(){var e=dojo.dnd._empty;for(var i in this.selection){if(i in e){continue;}var node=dojo.byId(i);if(node){this._removeItemClass(node,"Selected");}}this.selection={};return this;},_removeAnchor:function(){if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this.anchor=null;}return this;}});}if(!dojo._hasResource["dojo.dnd.autoscroll"]){dojo._hasResource["dojo.dnd.autoscroll"]=true;dojo.provide("dojo.dnd.autoscroll");dojo.dnd.getViewport=function(){var d=dojo.doc,dd=d.documentElement,w=window,b=dojo.body();if(dojo.isMozilla){return {w:dd.clientWidth,h:w.innerHeight};}else{if(!dojo.isOpera&&w.innerWidth){return {w:w.innerWidth,h:w.innerHeight};}else{if(!dojo.isOpera&&dd&&dd.clientWidth){return {w:dd.clientWidth,h:dd.clientHeight};}else{if(b.clientWidth){return {w:b.clientWidth,h:b.clientHeight};}}}}return null;};dojo.dnd.V_TRIGGER_AUTOSCROLL=32;dojo.dnd.H_TRIGGER_AUTOSCROLL=32;dojo.dnd.V_AUTOSCROLL_VALUE=16;dojo.dnd.H_AUTOSCROLL_VALUE=16;dojo.dnd.autoScroll=function(e){var v=dojo.dnd.getViewport(),dx=0,dy=0;if(e.clientX<dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=-dojo.dnd.H_AUTOSCROLL_VALUE;}else{if(e.clientX>v.w-dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=dojo.dnd.H_AUTOSCROLL_VALUE;}}if(e.clientY<dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=-dojo.dnd.V_AUTOSCROLL_VALUE;}else{if(e.clientY>v.h-dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=dojo.dnd.V_AUTOSCROLL_VALUE;}}window.scrollBy(dx,dy);};dojo.dnd._validNodes={"div":1,"p":1,"td":1};dojo.dnd._validOverflow={"auto":1,"scroll":1};dojo.dnd.autoScrollNodes=function(e){for(var n=e.target;n;){if(n.nodeType==1&&(n.tagName.toLowerCase() in dojo.dnd._validNodes)){var s=dojo.getComputedStyle(n);if(s.overflow.toLowerCase() in dojo.dnd._validOverflow){var b=dojo._getContentBox(n,s),t=dojo.position(n,true);var w=Math.min(dojo.dnd.H_TRIGGER_AUTOSCROLL,b.w/2),h=Math.min(dojo.dnd.V_TRIGGER_AUTOSCROLL,b.h/2),rx=e.pageX-t.x,ry=e.pageY-t.y,dx=0,dy=0;if(dojo.isWebKit||dojo.isOpera){rx+=dojo.body().scrollLeft,ry+=dojo.body().scrollTop;}if(rx>0&&rx<b.w){if(rx<w){dx=-w;}else{if(rx>b.w-w){dx=w;}}}if(ry>0&&ry<b.h){if(ry<h){dy=-h;}else{if(ry>b.h-h){dy=h;}}}var _521=n.scrollLeft,_522=n.scrollTop;n.scrollLeft=n.scrollLeft+dx;n.scrollTop=n.scrollTop+dy;if(_521!=n.scrollLeft||_522!=n.scrollTop){return;}}}try{n=n.parentNode;}catch(x){n=null;}}dojo.dnd.autoScroll(e);};}if(!dojo._hasResource["dojo.dnd.Avatar"]){dojo._hasResource["dojo.dnd.Avatar"]=true;dojo.provide("dojo.dnd.Avatar");dojo.declare("dojo.dnd.Avatar",null,{constructor:function(_523){this.manager=_523;this.construct();},construct:function(){this.isA11y=dojo.hasClass(dojo.body(),"dijit_a11y");var a=dojo.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),_524=this.manager.source,node,b=dojo.create("tbody",null,a),tr=dojo.create("tr",null,b),td=dojo.create("td",null,tr),icon=this.isA11y?dojo.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"<"},td):null,span=dojo.create("span",{innerHTML:_524.generateText?this._generateText():""},td),k=Math.min(5,this.manager.nodes.length),i=0;dojo.attr(tr,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});for(;i<k;++i){if(_524.creator){node=_524._normalizedCreator(_524.getItem(this.manager.nodes[i].id).data,"avatar").node;}else{node=this.manager.nodes[i].cloneNode(true);if(node.tagName.toLowerCase()=="tr"){var _525=dojo.create("table"),_526=dojo.create("tbody",null,_525);_526.appendChild(node);node=_525;}}node.id="";tr=dojo.create("tr",null,b);td=dojo.create("td",null,tr);td.appendChild(node);dojo.attr(tr,{"class":"dojoDndAvatarItem",style:{opacity:(9-i)/10}});}this.node=a;},destroy:function(){dojo.destroy(this.node);this.node=false;},update:function(){dojo[(this.manager.canDropFlag?"add":"remove")+"Class"](this.node,"dojoDndAvatarCanDrop");if(this.isA11y){var icon=dojo.byId("a11yIcon");var text="+";if(this.manager.canDropFlag&&!this.manager.copy){text="< ";}else{if(!this.manager.canDropFlag&&!this.manager.copy){text="o";}else{if(!this.manager.canDropFlag){text="x";}}}icon.innerHTML=text;}dojo.query(("tr.dojoDndAvatarHeader td span"+(this.isA11y?" span":"")),this.node).forEach(function(node){node.innerHTML=this._generateText();},this);},_generateText:function(){return this.manager.nodes.length.toString();}});}if(!dojo._hasResource["dojo.dnd.Manager"]){dojo._hasResource["dojo.dnd.Manager"]=true;dojo.provide("dojo.dnd.Manager");dojo.declare("dojo.dnd.Manager",null,{constructor:function(){this.avatar=null;this.source=null;this.nodes=[];this.copy=true;this.target=null;this.canDropFlag=false;this.events=[];},OFFSET_X:16,OFFSET_Y:16,overSource:function(_527){if(this.avatar){this.target=(_527&&_527.targetState!="Disabled")?_527:null;this.canDropFlag=Boolean(this.target);this.avatar.update();}dojo.publish("/dnd/source/over",[_527]);},outSource:function(_528){if(this.avatar){if(this.target==_528){this.target=null;this.canDropFlag=false;this.avatar.update();dojo.publish("/dnd/source/over",[null]);}}else{dojo.publish("/dnd/source/over",[null]);}},startDrag:function(_529,_52a,copy){this.source=_529;this.nodes=_52a;this.copy=Boolean(copy);this.avatar=this.makeAvatar();dojo.body().appendChild(this.avatar.node);dojo.publish("/dnd/start",[_529,_52a,this.copy]);this.events=[dojo.connect(dojo.doc,"onmousemove",this,"onMouseMove"),dojo.connect(dojo.doc,"onmouseup",this,"onMouseUp"),dojo.connect(dojo.doc,"onkeydown",this,"onKeyDown"),dojo.connect(dojo.doc,"onkeyup",this,"onKeyUp"),dojo.connect(dojo.doc,"ondragstart",dojo.stopEvent),dojo.connect(dojo.body(),"onselectstart",dojo.stopEvent)];var c="dojoDnd"+(copy?"Copy":"Move");dojo.addClass(dojo.body(),c);},canDrop:function(flag){var _52b=Boolean(this.target&&flag);if(this.canDropFlag!=_52b){this.canDropFlag=_52b;this.avatar.update();}},stopDrag:function(){dojo.removeClass(dojo.body(),"dojoDndCopy");dojo.removeClass(dojo.body(),"dojoDndMove");dojo.forEach(this.events,dojo.disconnect);this.events=[];this.avatar.destroy();this.avatar=null;this.source=this.target=null;this.nodes=[];},makeAvatar:function(){return new dojo.dnd.Avatar(this);},updateAvatar:function(){this.avatar.update();},onMouseMove:function(e){var a=this.avatar;if(a){dojo.dnd.autoScrollNodes(e);var s=a.node.style;s.left=(e.pageX+this.OFFSET_X)+"px";s.top=(e.pageY+this.OFFSET_Y)+"px";var copy=Boolean(this.source.copyState(dojo.isCopyKey(e)));if(this.copy!=copy){this._setCopyStatus(copy);}}},onMouseUp:function(e){if(this.avatar){if(this.target&&this.canDropFlag){var copy=Boolean(this.source.copyState(dojo.isCopyKey(e))),_52c=[this.source,this.nodes,copy,this.target];dojo.publish("/dnd/drop/before",_52c);dojo.publish("/dnd/drop",_52c);}else{dojo.publish("/dnd/cancel");}this.stopDrag();}},onKeyDown:function(e){if(this.avatar){switch(e.keyCode){case dojo.keys.CTRL:var copy=Boolean(this.source.copyState(true));if(this.copy!=copy){this._setCopyStatus(copy);}break;case dojo.keys.ESCAPE:dojo.publish("/dnd/cancel");this.stopDrag();break;}}},onKeyUp:function(e){if(this.avatar&&e.keyCode==dojo.keys.CTRL){var copy=Boolean(this.source.copyState(false));if(this.copy!=copy){this._setCopyStatus(copy);}}},_setCopyStatus:function(copy){this.copy=copy;this.source._markDndStatus(this.copy);this.updateAvatar();dojo.removeClass(dojo.body(),"dojoDnd"+(this.copy?"Move":"Copy"));dojo.addClass(dojo.body(),"dojoDnd"+(this.copy?"Copy":"Move"));}});dojo.dnd._manager=null;dojo.dnd.manager=function(){if(!dojo.dnd._manager){dojo.dnd._manager=new dojo.dnd.Manager();}return dojo.dnd._manager;};}if(!dojo._hasResource["dojo.dnd.Source"]){dojo._hasResource["dojo.dnd.Source"]=true;dojo.provide("dojo.dnd.Source");dojo.declare("dojo.dnd.Source",dojo.dnd.Selector,{isSource:true,horizontal:false,copyOnly:false,selfCopy:false,selfAccept:true,skipForm:false,withHandles:false,autoSync:false,delay:0,accept:["text"],generateText:true,constructor:function(node,_52d){dojo.mixin(this,dojo.mixin({},_52d));var type=this.accept;if(type.length){this.accept={};for(var i=0;i<type.length;++i){this.accept[type[i]]=1;}}this.isDragging=false;this.mouseDown=false;this.targetAnchor=null;this.targetBox=null;this.before=true;this._lastX=0;this._lastY=0;this.sourceState="";if(this.isSource){dojo.addClass(this.node,"dojoDndSource");}this.targetState="";if(this.accept){dojo.addClass(this.node,"dojoDndTarget");}if(this.horizontal){dojo.addClass(this.node,"dojoDndHorizontal");}this.topics=[dojo.subscribe("/dnd/source/over",this,"onDndSourceOver"),dojo.subscribe("/dnd/start",this,"onDndStart"),dojo.subscribe("/dnd/drop",this,"onDndDrop"),dojo.subscribe("/dnd/cancel",this,"onDndCancel")];},checkAcceptance:function(_52e,_52f){if(this==_52e){return !this.copyOnly||this.selfAccept;}for(var i=0;i<_52f.length;++i){var type=_52e.getItem(_52f[i].id).type;var flag=false;for(var j=0;j<type.length;++j){if(type[j] in this.accept){flag=true;break;}}if(!flag){return false;}}return true;},copyState:function(_530,self){if(_530){return true;}if(arguments.length<2){self=this==dojo.dnd.manager().target;}if(self){if(this.copyOnly){return this.selfCopy;}}else{return this.copyOnly;}return false;},destroy:function(){dojo.dnd.Source.superclass.destroy.call(this);dojo.forEach(this.topics,dojo.unsubscribe);this.targetAnchor=null;},markupFactory:function(_531,node){_531._skipStartup=true;return new dojo.dnd.Source(node,_531);},onMouseMove:function(e){if(this.isDragging&&this.targetState=="Disabled"){return;}dojo.dnd.Source.superclass.onMouseMove.call(this,e);var m=dojo.dnd.manager();if(this.isDragging){var _532=false;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current){this.targetBox=dojo.position(this.current,true);}if(this.horizontal){_532=(e.pageX-this.targetBox.x)<(this.targetBox.w/2);}else{_532=(e.pageY-this.targetBox.y)<(this.targetBox.h/2);}}if(this.current!=this.targetAnchor||_532!=this.before){this._markTargetAnchor(_532);m.canDrop(!this.current||m.source!=this||!(this.current.id in this.selection));}}else{if(this.mouseDown&&this.isSource&&(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay)){var _533=this.getSelectedNodes();if(_533.length){m.startDrag(this,_533,this.copyState(dojo.isCopyKey(e),true));}}}},onMouseDown:function(e){if(!this.mouseDown&&this._legalMouseDown(e)&&(!this.skipForm||!dojo.dnd.isFormElement(e))){this.mouseDown=true;this._lastX=e.pageX;this._lastY=e.pageY;dojo.dnd.Source.superclass.onMouseDown.call(this,e);}},onMouseUp:function(e){if(this.mouseDown){this.mouseDown=false;dojo.dnd.Source.superclass.onMouseUp.call(this,e);}},onDndSourceOver:function(_534){if(this!=_534){this.mouseDown=false;if(this.targetAnchor){this._unmarkTargetAnchor();}}else{if(this.isDragging){var m=dojo.dnd.manager();m.canDrop(this.targetState!="Disabled"&&(!this.current||m.source!=this||!(this.current.id in this.selection)));}}},onDndStart:function(_535,_536,copy){if(this.autoSync){this.sync();}if(this.isSource){this._changeState("Source",this==_535?(copy?"Copied":"Moved"):"");}var _537=this.accept&&this.checkAcceptance(_535,_536);this._changeState("Target",_537?"":"Disabled");if(this==_535){dojo.dnd.manager().overSource(this);}this.isDragging=true;},onDndDrop:function(_538,_539,copy,_53a){if(this==_53a){this.onDrop(_538,_539,copy);}this.onDndCancel();},onDndCancel:function(){if(this.targetAnchor){this._unmarkTargetAnchor();this.targetAnchor=null;}this.before=true;this.isDragging=false;this.mouseDown=false;this._changeState("Source","");this._changeState("Target","");},onDrop:function(_53b,_53c,copy){if(this!=_53b){this.onDropExternal(_53b,_53c,copy);}else{this.onDropInternal(_53c,copy);}},onDropExternal:function(_53d,_53e,copy){var _53f=this._normalizedCreator;if(this.creator){this._normalizedCreator=function(node,hint){return _53f.call(this,_53d.getItem(node.id).data,hint);};}else{if(copy){this._normalizedCreator=function(node,hint){var t=_53d.getItem(node.id);var n=node.cloneNode(true);n.id=dojo.dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}else{this._normalizedCreator=function(node,hint){var t=_53d.getItem(node.id);_53d.delItem(node.id);return {node:node,data:t.data,type:t.type};};}}this.selectNone();if(!copy&&!this.creator){_53d.selectNone();}this.insertNodes(true,_53e,this.before,this.current);if(!copy&&this.creator){_53d.deleteSelectedNodes();}this._normalizedCreator=_53f;},onDropInternal:function(_540,copy){var _541=this._normalizedCreator;if(this.current&&this.current.id in this.selection){return;}if(copy){if(this.creator){this._normalizedCreator=function(node,hint){return _541.call(this,this.getItem(node.id).data,hint);};}else{this._normalizedCreator=function(node,hint){var t=this.getItem(node.id);var n=node.cloneNode(true);n.id=dojo.dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}}else{if(!this.current){return;}this._normalizedCreator=function(node,hint){var t=this.getItem(node.id);return {node:node,data:t.data,type:t.type};};}this._removeSelection();this.insertNodes(true,_540,this.before,this.current);this._normalizedCreator=_541;},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){dojo.dnd.Source.superclass.onOverEvent.call(this);dojo.dnd.manager().overSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOver();}},onOutEvent:function(){dojo.dnd.Source.superclass.onOutEvent.call(this);dojo.dnd.manager().outSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOut();}},_markTargetAnchor:function(_542){if(this.current==this.targetAnchor&&this.before==_542){return;}if(this.targetAnchor){this._removeItemClass(this.targetAnchor,this.before?"Before":"After");}this.targetAnchor=this.current;this.targetBox=null;this.before=_542;if(this.targetAnchor){this._addItemClass(this.targetAnchor,this.before?"Before":"After");}},_unmarkTargetAnchor:function(){if(!this.targetAnchor){return;}this._removeItemClass(this.targetAnchor,this.before?"Before":"After");this.targetAnchor=null;this.targetBox=null;this.before=true;},_markDndStatus:function(copy){this._changeState("Source",copy?"Copied":"Moved");},_legalMouseDown:function(e){if(!dojo.mouseButtons.isLeft(e)){return false;}if(!this.withHandles){return true;}for(var node=e.target;node&&node!==this.node;node=node.parentNode){if(dojo.hasClass(node,"dojoDndHandle")){return true;}if(dojo.hasClass(node,"dojoDndItem")||dojo.hasClass(node,"dojoDndIgnore")){break;}}return false;}});dojo.declare("dojo.dnd.Target",dojo.dnd.Source,{constructor:function(node,_543){this.isSource=false;dojo.removeClass(this.node,"dojoDndSource");},markupFactory:function(_544,node){_544._skipStartup=true;return new dojo.dnd.Target(node,_544);}});dojo.declare("dojo.dnd.AutoSource",dojo.dnd.Source,{constructor:function(node,_545){this.autoSync=true;},markupFactory:function(_546,node){_546._skipStartup=true;return new dojo.dnd.AutoSource(node,_546);}});}if(!dojo._hasResource["dojo.dnd.Mover"]){dojo._hasResource["dojo.dnd.Mover"]=true;dojo.provide("dojo.dnd.Mover");dojo.declare("dojo.dnd.Mover",null,{constructor:function(node,e,host){this.node=dojo.byId(node);this.marginBox={l:e.pageX,t:e.pageY};this.mouseButton=e.button;var h=this.host=host,d=node.ownerDocument,_547=dojo.connect(d,"onmousemove",this,"onFirstMove");this.events=[dojo.connect(d,"onmousemove",this,"onMouseMove"),dojo.connect(d,"onmouseup",this,"onMouseUp"),dojo.connect(d,"ondragstart",dojo.stopEvent),dojo.connect(d.body,"onselectstart",dojo.stopEvent),_547];if(h&&h.onMoveStart){h.onMoveStart(this);}},onMouseMove:function(e){dojo.dnd.autoScroll(e);var m=this.marginBox;this.host.onMove(this,{l:m.l+e.pageX,t:m.t+e.pageY});dojo.stopEvent(e);},onMouseUp:function(e){if(dojo.isWebKit&&dojo.isMac&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){this.destroy();}dojo.stopEvent(e);},onFirstMove:function(){var s=this.node.style,l,t,h=this.host;switch(s.position){case "relative":case "absolute":l=Math.round(parseFloat(s.left));t=Math.round(parseFloat(s.top));break;default:s.position="absolute";var m=dojo.marginBox(this.node);var b=dojo.doc.body;var bs=dojo.getComputedStyle(b);var bm=dojo._getMarginBox(b,bs);var bc=dojo._getContentBox(b,bs);l=m.l-(bc.l-bm.l);t=m.t-(bc.t-bm.t);break;}this.marginBox.l=l-this.marginBox.l;this.marginBox.t=t-this.marginBox.t;if(h&&h.onFirstMove){h.onFirstMove(this);}dojo.disconnect(this.events.pop());},destroy:function(){dojo.forEach(this.events,dojo.disconnect);var h=this.host;if(h&&h.onMoveStop){h.onMoveStop(this);}this.events=this.node=this.host=null;}});}if(!dojo._hasResource["dojo.dnd.Moveable"]){dojo._hasResource["dojo.dnd.Moveable"]=true;dojo.provide("dojo.dnd.Moveable");dojo.declare("dojo.dnd.Moveable",null,{handle:"",delay:0,skip:false,constructor:function(node,_548){this.node=dojo.byId(node);if(!_548){_548={};}this.handle=_548.handle?dojo.byId(_548.handle):null;if(!this.handle){this.handle=this.node;}this.delay=_548.delay>0?_548.delay:0;this.skip=_548.skip;this.mover=_548.mover?_548.mover:dojo.dnd.Mover;this.events=[dojo.connect(this.handle,"onmousedown",this,"onMouseDown"),dojo.connect(this.handle,"ondragstart",this,"onSelectStart"),dojo.connect(this.handle,"onselectstart",this,"onSelectStart")];},markupFactory:function(_549,node){return new dojo.dnd.Moveable(node,_549);},destroy:function(){dojo.forEach(this.events,dojo.disconnect);this.events=this.node=this.handle=null;},onMouseDown:function(e){if(this.skip&&dojo.dnd.isFormElement(e)){return;}if(this.delay){this.events.push(dojo.connect(this.handle,"onmousemove",this,"onMouseMove"),dojo.connect(this.handle,"onmouseup",this,"onMouseUp"));this._lastX=e.pageX;this._lastY=e.pageY;}else{this.onDragDetected(e);}dojo.stopEvent(e);},onMouseMove:function(e){if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){this.onMouseUp(e);this.onDragDetected(e);}dojo.stopEvent(e);},onMouseUp:function(e){for(var i=0;i<2;++i){dojo.disconnect(this.events.pop());}dojo.stopEvent(e);},onSelectStart:function(e){if(!this.skip||!dojo.dnd.isFormElement(e)){dojo.stopEvent(e);}},onDragDetected:function(e){new this.mover(this.node,e,this);},onMoveStart:function(_54a){dojo.publish("/dnd/move/start",[_54a]);dojo.addClass(dojo.body(),"dojoMove");dojo.addClass(this.node,"dojoMoveItem");},onMoveStop:function(_54b){dojo.publish("/dnd/move/stop",[_54b]);dojo.removeClass(dojo.body(),"dojoMove");dojo.removeClass(this.node,"dojoMoveItem");},onFirstMove:function(_54c){},onMove:function(_54d,_54e){this.onMoving(_54d,_54e);var s=_54d.node.style;s.left=_54e.l+"px";s.top=_54e.t+"px";this.onMoved(_54d,_54e);},onMoving:function(_54f,_550){},onMoved:function(_551,_552){}});}if(!dojo._hasResource["dojox.string.Builder"]){dojo._hasResource["dojox.string.Builder"]=true;dojo.provide("dojox.string.Builder");dojox.string.Builder=function(str){var b="";this.length=0;this.append=function(s){if(arguments.length>1){var tmp="",l=arguments.length;switch(l){case 9:tmp=""+arguments[8]+tmp;case 8:tmp=""+arguments[7]+tmp;case 7:tmp=""+arguments[6]+tmp;case 6:tmp=""+arguments[5]+tmp;case 5:tmp=""+arguments[4]+tmp;case 4:tmp=""+arguments[3]+tmp;case 3:tmp=""+arguments[2]+tmp;case 2:b+=""+arguments[0]+arguments[1]+tmp;break;default:var i=0;while(i<arguments.length){tmp+=arguments[i++];}b+=tmp;}}else{b+=s;}this.length=b.length;return this;};this.concat=function(s){return this.append.apply(this,arguments);};this.appendArray=function(_553){return this.append.apply(this,_553);};this.clear=function(){b="";this.length=0;return this;};this.replace=function(_554,_555){b=b.replace(_554,_555);this.length=b.length;return this;};this.remove=function(_556,len){if(len===undefined){len=b.length;}if(len==0){return this;}b=b.substr(0,_556)+b.substr(_556+len);this.length=b.length;return this;};this.insert=function(_557,str){if(_557==0){b=str+b;}else{b=b.slice(0,_557)+str+b.slice(_557);}this.length=b.length;return this;};this.toString=function(){return b;};if(str){this.append(str);}};}if(!dojo._hasResource["dojo.cldr.supplemental"]){dojo._hasResource["dojo.cldr.supplemental"]=true;dojo.provide("dojo.cldr.supplemental");dojo.cldr.supplemental.getFirstDayOfWeek=function(_558){var _559={mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,er:6,et:6,iq:6,ir:6,jo:6,ke:6,kw:6,lb:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,so:6,tn:6,ye:6,as:0,au:0,az:0,bw:0,ca:0,cn:0,fo:0,ge:0,gl:0,gu:0,hk:0,ie:0,il:0,is:0,jm:0,jp:0,kg:0,kr:0,la:0,mh:0,mo:0,mp:0,mt:0,nz:0,ph:0,pk:0,sg:0,th:0,tt:0,tw:0,um:0,us:0,uz:0,vi:0,za:0,zw:0,et:0,mw:0,ng:0,tj:0,sy:4};var _55a=dojo.cldr.supplemental._region(_558);var dow=_559[_55a];return (dow===undefined)?1:dow;};dojo.cldr.supplemental._region=function(_55b){_55b=dojo.i18n.normalizeLocale(_55b);var tags=_55b.split("-");var _55c=tags[1];if(!_55c){_55c={de:"de",en:"us",es:"es",fi:"fi",fr:"fr",he:"il",hu:"hu",it:"it",ja:"jp",ko:"kr",nl:"nl",pt:"br",sv:"se",zh:"cn"}[tags[0]];}else{if(_55c.length==4){_55c=tags[2];}}return _55c;};dojo.cldr.supplemental.getWeekend=function(_55d){var _55e={eg:5,il:5,sy:5,"in":0,ae:4,bh:4,dz:4,iq:4,jo:4,kw:4,lb:4,ly:4,ma:4,om:4,qa:4,sa:4,sd:4,tn:4,ye:4};var _55f={ae:5,bh:5,dz:5,iq:5,jo:5,kw:5,lb:5,ly:5,ma:5,om:5,qa:5,sa:5,sd:5,tn:5,ye:5,af:5,ir:5,eg:6,il:6,sy:6};var _560=dojo.cldr.supplemental._region(_55d);var _561=_55e[_560];var end=_55f[_560];if(_561===undefined){_561=6;}if(end===undefined){end=0;}return {start:_561,end:end};};}if(!dojo._hasResource["dojo.date.locale"]){dojo._hasResource["dojo.date.locale"]=true;dojo.provide("dojo.date.locale");(function(){function _562(_563,_564,_565,_566){return _566.replace(/([a-z])\1*/ig,function(_567){var s,pad,c=_567.charAt(0),l=_567.length,_568=["abbr","wide","narrow"];switch(c){case "G":s=_564[(l<4)?"eraAbbr":"eraNames"][_563.getFullYear()<0?0:1];break;case "y":s=_563.getFullYear();switch(l){case 1:break;case 2:if(!_565.fullYear){s=String(s);s=s.substr(s.length-2);break;}default:pad=true;}break;case "Q":case "q":s=Math.ceil((_563.getMonth()+1)/3);pad=true;break;case "M":var m=_563.getMonth();if(l<3){s=m+1;pad=true;}else{var _569=["months","format",_568[l-3]].join("-");s=_564[_569][m];}break;case "w":var _56a=0;s=dojo.date.locale._getWeekOfYear(_563,_56a);pad=true;break;case "d":s=_563.getDate();pad=true;break;case "D":s=dojo.date.locale._getDayOfYear(_563);pad=true;break;case "E":var d=_563.getDay();if(l<3){s=d+1;pad=true;}else{var _56b=["days","format",_568[l-3]].join("-");s=_564[_56b][d];}break;case "a":var _56c=(_563.getHours()<12)?"am":"pm";s=_564[_56c];break;case "h":case "H":case "K":case "k":var h=_563.getHours();switch(c){case "h":s=(h%12)||12;break;case "H":s=h;break;case "K":s=(h%12);break;case "k":s=h||24;break;}pad=true;break;case "m":s=_563.getMinutes();pad=true;break;case "s":s=_563.getSeconds();pad=true;break;case "S":s=Math.round(_563.getMilliseconds()*Math.pow(10,l-3));pad=true;break;case "v":case "z":s=dojo.date.locale._getZone(_563,true,_565);if(s){break;}l=4;case "Z":var _56d=dojo.date.locale._getZone(_563,false,_565);var tz=[(_56d<=0?"+":"-"),dojo.string.pad(Math.floor(Math.abs(_56d)/60),2),dojo.string.pad(Math.abs(_56d)%60,2)];if(l==4){tz.splice(0,0,"GMT");tz.splice(3,0,":");}s=tz.join("");break;default:throw new Error("dojo.date.locale.format: invalid pattern char: "+_566);}if(pad){s=dojo.string.pad(s,l);}return s;});};dojo.date.locale._getZone=function(_56e,_56f,_570){if(_56f){return dojo.date.getTimezoneName(_56e);}else{return _56e.getTimezoneOffset();}};dojo.date.locale.format=function(_571,_572){_572=_572||{};var _573=dojo.i18n.normalizeLocale(_572.locale),_574=_572.formatLength||"short",_575=dojo.date.locale._getGregorianBundle(_573),str=[],_576=dojo.hitch(this,_562,_571,_575,_572);if(_572.selector=="year"){return _577(_575["dateFormatItem-yyyy"]||"yyyy",_576);}var _578;if(_572.selector!="date"){_578=_572.timePattern||_575["timeFormat-"+_574];if(_578){str.push(_577(_578,_576));}}if(_572.selector!="time"){_578=_572.datePattern||_575["dateFormat-"+_574];if(_578){str.push(_577(_578,_576));}}return str.length==1?str[0]:_575["dateTimeFormat-"+_574].replace(/\{(\d+)\}/g,function(_579,key){return str[key];});};dojo.date.locale.regexp=function(_57a){return dojo.date.locale._parseInfo(_57a).regexp;};dojo.date.locale._parseInfo=function(_57b){_57b=_57b||{};var _57c=dojo.i18n.normalizeLocale(_57b.locale),_57d=dojo.date.locale._getGregorianBundle(_57c),_57e=_57b.formatLength||"short",_57f=_57b.datePattern||_57d["dateFormat-"+_57e],_580=_57b.timePattern||_57d["timeFormat-"+_57e],_581;if(_57b.selector=="date"){_581=_57f;}else{if(_57b.selector=="time"){_581=_580;}else{_581=_57d["dateTimeFormat-"+_57e].replace(/\{(\d+)\}/g,function(_582,key){return [_580,_57f][key];});}}var _583=[],re=_577(_581,dojo.hitch(this,_584,_583,_57d,_57b));return {regexp:re,tokens:_583,bundle:_57d};};dojo.date.locale.parse=function(_585,_586){var info=dojo.date.locale._parseInfo(_586),_587=info.tokens,_588=info.bundle,re=new RegExp("^"+info.regexp+"$",info.strict?"":"i"),_589=re.exec(_585);if(!_589){return null;}var _58a=["abbr","wide","narrow"],_58b=[1970,0,1,0,0,0,0],amPm="",_58c=dojo.every(_589,function(v,i){if(!i){return true;}var _58d=_587[i-1];var l=_58d.length;switch(_58d.charAt(0)){case "y":if(l!=2&&_586.strict){_58b[0]=v;}else{if(v<100){v=Number(v);var year=""+new Date().getFullYear(),_58e=year.substring(0,2)*100,_58f=Math.min(Number(year.substring(2,4))+20,99),num=(v<_58f)?_58e+v:_58e-100+v;_58b[0]=num;}else{if(_586.strict){return false;}_58b[0]=v;}}break;case "M":if(l>2){var _590=_588["months-format-"+_58a[l-3]].concat();if(!_586.strict){v=v.replace(".","").toLowerCase();_590=dojo.map(_590,function(s){return s.replace(".","").toLowerCase();});}v=dojo.indexOf(_590,v);if(v==-1){return false;}}else{v--;}_58b[1]=v;break;case "E":case "e":var days=_588["days-format-"+_58a[l-3]].concat();if(!_586.strict){v=v.toLowerCase();days=dojo.map(days,function(d){return d.toLowerCase();});}v=dojo.indexOf(days,v);if(v==-1){return false;}break;case "D":_58b[1]=0;case "d":_58b[2]=v;break;case "a":var am=_586.am||_588.am;var pm=_586.pm||_588.pm;if(!_586.strict){var _591=/\./g;v=v.replace(_591,"").toLowerCase();am=am.replace(_591,"").toLowerCase();pm=pm.replace(_591,"").toLowerCase();}if(_586.strict&&v!=am&&v!=pm){return false;}amPm=(v==pm)?"p":(v==am)?"a":"";break;case "K":if(v==24){v=0;}case "h":case "H":case "k":if(v>23){return false;}_58b[3]=v;break;case "m":_58b[4]=v;break;case "s":_58b[5]=v;break;case "S":_58b[6]=v;}return true;});var _592=+_58b[3];if(amPm==="p"&&_592<12){_58b[3]=_592+12;}else{if(amPm==="a"&&_592==12){_58b[3]=0;}}var _593=new Date(_58b[0],_58b[1],_58b[2],_58b[3],_58b[4],_58b[5],_58b[6]);if(_586.strict){_593.setFullYear(_58b[0]);}var _594=_587.join(""),_595=_594.indexOf("d")!=-1,_596=_594.indexOf("M")!=-1;if(!_58c||(_596&&_593.getMonth()>_58b[1])||(_595&&_593.getDate()>_58b[2])){return null;}if((_596&&_593.getMonth()<_58b[1])||(_595&&_593.getDate()<_58b[2])){_593=dojo.date.add(_593,"hour",1);}return _593;};function _577(_597,_598,_599,_59a){var _59b=function(x){return x;};_598=_598||_59b;_599=_599||_59b;_59a=_59a||_59b;var _59c=_597.match(/(''|[^'])+/g),_59d=_597.charAt(0)=="'";dojo.forEach(_59c,function(_59e,i){if(!_59e){_59c[i]="";}else{_59c[i]=(_59d?_599:_598)(_59e);_59d=!_59d;}});return _59a(_59c.join(""));};function _584(_59f,_5a0,_5a1,_5a2){_5a2=dojo.regexp.escapeString(_5a2);if(!_5a1.strict){_5a2=_5a2.replace(" a"," ?a");}return _5a2.replace(/([a-z])\1*/ig,function(_5a3){var s,c=_5a3.charAt(0),l=_5a3.length,p2="",p3="";if(_5a1.strict){if(l>1){p2="0"+"{"+(l-1)+"}";}if(l>2){p3="0"+"{"+(l-2)+"}";}}else{p2="0?";p3="0{0,2}";}switch(c){case "y":s="\\d{2,4}";break;case "M":s=(l>2)?"\\S+?":p2+"[1-9]|1[0-2]";break;case "D":s=p2+"[1-9]|"+p3+"[1-9][0-9]|[12][0-9][0-9]|3[0-5][0-9]|36[0-6]";break;case "d":s="[12]\\d|"+p2+"[1-9]|3[01]";break;case "w":s=p2+"[1-9]|[1-4][0-9]|5[0-3]";break;case "E":s="\\S+";break;case "h":s=p2+"[1-9]|1[0-2]";break;case "k":s=p2+"\\d|1[01]";break;case "H":s=p2+"\\d|1\\d|2[0-3]";break;case "K":s=p2+"[1-9]|1\\d|2[0-4]";break;case "m":case "s":s="[0-5]\\d";break;case "S":s="\\d{"+l+"}";break;case "a":var am=_5a1.am||_5a0.am||"AM";var pm=_5a1.pm||_5a0.pm||"PM";if(_5a1.strict){s=am+"|"+pm;}else{s=am+"|"+pm;if(am!=am.toLowerCase()){s+="|"+am.toLowerCase();}if(pm!=pm.toLowerCase()){s+="|"+pm.toLowerCase();}if(s.indexOf(".")!=-1){s+="|"+s.replace(/\./g,"");}}s=s.replace(/\./g,"\\.");break;default:s=".*";}if(_59f){_59f.push(_5a3);}return "("+s+")";}).replace(/[\xa0 ]/g,"[\\s\\xa0]");};})();(function(){var _5a4=[];dojo.date.locale.addCustomFormats=function(_5a5,_5a6){_5a4.push({pkg:_5a5,name:_5a6});};dojo.date.locale._getGregorianBundle=function(_5a7){var _5a8={};dojo.forEach(_5a4,function(desc){var _5a9=dojo.i18n.getLocalization(desc.pkg,desc.name,_5a7);_5a8=dojo.mixin(_5a8,_5a9);},this);return _5a8;};})();dojo.date.locale.addCustomFormats("dojo.cldr","gregorian");dojo.date.locale.getNames=function(item,type,_5aa,_5ab){var _5ac,_5ad=dojo.date.locale._getGregorianBundle(_5ab),_5ae=[item,_5aa,type];if(_5aa=="standAlone"){var key=_5ae.join("-");_5ac=_5ad[key];if(_5ac[0]==1){_5ac=undefined;}}_5ae[1]="format";return (_5ac||_5ad[_5ae.join("-")]).concat();};dojo.date.locale.isWeekend=function(_5af,_5b0){var _5b1=dojo.cldr.supplemental.getWeekend(_5b0),day=(_5af||new Date()).getDay();if(_5b1.end<_5b1.start){_5b1.end+=7;if(day<_5b1.start){day+=7;}}return day>=_5b1.start&&day<=_5b1.end;};dojo.date.locale._getDayOfYear=function(_5b2){return dojo.date.difference(new Date(_5b2.getFullYear(),0,1,_5b2.getHours()),_5b2)+1;};dojo.date.locale._getWeekOfYear=function(_5b3,_5b4){if(arguments.length==1){_5b4=0;}var _5b5=new Date(_5b3.getFullYear(),0,1).getDay(),adj=(_5b5-_5b4+7)%7,week=Math.floor((dojo.date.locale._getDayOfYear(_5b3)+adj-1)/7);if(_5b5==_5b4){week++;}return week;};}if(!dojo._hasResource["dojox.html.metrics"]){dojo._hasResource["dojox.html.metrics"]=true;dojo.provide("dojox.html.metrics");(function(){var dhm=dojox.html.metrics;dhm.getFontMeasurements=function(){var _5b6={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};if(dojo.isIE){dojo.doc.documentElement.style.fontSize="100%";}var div=dojo.doc.createElement("div");var ds=div.style;ds.position="absolute";ds.left="-100px";ds.top="0";ds.width="30px";ds.height="1000em";ds.border="0";ds.margin="0";ds.padding="0";ds.outline="0";ds.lineHeight="1";ds.overflow="hidden";dojo.body().appendChild(div);for(var p in _5b6){ds.fontSize=p;_5b6[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;}dojo.body().removeChild(div);div=null;return _5b6;};var _5b7=null;dhm.getCachedFontMeasurements=function(_5b8){if(_5b8||!_5b7){_5b7=dhm.getFontMeasurements();}return _5b7;};var _5b9=null,_5ba={};dhm.getTextBox=function(text,_5bb,_5bc){var m;if(!_5b9){m=_5b9=dojo.doc.createElement("div");m.style.position="absolute";m.style.left="0px";m.style.top="-10000px";dojo.body().appendChild(m);}else{m=_5b9;}m.className="";m.style.border="0";m.style.margin="0";m.style.padding="0";m.style.outline="0";if(arguments.length>1&&_5bb){for(var i in _5bb){if(i in _5ba){continue;}m.style[i]=_5bb[i];}}if(arguments.length>2&&_5bc){m.className=_5bc;}m.innerHTML=text;return dojo.marginBox(m);};var _5bd={w:16,h:16};dhm.getScrollbar=function(){return {w:_5bd.w,h:_5bd.h};};dhm._fontResizeNode=null;dhm.initOnFontResize=function(_5be){var f=dhm._fontResizeNode=dojo.doc.createElement("iframe");var fs=f.style;fs.position="absolute";fs.width="5em";fs.height="10em";fs.top="-10000px";if(dojo.isIE){f.onreadystatechange=function(){if(f.contentWindow.document.readyState=="complete"){f.onresize=f.contentWindow.parent[dojox._scopeName].html.metrics._fontresize;}};}else{f.onload=function(){f.contentWindow.onresize=f.contentWindow.parent[dojox._scopeName].html.metrics._fontresize;};}f.setAttribute("src","javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}</script></head><body></body></html>'");dojo.body().appendChild(f);dhm.initOnFontResize=function(){};};dhm.onFontResize=function(){};dhm._fontresize=function(){dhm.onFontResize();};dojo.addOnUnload(function(){var f=dhm._fontResizeNode;if(f){if(dojo.isIE&&f.onresize){f.onresize=null;}else{if(f.contentWindow&&f.contentWindow.onresize){f.contentWindow.onresize=null;}}dhm._fontResizeNode=null;}});dojo.addOnLoad(function(){try{var n=dojo.doc.createElement("div");n.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";dojo.body().appendChild(n);_5bd.w=n.offsetWidth-n.clientWidth;_5bd.h=n.offsetHeight-n.clientHeight;dojo.body().removeChild(n);delete n;}catch(e){}if("fontSizeWatch" in dojo.config&&!!dojo.config.fontSizeWatch){dhm.initOnFontResize();}});})();}if(!dojo._hasResource["dojox.html.entities"]){dojo._hasResource["dojox.html.entities"]=true;dojo.provide("dojox.html.entities");(function(){var _5bf=function(str,map){var _5c0,_5c1;if(map._encCache&&map._encCache.regexp&&map._encCache.mapper&&map.length==map._encCache.length){_5c0=map._encCache.mapper;_5c1=map._encCache.regexp;}else{_5c0={};_5c1=["["];var i;for(i=0;i<map.length;i++){_5c0[map[i][0]]="&"+map[i][1]+";";_5c1.push(map[i][0]);}_5c1.push("]");_5c1=new RegExp(_5c1.join(""),"g");map._encCache={mapper:_5c0,regexp:_5c1,length:map.length};}str=str.replace(_5c1,function(c){return _5c0[c];});return str;};var _5c2=function(str,map){var _5c3,_5c4;if(map._decCache&&map._decCache.regexp&&map._decCache.mapper&&map.length==map._decCache.length){_5c3=map._decCache.mapper;_5c4=map._decCache.regexp;}else{_5c3={};_5c4=["("];var i;for(i=0;i<map.length;i++){var e="&"+map[i][1]+";";if(i){_5c4.push("|");}_5c3[e]=map[i][0];_5c4.push(e);}_5c4.push(")");_5c4=new RegExp(_5c4.join(""),"g");map._decCache={mapper:_5c3,regexp:_5c4,length:map.length};}str=str.replace(_5c4,function(c){return _5c3[c];});return str;};dojox.html.entities.html=[["&","amp"],["\"","quot"],["<","lt"],[">","gt"],["","nbsp"]];dojox.html.entities.latin=[["","iexcl"],["","cent"],["","pound"],["","euro"],["","curren"],["","yen"],["","brvbar"],["","sect"],["","uml"],["","copy"],["","ordf"],["","laquo"],["","not"],["","shy"],["","reg"],["","macr"],["","deg"],["","plusmn"],["","sup2"],["","sup3"],["","acute"],["","micro"],["","para"],["","middot"],["","cedil"],["","sup1"],["","ordm"],["","raquo"],["","frac14"],["","frac12"],["","frac34"],["","iquest"],["","Agrave"],["","Aacute"],["","Acirc"],["","Atilde"],["","Auml"],["","Aring"],["","AElig"],["","Ccedil"],["","Egrave"],["","Eacute"],["","Ecirc"],["","Euml"],["","Igrave"],["","Iacute"],["","Icirc"],["","Iuml"],["","ETH"],["","Ntilde"],["","Ograve"],["","Oacute"],["","Ocirc"],["","Otilde"],["","Ouml"],["","times"],["","Oslash"],["","Ugrave"],["","Uacute"],["","Ucirc"],["","Uuml"],["","Yacute"],["","THORN"],["","szlig"],["","agrave"],["","aacute"],["","acirc"],["","atilde"],["","auml"],["","aring"],["","aelig"],["","ccedil"],["","egrave"],["","eacute"],["","ecirc"],["","euml"],["","igrave"],["","iacute"],["","icirc"],["","iuml"],["","eth"],["","ntilde"],["","ograve"],["","oacute"],["","ocirc"],["","otilde"],["","ouml"],["","divide"],["","oslash"],["","ugrave"],["","uacute"],["","ucirc"],["","uuml"],["","yacute"],["","thorn"],["","yuml"],["","fnof"],["","Alpha"],["","Beta"],["","Gamma"],["","Delta"],["","Epsilon"],["","Zeta"],["","Eta"],["","Theta"],["","Iota"],["","Kappa"],["","Lambda"],["","Mu"],["","Nu"],["","Xi"],["","Omicron"],["","Pi"],["","Rho"],["","Sigma"],["","Tau"],["","Upsilon"],["","Phi"],["","Chi"],["","Psi"],["","Omega"],["","alpha"],["","beta"],["","gamma"],["","delta"],["","epsilon"],["","zeta"],["","eta"],["","theta"],["","iota"],["","kappa"],["","lambda"],["","mu"],["","nu"],["","xi"],["","omicron"],["","pi"],["","rho"],["","sigmaf"],["","sigma"],["","tau"],["","upsilon"],["","phi"],["","chi"],["","psi"],["","omega"],["","thetasym"],["","upsih"],["","piv"],["","bull"],["","hellip"],["","prime"],["","Prime"],["","oline"],["","frasl"],["","weierp"],["","image"],["","real"],["","trade"],["","alefsym"],["","larr"],["","uarr"],["","rarr"],["","darr"],["","harr"],["","crarr"],["","lArr"],["","uArr"],["","rArr"],["","dArr"],["","hArr"],["","forall"],["","part"],["","exist"],["","empty"],["","nabla"],["","isin"],["","notin"],["","ni"],["","prod"],["","sum"],["","minus"],["","lowast"],["","radic"],["","prop"],["","infin"],["","ang"],["","and"],["","or"],["","cap"],["","cup"],["","int"],["","there4"],["","sim"],["","cong"],["","asymp"],["","ne"],["","equiv"],["","le"],["","ge"],["","sub"],["","sup"],["","nsub"],["","sube"],["","supe"],["","oplus"],["","otimes"],["","perp"],["","sdot"],["","lceil"],["","rceil"],["","lfloor"],["","rfloor"],["","lang"],["","rang"],["","loz"],["","spades"],["","clubs"],["","hearts"],["","diams"],["","Elig"],["","oelig"],["","Scaron"],["","scaron"],["","Yuml"],["","circ"],["","tilde"],["","ensp"],["","emsp"],["","thinsp"],["","zwnj"],["","zwj"],["","lrm"],["","rlm"],["","ndash"],["","mdash"],["","lsquo"],["","rsquo"],["","sbquo"],["","ldquo"],["","rdquo"],["","bdquo"],["","dagger"],["","Dagger"],["","permil"],["","lsaquo"],["","rsaquo"]];dojox.html.entities.encode=function(str,m){if(str){if(!m){str=_5bf(str,dojox.html.entities.html);str=_5bf(str,dojox.html.entities.latin);}else{str=_5bf(str,m);}}return str;};dojox.html.entities.decode=function(str,m){if(str){if(!m){str=_5c2(str,dojox.html.entities.html);str=_5c2(str,dojox.html.entities.latin);}else{str=_5c2(str,m);}}return str;};})();}if(!dojo._hasResource["dojo.dnd.move"]){dojo._hasResource["dojo.dnd.move"]=true;dojo.provide("dojo.dnd.move");dojo.declare("dojo.dnd.move.constrainedMoveable",dojo.dnd.Moveable,{constraints:function(){},within:false,markupFactory:function(_5c5,node){return new dojo.dnd.move.constrainedMoveable(node,_5c5);},constructor:function(node,_5c6){if(!_5c6){_5c6={};}this.constraints=_5c6.constraints;this.within=_5c6.within;},onFirstMove:function(_5c7){var c=this.constraintBox=this.constraints.call(this,_5c7);c.r=c.l+c.w;c.b=c.t+c.h;if(this.within){var mb=dojo.marginBox(_5c7.node);c.r-=mb.w;c.b-=mb.h;}},onMove:function(_5c8,_5c9){var c=this.constraintBox,s=_5c8.node.style;s.left=(_5c9.l<c.l?c.l:c.r<_5c9.l?c.r:_5c9.l)+"px";s.top=(_5c9.t<c.t?c.t:c.b<_5c9.t?c.b:_5c9.t)+"px";}});dojo.declare("dojo.dnd.move.boxConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{box:{},markupFactory:function(_5ca,node){return new dojo.dnd.move.boxConstrainedMoveable(node,_5ca);},constructor:function(node,_5cb){var box=_5cb&&_5cb.box;this.constraints=function(){return box;};}});dojo.declare("dojo.dnd.move.parentConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{area:"content",markupFactory:function(_5cc,node){return new dojo.dnd.move.parentConstrainedMoveable(node,_5cc);},constructor:function(node,_5cd){var area=_5cd&&_5cd.area;this.constraints=function(){var n=this.node.parentNode,s=dojo.getComputedStyle(n),mb=dojo._getMarginBox(n,s);if(area=="margin"){return mb;}var t=dojo._getMarginExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="border"){return mb;}t=dojo._getBorderExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="padding"){return mb;}t=dojo._getPadExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;return mb;};}});dojo.dnd.move.constrainedMover=function(fun,_5ce){dojo.deprecated("dojo.dnd.move.constrainedMover, use dojo.dnd.move.constrainedMoveable instead");var _5cf=function(node,e,_5d0){dojo.dnd.Mover.call(this,node,e,_5d0);};dojo.extend(_5cf,dojo.dnd.Mover.prototype);dojo.extend(_5cf,{onMouseMove:function(e){dojo.dnd.autoScroll(e);var m=this.marginBox,c=this.constraintBox,l=m.l+e.pageX,t=m.t+e.pageY;l=l<c.l?c.l:c.r<l?c.r:l;t=t<c.t?c.t:c.b<t?c.b:t;this.host.onMove(this,{l:l,t:t});},onFirstMove:function(){dojo.dnd.Mover.prototype.onFirstMove.call(this);var c=this.constraintBox=fun.call(this);c.r=c.l+c.w;c.b=c.t+c.h;if(_5ce){var mb=dojo.marginBox(this.node);c.r-=mb.w;c.b-=mb.h;}}});return _5cf;};dojo.dnd.move.boxConstrainedMover=function(box,_5d1){dojo.deprecated("dojo.dnd.move.boxConstrainedMover, use dojo.dnd.move.boxConstrainedMoveable instead");return dojo.dnd.move.constrainedMover(function(){return box;},_5d1);};dojo.dnd.move.parentConstrainedMover=function(area,_5d2){dojo.deprecated("dojo.dnd.move.parentConstrainedMover, use dojo.dnd.move.parentConstrainedMoveable instead");var fun=function(){var n=this.node.parentNode,s=dojo.getComputedStyle(n),mb=dojo._getMarginBox(n,s);if(area=="margin"){return mb;}var t=dojo._getMarginExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="border"){return mb;}t=dojo._getBorderExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="padding"){return mb;}t=dojo._getPadExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;return mb;};return dojo.dnd.move.constrainedMover(fun,_5d2);};dojo.dnd.constrainedMover=dojo.dnd.move.constrainedMover;dojo.dnd.boxConstrainedMover=dojo.dnd.move.boxConstrainedMover;dojo.dnd.parentConstrainedMover=dojo.dnd.move.parentConstrainedMover;}if(!dojo._hasResource["dojo.dnd.TimedMoveable"]){dojo._hasResource["dojo.dnd.TimedMoveable"]=true;dojo.provide("dojo.dnd.TimedMoveable");(function(){var _5d3=dojo.dnd.Moveable.prototype.onMove;dojo.declare("dojo.dnd.TimedMoveable",dojo.dnd.Moveable,{timeout:40,constructor:function(node,_5d4){if(!_5d4){_5d4={};}if(_5d4.timeout&&typeof _5d4.timeout=="number"&&_5d4.timeout>=0){this.timeout=_5d4.timeout;}},markupFactory:function(_5d5,node){return new dojo.dnd.TimedMoveable(node,_5d5);},onMoveStop:function(_5d6){if(_5d6._timer){clearTimeout(_5d6._timer);_5d3.call(this,_5d6,_5d6._leftTop);}dojo.dnd.Moveable.prototype.onMoveStop.apply(this,arguments);},onMove:function(_5d7,_5d8){_5d7._leftTop=_5d8;if(!_5d7._timer){var _5d9=this;_5d7._timer=setTimeout(function(){_5d7._timer=null;_5d3.call(_5d9,_5d7,_5d7._leftTop);},this.timeout);}}});})();}if(!dojo._hasResource["dijit._DialogMixin"]){dojo._hasResource["dijit._DialogMixin"]=true;dojo.provide("dijit._DialogMixin");dojo.declare("dijit._DialogMixin",null,{attributeMap:dijit._Widget.prototype.attributeMap,execute:function(_5da){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.attr("value"));},_getFocusItems:function(_5db){var _5dc=dijit._getTabNavigable(dojo.byId(_5db));this._firstFocusItem=_5dc.lowest||_5dc.first||_5db;this._lastFocusItem=_5dc.last||_5dc.highest||this._firstFocusItem;if(dojo.isMoz&&this._firstFocusItem.tagName.toLowerCase()=="input"&&dojo.getNodeProp(this._firstFocusItem,"type").toLowerCase()=="file"){dojo.attr(_5db,"tabIndex","0");this._firstFocusItem=_5db;}}});}if(!dojo._hasResource["dijit.DialogUnderlay"]){dojo._hasResource["dijit.DialogUnderlay"]=true;dojo.provide("dijit.DialogUnderlay");dojo.declare("dijit.DialogUnderlay",[dijit._Widget,dijit._Templated],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' dojoAttachPoint='node'></div></div>",dialogId:"","class":"",attributeMap:{id:"domNode"},_setDialogIdAttr:function(id){dojo.attr(this.node,"id",id+"_underlay");},_setClassAttr:function(_5dd){this.node.className="dijitDialogUnderlay "+_5dd;},postCreate:function(){dojo.body().appendChild(this.domNode);},layout:function(){var is=this.node.style,os=this.domNode.style;os.display="none";var _5de=dijit.getViewport();os.top=_5de.t+"px";os.left=_5de.l+"px";is.width=_5de.w+"px";is.height=_5de.h+"px";os.display="block";},show:function(){this.domNode.style.display="block";this.layout();this.bgIframe=new dijit.BackgroundIframe(this.domNode);},hide:function(){this.bgIframe.destroy();this.domNode.style.display="none";},uninitialize:function(){if(this.bgIframe){this.bgIframe.destroy();}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.TooltipDialog"]){dojo._hasResource["dijit.TooltipDialog"]=true;dojo.provide("dijit.TooltipDialog");dojo.declare("dijit.TooltipDialog",[dijit.layout.ContentPane,dijit._Templated,dijit.form._FormMixin,dijit._DialogMixin],{title:"",doLayout:false,autofocus:true,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:dojo.cache("dijit","templates/TooltipDialog.html","<div waiRole=\"presentation\">\r\n\t<div class=\"dijitTooltipContainer\" waiRole=\"presentation\">\r\n\t\t<div class =\"dijitTooltipContents dijitTooltipFocusNode\" dojoAttachPoint=\"containerNode\" tabindex=\"-1\" waiRole=\"dialog\"></div>\r\n\t</div>\r\n\t<div class=\"dijitTooltipConnector\" waiRole=\"presentation\"></div>\r\n</div>\r\n"),postCreate:function(){this.inherited(arguments);this.connect(this.containerNode,"onkeypress","_onKey");this.containerNode.title=this.title;},orient:function(node,_5df,_5e0){var c=this._currentOrientClass;if(c){dojo.removeClass(this.domNode,c);}c="dijitTooltipAB"+(_5e0.charAt(1)=="L"?"Left":"Right")+" dijitTooltip"+(_5e0.charAt(0)=="T"?"Below":"Above");dojo.addClass(this.domNode,c);this._currentOrientClass=c;},onOpen:function(pos){this.orient(this.domNode,pos.aroundCorner,pos.corner);this._onShow();if(this.autofocus){this._getFocusItems(this.containerNode);dijit.focus(this._firstFocusItem);}},onClose:function(){this.onHide();},_onKey:function(evt){var node=evt.target;var dk=dojo.keys;if(evt.charOrCode===dk.TAB){this._getFocusItems(this.containerNode);}var _5e1=(this._firstFocusItem==this._lastFocusItem);if(evt.charOrCode==dk.ESCAPE){setTimeout(dojo.hitch(this,"onCancel"),0);dojo.stopEvent(evt);}else{if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===dk.TAB){if(!_5e1){dijit.focus(this._lastFocusItem);}dojo.stopEvent(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===dk.TAB&&!evt.shiftKey){if(!_5e1){dijit.focus(this._firstFocusItem);}dojo.stopEvent(evt);}else{if(evt.charOrCode===dk.TAB){evt.stopPropagation();}}}}}});}if(!dojo._hasResource["dijit.Dialog"]){dojo._hasResource["dijit.Dialog"]=true;dojo.provide("dijit.Dialog");dojo.declare("dijit._DialogBase",[dijit._Templated,dijit.form._FormMixin,dijit._DialogMixin],{templateString:dojo.cache("dijit","templates/Dialog.html","<div class=\"dijitDialog\" tabindex=\"-1\" waiRole=\"dialog\" waiState=\"labelledby-${id}_title\">\r\n\t<div dojoAttachPoint=\"titleBar\" class=\"dijitDialogTitleBar\">\r\n\t<span dojoAttachPoint=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"></span>\r\n\t<span dojoAttachPoint=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" dojoAttachEvent=\"onclick: onCancel, onmouseenter: _onCloseEnter, onmouseleave: _onCloseLeave\" title=\"${buttonCancel}\">\r\n\t\t<span dojoAttachPoint=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\r\n\t</span>\r\n\t</div>\r\n\t\t<div dojoAttachPoint=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\r\n</div>\r\n"),attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{title:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}],"aria-describedby":""}),open:false,duration:dijit.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,doLayout:false,draggable:true,"aria-describedby":"",postMixInProperties:function(){var _5e2=dojo.i18n.getLocalization("dijit","common");dojo.mixin(this,_5e2);this.inherited(arguments);},postCreate:function(){dojo.style(this.domNode,{display:"none",position:"absolute"});dojo.body().appendChild(this.domNode);this.inherited(arguments);this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");this._modalconnects=[];},onLoad:function(){this._position();this.inherited(arguments);},_endDrag:function(e){if(e&&e.node&&e.node===this.domNode){this._relativePosition=dojo.position(e.node);}},_setup:function(){var node=this.domNode;if(this.titleBar&&this.draggable){this._moveable=(dojo.isIE==6)?new dojo.dnd.TimedMoveable(node,{handle:this.titleBar}):new dojo.dnd.Moveable(node,{handle:this.titleBar,timeout:0});dojo.subscribe("/dnd/move/stop",this,"_endDrag");}else{dojo.addClass(node,"dijitDialogFixed");}this.underlayAttrs={dialogId:this.id,"class":dojo.map(this["class"].split(/\s/),function(s){return s+"_underlay";}).join(" ")};this._fadeIn=dojo.fadeIn({node:node,duration:this.duration,beforeBegin:dojo.hitch(this,function(){var _5e3=dijit._underlay;if(!_5e3){_5e3=dijit._underlay=new dijit.DialogUnderlay(this.underlayAttrs);}else{_5e3.attr(this.underlayAttrs);}var _5e4=948+dijit._dialogStack.length*2;dojo.style(dijit._underlay.domNode,"zIndex",_5e4);dojo.style(this.domNode,"zIndex",_5e4+1);_5e3.show();}),onEnd:dojo.hitch(this,function(){if(this.autofocus){this._getFocusItems(this.domNode);dijit.focus(this._firstFocusItem);}})});this._fadeOut=dojo.fadeOut({node:node,duration:this.duration,onEnd:dojo.hitch(this,function(){node.style.display="none";var ds=dijit._dialogStack;if(ds.length==0){dijit._underlay.hide();}else{dojo.style(dijit._underlay.domNode,"zIndex",948+ds.length*2);dijit._underlay.attr(ds[ds.length-1].underlayAttrs);}if(this.refocus){var _5e5=this._savedFocus;if(ds.length>0){var pd=ds[ds.length-1];if(!dojo.isDescendant(_5e5.node,pd.domNode)){pd._getFocusItems(pd.domNode);_5e5=pd._firstFocusItem;}}dijit.focus(_5e5);}})});},uninitialize:function(){var _5e6=false;if(this._fadeIn&&this._fadeIn.status()=="playing"){_5e6=true;this._fadeIn.stop();}if(this._fadeOut&&this._fadeOut.status()=="playing"){_5e6=true;this._fadeOut.stop();}if((this.open||_5e6)&&!dijit._underlay._destroyed){dijit._underlay.hide();}if(this._moveable){this._moveable.destroy();}this.inherited(arguments);},_size:function(){this._checkIfSingleChild();if(this._singleChild){if(this._singleChildOriginalStyle){this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle;}delete this._singleChildOriginalStyle;}else{dojo.style(this.containerNode,{width:"auto",height:"auto"});}var mb=dojo.marginBox(this.domNode);var _5e7=dijit.getViewport();if(mb.w>=_5e7.w||mb.h>=_5e7.h){var w=Math.min(mb.w,Math.floor(_5e7.w*0.75)),h=Math.min(mb.h,Math.floor(_5e7.h*0.75));if(this._singleChild&&this._singleChild.resize){this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText;this._singleChild.resize({w:w,h:h});}else{dojo.style(this.containerNode,{width:w+"px",height:h+"px",overflow:"auto",position:"relative"});}}else{if(this._singleChild&&this._singleChild.resize){this._singleChild.resize();}}},_position:function(){if(!dojo.hasClass(dojo.body(),"dojoMove")){var node=this.domNode,_5e8=dijit.getViewport(),p=this._relativePosition,bb=p?null:dojo._getBorderBox(node),l=Math.floor(_5e8.l+(p?p.x:(_5e8.w-bb.w)/2)),t=Math.floor(_5e8.t+(p?p.y:(_5e8.h-bb.h)/2));dojo.style(node,{left:l+"px",top:t+"px"});}},_onKey:function(evt){var ds=dijit._dialogStack;if(ds[ds.length-1]!=this){return;}if(evt.charOrCode){var dk=dojo.keys;var node=evt.target;if(evt.charOrCode===dk.TAB){this._getFocusItems(this.domNode);}var _5e9=(this._firstFocusItem==this._lastFocusItem);if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===dk.TAB){if(!_5e9){dijit.focus(this._lastFocusItem);}dojo.stopEvent(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===dk.TAB&&!evt.shiftKey){if(!_5e9){dijit.focus(this._firstFocusItem);}dojo.stopEvent(evt);}else{while(node){if(node==this.domNode||dojo.hasClass(node,"dijitPopup")){if(evt.charOrCode==dk.ESCAPE){this.onCancel();}else{return;}}node=node.parentNode;}if(evt.charOrCode!==dk.TAB){dojo.stopEvent(evt);}else{if(!dojo.isOpera){try{this._firstFocusItem.focus();}catch(e){}}}}}}},show:function(){if(this.open){return;}if(!this._alreadyInitialized){this._setup();this._alreadyInitialized=true;}if(this._fadeOut.status()=="playing"){this._fadeOut.stop();}this._modalconnects.push(dojo.connect(window,"onscroll",this,"layout"));this._modalconnects.push(dojo.connect(window,"onresize",this,function(){var _5ea=dijit.getViewport();if(!this._oldViewport||_5ea.h!=this._oldViewport.h||_5ea.w!=this._oldViewport.w){this.layout();this._oldViewport=_5ea;}}));this._modalconnects.push(dojo.connect(dojo.doc.documentElement,"onkeypress",this,"_onKey"));dojo.style(this.domNode,{opacity:0,display:""});this.open=true;this._onShow();this._size();this._position();dijit._dialogStack.push(this);this._fadeIn.play();this._savedFocus=dijit.getFocus(this);},hide:function(){var ds=dijit._dialogStack;if(!this._alreadyInitialized||this!=ds[ds.length-1]){return;}if(this._fadeIn.status()=="playing"){this._fadeIn.stop();}ds.pop();this._fadeOut.play();if(this._scrollConnected){this._scrollConnected=false;}dojo.forEach(this._modalconnects,dojo.disconnect);this._modalconnects=[];if(this._relativePosition){delete this._relativePosition;}this.open=false;this.onHide();},layout:function(){if(this.domNode.style.display!="none"){if(dijit._underlay){dijit._underlay.layout();}this._position();}},destroy:function(){dojo.forEach(this._modalconnects,dojo.disconnect);if(this.refocus&&this.open){setTimeout(dojo.hitch(dijit,"focus",this._savedFocus),25);}this.inherited(arguments);},_onCloseEnter:function(){dojo.addClass(this.closeButtonNode,"dijitDialogCloseIcon-hover");},_onCloseLeave:function(){dojo.removeClass(this.closeButtonNode,"dijitDialogCloseIcon-hover");}});dojo.declare("dijit.Dialog",[dijit.layout.ContentPane,dijit._DialogBase],{});dijit._dialogStack=[];}if(!dojo._hasResource["dijit.layout.BorderContainer"]){dojo._hasResource["dijit.layout.BorderContainer"]=true;dojo.provide("dijit.layout.BorderContainer");dojo.declare("dijit.layout.BorderContainer",dijit.layout._LayoutWidget,{design:"headline",gutters:true,liveSplitters:true,persist:false,baseClass:"dijitBorderContainer",_splitterClass:"dijit.layout._Splitter",postMixInProperties:function(){if(!this.gutters){this.baseClass+="NoGutter";}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this._splitters={};this._splitterThickness={};},startup:function(){if(this._started){return;}dojo.forEach(this.getChildren(),this._setupChild,this);this.inherited(arguments);},_setupChild:function(_5eb){var _5ec=_5eb.region;if(_5ec){this.inherited(arguments);dojo.addClass(_5eb.domNode,this.baseClass+"Pane");var ltr=this.isLeftToRight();if(_5ec=="leading"){_5ec=ltr?"left":"right";}if(_5ec=="trailing"){_5ec=ltr?"right":"left";}this["_"+_5ec]=_5eb.domNode;this["_"+_5ec+"Widget"]=_5eb;if((_5eb.splitter||this.gutters)&&!this._splitters[_5ec]){var _5ed=dojo.getObject(_5eb.splitter?this._splitterClass:"dijit.layout._Gutter");var _5ee=new _5ed({container:this,child:_5eb,region:_5ec,live:this.liveSplitters});_5ee.isSplitter=true;this._splitters[_5ec]=_5ee.domNode;dojo.place(this._splitters[_5ec],_5eb.domNode,"after");_5ee.startup();}_5eb.region=_5ec;}},_computeSplitterThickness:function(_5ef){this._splitterThickness[_5ef]=this._splitterThickness[_5ef]||dojo.marginBox(this._splitters[_5ef])[(/top|bottom/.test(_5ef)?"h":"w")];},layout:function(){for(var _5f0 in this._splitters){this._computeSplitterThickness(_5f0);}this._layoutChildren();},addChild:function(_5f1,_5f2){this.inherited(arguments);if(this._started){this.layout();}},removeChild:function(_5f3){var _5f4=_5f3.region;var _5f5=this._splitters[_5f4];if(_5f5){dijit.byNode(_5f5).destroy();delete this._splitters[_5f4];delete this._splitterThickness[_5f4];}this.inherited(arguments);delete this["_"+_5f4];delete this["_"+_5f4+"Widget"];if(this._started){this._layoutChildren(_5f3.region);}dojo.removeClass(_5f3.domNode,this.baseClass+"Pane");},getChildren:function(){return dojo.filter(this.inherited(arguments),function(_5f6){return !_5f6.isSplitter;});},getSplitter:function(_5f7){var _5f8=this._splitters[_5f7];return _5f8?dijit.byNode(_5f8):null;},resize:function(_5f9,_5fa){if(!this.cs||!this.pe){var node=this.domNode;this.cs=dojo.getComputedStyle(node);this.pe=dojo._getPadExtents(node,this.cs);this.pe.r=dojo._toPixelValue(node,this.cs.paddingRight);this.pe.b=dojo._toPixelValue(node,this.cs.paddingBottom);dojo.style(node,"padding","0px");}this.inherited(arguments);},_layoutChildren:function(_5fb){if(!this._borderBox||!this._borderBox.h){return;}var _5fc=(this.design=="sidebar");var _5fd=0,_5fe=0,_5ff=0,_600=0;var _601={},_602={},_603={},_604={},_605=(this._center&&this._center.style)||{};var _606=/left|right/.test(_5fb);var _607=!_5fb||(!_606&&!_5fc);var _608=!_5fb||(_606&&_5fc);if(this._top){_601=_608&&this._top.style;_5fd=dojo.marginBox(this._top).h;}if(this._left){_602=_607&&this._left.style;_5ff=dojo.marginBox(this._left).w;}if(this._right){_603=_607&&this._right.style;_600=dojo.marginBox(this._right).w;}if(this._bottom){_604=_608&&this._bottom.style;_5fe=dojo.marginBox(this._bottom).h;}var _609=this._splitters;var _60a=_609.top,_60b=_609.bottom,_60c=_609.left,_60d=_609.right;var _60e=this._splitterThickness;var _60f=_60e.top||0,_610=_60e.left||0,_611=_60e.right||0,_612=_60e.bottom||0;if(_610>50||_611>50){setTimeout(dojo.hitch(this,function(){this._splitterThickness={};for(var _613 in this._splitters){this._computeSplitterThickness(_613);}this._layoutChildren();}),50);return false;}var pe=this.pe;var _614={left:(_5fc?_5ff+_610:0)+pe.l+"px",right:(_5fc?_600+_611:0)+pe.r+"px"};if(_60a){dojo.mixin(_60a.style,_614);_60a.style.top=_5fd+pe.t+"px";}if(_60b){dojo.mixin(_60b.style,_614);_60b.style.bottom=_5fe+pe.b+"px";}_614={top:(_5fc?0:_5fd+_60f)+pe.t+"px",bottom:(_5fc?0:_5fe+_612)+pe.b+"px"};if(_60c){dojo.mixin(_60c.style,_614);_60c.style.left=_5ff+pe.l+"px";}if(_60d){dojo.mixin(_60d.style,_614);_60d.style.right=_600+pe.r+"px";}dojo.mixin(_605,{top:pe.t+_5fd+_60f+"px",left:pe.l+_5ff+_610+"px",right:pe.r+_600+_611+"px",bottom:pe.b+_5fe+_612+"px"});var _615={top:_5fc?pe.t+"px":_605.top,bottom:_5fc?pe.b+"px":_605.bottom};dojo.mixin(_602,_615);dojo.mixin(_603,_615);_602.left=pe.l+"px";_603.right=pe.r+"px";_601.top=pe.t+"px";_604.bottom=pe.b+"px";if(_5fc){_601.left=_604.left=_5ff+_610+pe.l+"px";_601.right=_604.right=_600+_611+pe.r+"px";}else{_601.left=_604.left=pe.l+"px";_601.right=_604.right=pe.r+"px";}var _616=this._borderBox.h-pe.t-pe.b,_617=_616-(_5fd+_60f+_5fe+_612),_618=_5fc?_616:_617;var _619=this._borderBox.w-pe.l-pe.r,_61a=_619-(_5ff+_610+_600+_611),_61b=_5fc?_61a:_619;var dim={top:{w:_61b,h:_5fd},bottom:{w:_61b,h:_5fe},left:{w:_5ff,h:_618},right:{w:_600,h:_618},center:{h:_617,w:_61a}};var _61c=dojo.isIE<8||(dojo.isIE&&dojo.isQuirks)||dojo.some(this.getChildren(),function(_61d){return _61d.domNode.tagName=="TEXTAREA"||_61d.domNode.tagName=="INPUT";});if(_61c){var _61e=function(_61f,_620,_621){if(_61f){(_61f.resize?_61f.resize(_620,_621):dojo.marginBox(_61f.domNode,_620));}};if(_60c){_60c.style.height=_618;}if(_60d){_60d.style.height=_618;}_61e(this._leftWidget,{h:_618},dim.left);_61e(this._rightWidget,{h:_618},dim.right);if(_60a){_60a.style.width=_61b;}if(_60b){_60b.style.width=_61b;}_61e(this._topWidget,{w:_61b},dim.top);_61e(this._bottomWidget,{w:_61b},dim.bottom);_61e(this._centerWidget,dim.center);}else{var _622={};if(_5fb){_622[_5fb]=_622.center=true;if(/top|bottom/.test(_5fb)&&this.design!="sidebar"){_622.left=_622.right=true;}else{if(/left|right/.test(_5fb)&&this.design=="sidebar"){_622.top=_622.bottom=true;}}}dojo.forEach(this.getChildren(),function(_623){if(_623.resize&&(!_5fb||_623.region in _622)){_623.resize(null,dim[_623.region]);}},this);}},destroy:function(){for(var _624 in this._splitters){var _625=this._splitters[_624];dijit.byNode(_625).destroy();dojo.destroy(_625);}delete this._splitters;delete this._splitterThickness;this.inherited(arguments);}});dojo.extend(dijit._Widget,{region:"",splitter:false,minSize:0,maxSize:Infinity});dojo.declare("dijit.layout._Splitter",[dijit._Widget,dijit._Templated],{live:true,templateString:"<div class=\"dijitSplitter\" dojoAttachEvent=\"onkeypress:_onKeyPress,onmousedown:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse\" tabIndex=\"0\" waiRole=\"separator\"><div class=\"dijitSplitterThumb\"></div></div>",postCreate:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);dojo.addClass(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region;if(this.container.persist){var _626=dojo.cookie(this._cookieName);if(_626){this.child.domNode.style[this.horizontal?"height":"width"]=_626;}}},_computeMaxSize:function(){var dim=this.horizontal?"h":"w",_627=this.container._splitterThickness[this.region];var flip={left:"right",right:"left",top:"bottom",bottom:"top",leading:"trailing",trailing:"leading"},_628=this.container["_"+flip[this.region]];var _629=dojo.contentBox(this.container.domNode)[dim]-(_628?dojo.marginBox(_628)[dim]:0)-20-_627*2;return Math.min(this.child.maxSize,_629);},_startDrag:function(e){if(!this.cover){this.cover=dojo.doc.createElement("div");dojo.addClass(this.cover,"dijitSplitterCover");dojo.place(this.cover,this.child.domNode,"after");}dojo.addClass(this.cover,"dijitSplitterCoverActive");if(this.fake){dojo.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");dojo.addClass(this.domNode,"dijitSplitterShadow");dojo.place(this.fake,this.domNode,"after");}dojo.addClass(this.domNode,"dijitSplitterActive");dojo.addClass(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Active");if(this.fake){dojo.removeClass(this.fake,"dijitSplitterHover");dojo.removeClass(this.fake,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover");}var _62a=this._factor,max=this._computeMaxSize(),min=this.child.minSize||20,_62b=this.horizontal,axis=_62b?"pageY":"pageX",_62c=e[axis],_62d=this.domNode.style,dim=_62b?"h":"w",_62e=dojo.marginBox(this.child.domNode)[dim],_62f=this.region,_630=parseInt(this.domNode.style[_62f],10),_631=this._resize,mb={},_632=this.child.domNode,_633=dojo.hitch(this.container,this.container._layoutChildren),de=dojo.doc.body;this._handlers=(this._handlers||[]).concat([dojo.connect(de,"onmousemove",this._drag=function(e,_634){var _635=e[axis]-_62c,_636=_62a*_635+_62e,_637=Math.max(Math.min(_636,max),min);if(_631||_634){mb[dim]=_637;dojo.marginBox(_632,mb);_633(_62f);}_62d[_62f]=_62a*_635+_630+(_637-_636)+"px";}),dojo.connect(dojo.doc,"ondragstart",dojo.stopEvent),dojo.connect(dojo.body(),"onselectstart",dojo.stopEvent),dojo.connect(de,"onmouseup",this,"_stopDrag")]);dojo.stopEvent(e);},_onMouse:function(e){var o=(e.type=="mouseover"||e.type=="mouseenter");dojo.toggleClass(this.domNode,"dijitSplitterHover",o);dojo.toggleClass(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",o);},_stopDrag:function(e){try{if(this.cover){dojo.removeClass(this.cover,"dijitSplitterCoverActive");}if(this.fake){dojo.destroy(this.fake);}dojo.removeClass(this.domNode,"dijitSplitterActive");dojo.removeClass(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Active");dojo.removeClass(this.domNode,"dijitSplitterShadow");this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();delete this._drag;}if(this.container.persist){dojo.cookie(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365});}},_cleanupHandlers:function(){dojo.forEach(this._handlers,dojo.disconnect);delete this._handlers;},_onKeyPress:function(e){this._resize=true;var _638=this.horizontal;var tick=1;var dk=dojo.keys;switch(e.charOrCode){case _638?dk.UP_ARROW:dk.LEFT_ARROW:tick*=-1;case _638?dk.DOWN_ARROW:dk.RIGHT_ARROW:break;default:return;}var _639=dojo.marginBox(this.child.domNode)[_638?"h":"w"]+this._factor*tick;var mb={};mb[this.horizontal?"h":"w"]=Math.max(Math.min(_639,this._computeMaxSize()),this.child.minSize);dojo.marginBox(this.child.domNode,mb);this.container._layoutChildren(this.region);dojo.stopEvent(e);},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments);}});dojo.declare("dijit.layout._Gutter",[dijit._Widget,dijit._Templated],{templateString:"<div class=\"dijitGutter\" waiRole=\"presentation\"></div>",postCreate:function(){this.horizontal=/top|bottom/.test(this.region);dojo.addClass(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));}});}if(!dojo._hasResource["dijit.ToolbarSeparator"]){dojo._hasResource["dijit.ToolbarSeparator"]=true;dojo.provide("dijit.ToolbarSeparator");dojo.declare("dijit.ToolbarSeparator",[dijit._Widget,dijit._Templated],{templateString:"<div class=\"dijitToolbarSeparator dijitInline\"></div>",postCreate:function(){dojo.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});}if(!dojo._hasResource["dijit.Toolbar"]){dojo._hasResource["dijit.Toolbar"]=true;dojo.provide("dijit.Toolbar");dojo.declare("dijit.Toolbar",[dijit._Widget,dijit._Templated,dijit._KeyNavContainer],{templateString:"<div class=\"dijit dijitToolbar\" waiRole=\"toolbar\" tabIndex=\"${tabIndex}\" dojoAttachPoint=\"containerNode\">"+"</div>",postCreate:function(){this.connectKeyNavHandlers(this.isLeftToRight()?[dojo.keys.LEFT_ARROW]:[dojo.keys.RIGHT_ARROW],this.isLeftToRight()?[dojo.keys.RIGHT_ARROW]:[dojo.keys.LEFT_ARROW]);},startup:function(){if(this._started){return;}this.startupKeyNavChildren();this.inherited(arguments);}});}if(!dojo._hasResource["dijit.dijit"]){dojo._hasResource["dijit.dijit"]=true;dojo.provide("dijit.dijit");}if(!dojo._hasResource["xwt.widget.toolbar.Toolbar"]){dojo._hasResource["xwt.widget.toolbar.Toolbar"]=true;dojo.provide("xwt.widget.toolbar.Toolbar");dojo.declare("xwt.widget.toolbar.Toolbar",[dijit.Toolbar],{showError:function(_63a){alert(_63a);},getItemAt:function(_63b){var _63c=this.getChildren();if(_63c&&_63c.length>0){return _63c[_63b];}return null;},isChild:function(w){var o=this.getChild(w);if(o){return true;}else{return false;}},isExist:function(o){if(o){return true;}else{return false;}},getChild:function(w){var _63d=this.getChildren();var obj=null;for(var i=0;i<_63d.length;i++){if(_63d[i]==w){obj=_63d[i];break;}}return obj;},update:function(_63e,_63f,_640){if(this.isChild(_63e)){if(_63e instanceof dijit.form.Button){_63e.attr(_63f,_640);}else{this.showError("Widget Error occurred! Can not update ");}}else{this.showError("Widget Error occurred! Widget "+_63e+" not child of toolbar ");}},enableButton:function(_641,_642){if(this.isChild(_641)){if(_641 instanceof dijit.form.Button){_641.attr("disabled",_642);}else{this.showError("Widget Error occurred! Cannot update ");}}else{this.showError("Widget Error occurred! Widget "+_641+" not already exists ");}},updateChildButtonIcon:function(_643,_644){if(this.isChild(_643)){if(_643 instanceof dijit.form.Button){_643.attr("iconClass",_644);}else{this.showError("Widget Error occurred! Cannot update ");}}else{this.showError("Widget Error occurred! Widget "+_643+" not already exists ");}},updateChildButtonText:function(_645,_646){if(this.isChild(_645)){if(_645 instanceof dijit.form.Button){_645.attr("label",_646);}else{this.showError("Widget Error occurred! Can not update ");}}else{this.showError("Widget Error occurred! Widget "+_645+" not already exists ");}},switchChildButtonText:function(_647,on){if(this.isChild(_647)){if(_647 instanceof dijit.form.Button){_647.showLabel=on;if(!on){dojo.byId(_647.id+"_label").style.visibility="hidden";dojo.addClass(dojo.byId(_647.id+"_label"),"dijitDisplayNone");}else{dojo.byId(_647.id+"_label").style.visibility="visible";dojo.removeClass(dojo.byId(_647.id+"_label"),"dijitDisplayNone");}}else{this.showError("Widget Error occurred! Can not update ");}}else{this.showError("Widget Error occurred! Widget "+_647+" not already exists ");}},removeChild:function(w){try{var b=this.isChild(w);if(b){this.inherited(arguments);}else{this.showError("Widget Error occurred! Widget "+w+" not already exists ");}}catch(err){this.showError("Widget Error occurred! "+err);}},checkBeforeAdd:function(w){return true;},addChild:function(w,i){try{var b=this.isChild(w);if(!b){if(this.checkBeforeAdd(w)){this.inherited(arguments);}else{this.showError(this.declaredClasss+" input widget "+w+" is not allowed to add in  ");}}else{this.showError("Widget Error occurred! Widget "+w+" already exists ");}}catch(err){this.showError("Widget Error occurred! "+err);}}});}if(!dojo._hasResource["xwt.widget.form.TextButtonGroup"]){dojo._hasResource["xwt.widget.form.TextButtonGroup"]=true;dojo.provide("xwt.widget.form.TextButtonGroup");dojo.declare("xwt.widget.form.TextButtonGroup",[xwt.widget.toolbar.Toolbar],{baseClass:"xwtTextButtonGroup",postCreate:function(){this.inherited(arguments);dojo.addClass(this.domNode,"xwtTextButtonGroup");}});}if(!dojo._hasResource["xwt.widget.util"]){dojo._hasResource["xwt.widget.util"]=true;dojo.provide("xwt.widget.util");xwtPopups={closePopupSuspended:false,previousSuspensionValue:-1,restorePopups:function(){this.closePopupSuspended=false;this.suspendedZIndex=this.previousSuspensionValue;},suspendPopups:function(_648){if(parseFloat(_648)<=parseFloat(this.suspendedZIndex)){return;}this.previousSuspensionValue=this.suspendedZIndex;this.suspendedZIndex=_648;if(this.closePopupSuspended){return;}this.closePopupSuspended=true;},popupsSuspended:function(_649){if(parseFloat(_649)>parseFloat(this.suspendedZIndex)){return false;}return this.closePopupSuspended;}};}if(!dojo._hasResource["xwt.widget.dijit"]){dojo._hasResource["xwt.widget.dijit"]=true;dojo.provide("xwt.widget.dijit");if(dojo.isIE){console.log("patching registerWin");dojo.mixin(dijit,{registerWin:function(_64a,_64b){console.log("patched registerWin");var _64c=function(evt){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false;},0);if(dojo.isIE&&evt&&evt.srcElement&&evt.srcElement.parentNode==null){return;}dijit._onTouchNode(_64b||evt.target||evt.srcElement,"mouse");};var doc=dojo.isIE?_64a.document.documentElement:_64a.document;if(doc){if(dojo.isIE){doc.attachEvent("onmousedown",_64c);var _64d=function(evt){if(evt.srcElement.tagName.toLowerCase()!="#document"&&dijit.isTabNavigable(evt.srcElement)){dijit._onFocusNode(_64b||evt.srcElement);}else{if(!dijit._pendingActiveWidgetsCount){dijit._onTouchNode(_64b||evt.srcElement,"activate");}else{}}};doc.attachEvent("onactivate",_64d);var _64e=function(evt){dijit._onBlurNode(_64b||evt.srcElement);};doc.attachEvent("ondeactivate",_64e);return function(){doc.detachEvent("onmousedown",_64c);doc.detachEvent("onactivate",_64d);doc.detachEvent("ondeactivate",_64e);doc=null;};}else{doc.addEventListener("mousedown",_64c,true);var _64f=function(evt){dijit._onFocusNode(_64b||evt.target);};doc.addEventListener("focus",_64f,true);var _650=function(evt){dijit._onBlurNode(_64b||evt.target);};doc.addEventListener("blur",_650,true);return function(){doc.removeEventListener("mousedown",_64c,true);doc.removeEventListener("focus",_64f,true);doc.removeEventListener("blur",_650,true);doc=null;};}}},_onTouchNode:function(node,by){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer;}var _651=[];try{while(node){var _652=dojo.attr(node,"dijitPopupParent");if(_652){node=dijit.byId(_652).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===dojo.body()){break;}node=dijit.getDocumentWindow(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId"),_653=id&&dijit.byId(id);if(_653&&!(by=="mouse"&&_653.attr("disabled"))){_651.unshift(id);}node=node.parentNode;}}}}catch(e){}if(by&&by=="activate"&&!_651.length){}else{dijit._setStack(_651,by);}},_setStack:function(_654,by){var _655=dijit._activeStack;dijit._activeStack=_654;for(var _656=0;_656<Math.min(_655.length,_654.length);_656++){if(_655[_656]!=_654[_656]){break;}}var _657;for(var i=_655.length-1;i>=_656;i--){_657=dijit.byId(_655[i]);if(_657){_657._focused=false;_657._hasBeenBlurred=true;var _658=(dojo.indexOf(_654,_657.id)>-1);if(_658){break;}if(_657._onBlur){this._pendingActiveWidgetsCount=i-_656;_657._onBlur(by);}if(_657._setStateClass){_657._setStateClass();}dojo.publish("widgetBlur",[_657,by]);}}delete this._pendingActiveWidgetsCount;for(i=_656;i<_654.length;i++){_657=dijit.byId(_654[i]);if(_657){_657._focused=true;if(_657._onFocus){_657._onFocus(by);}if(_657._setStateClass){_657._setStateClass();}dojo.publish("widgetFocus",[_657,by]);}}}});console.log("re-defining dijit popup in patches.dijit.popup");dijit.popup={_stack:[],_beginZIndex:1000,_idGen:1,moveOffScreen:function(node){var _659=node.parentNode;if(!_659||!dojo.hasClass(_659,"dijitPopup")){_659=dojo.create("div",{"class":"dijitPopup",style:{visibility:"hidden",top:"-9999px"}},dojo.body());dijit.setWaiRole(_659,"presentation");_659.appendChild(node);}var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";dojo.style(_659,{visibility:"hidden",top:"-9999px",left:""});},getTopPopup:function(){console.log("re-defined getTopPopup");var _65a=this._stack;for(var pi=_65a.length-1;pi>0&&_65a[pi].parent===_65a[pi-1].widget;pi--){}return _65a[pi];},open:function(args){console.log("re-defined popup.open");var _65b=this._stack,_65c=args.popup,_65d=args.orient||((args.parent?args.parent.isLeftToRight():dojo._isBodyLtr())?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"}),_65e=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);var _65f=_65c.domNode.parentNode;if(!_65f||!dojo.hasClass(_65f,"dijitPopup")){this.moveOffScreen(_65c.domNode);_65f=_65c.domNode.parentNode;}dojo.attr(_65f,{id:id,style:{zIndex:this._beginZIndex+_65b.length},"class":"dijitPopup "+(_65c.baseClass||_65c["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(dojo.isIE||dojo.isMoz){var _660=_65f.childNodes[1];if(!_660){_660=new dijit.BackgroundIframe(_65f);var _661=dojo.connect(_65c,"destroy",this,function(){dojo.disconnect(_661);_660.destroy();dojo.destroy(_65f);});}}var best=_65e?dijit.placeOnScreenAroundElement(_65f,_65e,_65d,_65c.orient?dojo.hitch(_65c,"orient"):null):dijit.placeOnScreen(_65f,args,_65d=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding);_65f.style.visibility="visible";_65c.domNode.style.visibility="visible";var _662=[];_662.push(dojo.connect(_65f,"onkeypress",this,function(evt){if(evt.charOrCode==dojo.keys.ESCAPE&&args.onCancel){dojo.stopEvent(evt);args.onCancel();}else{if(evt.charOrCode===dojo.keys.TAB){dojo.stopEvent(evt);var _663=this.getTopPopup();if(_663&&_663.onCancel){_663.onCancel();}}}}));if(_65c.onCancel){_662.push(dojo.connect(_65c,"onCancel",args.onCancel));}_662.push(dojo.connect(_65c,_65c.onExecute?"onExecute":"onChange",this,function(){var _664=this.getTopPopup();if(_664&&_664.onExecute){_664.onExecute();}}));_65b.push({wrapper:_65f,iframe:_660,widget:_65c,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_662});if(_65c.onOpen){_65c.onOpen(best);}return best;},close:function(_665){var _666=this._stack;while(dojo.some(_666,function(elem){return elem.widget==_665;})){var top=_666.pop(),_667=top.wrapper,_668=top.iframe,_669=top.widget,_66a=top.onClose;if(_669.onClose){_669.onClose();}dojo.forEach(top.handlers,dojo.disconnect);if(_669&&_669.domNode){this.moveOffScreen(_669.domNode);}else{dojo.destroy(_667);}if(_66a){_66a();}}}};console.log("extending dijit._hasDropDown");dojo.extend(dijit._HasDropDown,{_onBlur:function(){console.log("dijit._hasDropDown _onBlur override");var _66b=dijit._curFocus&&this.dropDown&&dojo.isDescendant(dijit._curFocus,this.dropDown.domNode);this.closeDropDown(_66b);this.inherited("_onBlur",arguments);},closeDropDown:function(_66c){console.log("dijit._hasDropDown closeDropDown override");if(this._opened){if(_66c){this.focus();}dijit.popup.close(this.dropDown);this._opened=false;this.state="";}}});console.log("extending dijit.Menu");dojo.extend(dijit.Menu,{_closeChild:function(){this._stopPopupTimer();var _66d=this.focusedChild&&this.focusedChild.from_item;if(this.currentPopup){if(dijit._curFocus&&dojo.isDescendant(dijit._curFocus,this.currentPopup.domNode)){this.focusedChild.focusNode.focus();}console.log(this.id+" Menu _closeChild, closing "+this.currentPopup.id);dijit.popup.close(this.currentPopup);this.currentPopup=null;}if(this.focusedChild){this.focusedChild._setSelected(false);this.focusedChild._onUnhover();this.focusedChild=null;}if(this.currentPopup){dijit.popup.close(this.currentPopup);this.currentPopup=null;}}});}}if(!dojo._hasResource["xwt.widget._ZIndexMixinHelper"]){dojo._hasResource["xwt.widget._ZIndexMixinHelper"]=true;dojo.provide("xwt.widget._ZIndexMixinHelper");dojo.declare("xwt.widget.Layer",null,{constructor:function(args){dojo.mixin(this,args);}});(function(){layers=new dojox.collections.Dictionary();widgetToLayersMap=new dojox.collections.Dictionary();var _66e=dojo.config.zIndexPrefix?parseInt(dojo.config.zIndexPrefix):0;layers.add("1",new xwt.widget.Layer({id:1,start:_66e+1000,end:_66e+2000,currentMaxIndex:_66e+1001}));layers.add("2",new xwt.widget.Layer({id:2,start:_66e+3000,end:_66e+4000,currentMaxIndex:_66e+3001}));layers.add("3",new xwt.widget.Layer({id:1,start:_66e+9000,end:_66e+10000,currentMaxIndex:_66e+9001}));widgetToLayersMap.add("xwt.widget.layout.Dialog","1");widgetToLayersMap.add("xwt.widget.table.SaveFilterDialog","1");widgetToLayersMap.add("xwt.widget.anchoredoverlay._Overlay","1");widgetToLayersMap.add("xwt.widget.quickview.QuickView","1");widgetToLayersMap.add("xwt.widget.objectselector.ObjectSelector","1");widgetToLayersMap.add("xwt.widget.layout.ProgressBall","1");widgetToLayersMap.add("xwt.widget.navigation._SliderPanel","1");widgetToLayersMap.add("xwt.widget.navigation.GlobalToolbar","1");widgetToLayersMap.add("xwt.widget.navigation.Megamenu","1");widgetToLayersMap.add("xwt.widget.uishell.Header15","2");widgetToLayersMap.add("xwt.widget.notification.Alert","3");widgetToLayersMap.add("xwt.widget.notification.Toaster","3");widgetToLayersMap.add("xwt.widget.table._DeleteConfirm","3");function _66f(_670,_671){if(widgetToLayersMap.containsKey(_670)){layerId=widgetToLayersMap.entry(_670);layer=layers.entry(layerId);return layer;}var _672=widgetToLayersMap.getKeyList();for(var i=0;i<_672.length;i++){var _673=dojo.getObject(_672[i]);if(_673&&_671 instanceof _673){layerId=widgetToLayersMap.entry(_672[i]);layer=layers.entry(layerId);return layer;}}return null;};xwt.layer=function(_674,_675){return _66f(_674,_675);};xwt.addClassToLayer=function(_676,_677){if(!widgetToLayersMap.containsKey(_676)&&!isNaN(_677)){return widgetToLayersMap.add(_676,_677+"");}return false;};xwt.removeClassFromLayer=function(_678){if(widgetToLayersMap.containsKey(_678)){return widgetToLayersMap.remove(_678);}return false;};xwt.peekCurrentLayerIndex=function(_679){var _67a=layers.entry(_679);return _67a.value.currentMaxIndex;};xwt.getCurrentLayerIndexAndIncrement=function(_67b){var _67c=layers.entry(_67b);var temp=_67c.value.currentMaxIndex;_67c.value.currentMaxIndex++;return temp;};dijit.popup._origOpen=dijit.popup.open;dijit.popup.open=function(args){var _67d=args.popup;var _67e=dijit.popup._origOpen.apply(this,arguments);_67d.domNode.parentNode.style.zIndex=xwt.getCurrentLayerIndexAndIncrement(1);return _67e;};})();}if(!dojo._hasResource["xwt.widget._ZIndexMixin"]){dojo._hasResource["xwt.widget._ZIndexMixin"]=true;dojo.provide("xwt.widget._ZIndexMixin");dojo.provide("xwt.widget.Layer");dojo.declare("xwt.widget._ZIndexMixin",null,{skipIndex:false,skipUnderlay:true,_setIndex:function(_67f){if(this.skipIndex){return;}widgetClassName=this.declaredClass;layerObj=xwt.layer(widgetClassName,this);if(!layerObj){return;}var _680=layerObj.value.currentMaxIndex;if(widgetClassName==="xwt.widget.notification.Alert"){dojo.style(this.domNode,"zIndex",_680);this._setUnderlay(_680);return;}if(this.domNode){dojo.style(this.domNode,"zIndex",_680);}layerObj.value.currentMaxIndex++;if(this.skipUnderlay){return;}this._setUnderlay(_680);},_setUnderlay:function(_681){var _682=dojo.query("div.dijitDialogUnderlayWrapper");if(_682&&_682.length>0){for(i=0;i<_682.length;i++){var _683=_682[i];var _684=dojo.style(_683,"display");if(_684!="none"){console.log("underlay-index"+(_681-1));dojo.style(_683,"zIndex",(_681-1));}}}},hookZIndex:function(){widgetClassName=this.declaredClass;if(widgetClassName!=="xwt.widget.notification.Alert"&&widgetClassName!=="xwt.widget.table._DeleteConfirm"){setTimeout(dojo.hitch(this,"_setIndex"),500);return;}setTimeout(dojo.hitch(this,"_setIndex"),100);},dummy:null});}if(!dojo._hasResource["xwt.widget.layout.Dialog"]){dojo._hasResource["xwt.widget.layout.Dialog"]=true;dojo.provide("xwt.widget.layout.Dialog");dojo.declare("xwt.widget.layout.Dialog",[dijit.Dialog,xwt.widget._ZIndexMixin],{templateString:null,templateString:"<div class=\"dijitDialog\" tabindex=\"-1\" waiRole=\"dialog\" waiState=\"labelledby-${id}_title\">\r\n\r\n\r\n<table class=\"containerTable\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n  <tr>\r\n    <td class=\"top-left\"></td>\r\n    <td class=\"top-center\"></td>\r\n    <td class=\"top-right\"></td>\r\n  </tr>\r\n  <tr dojoAttachPoint=\"middleContentArea\">\r\n    <td class=\"middle-left-col\" dojoAttachPoint=\"middleLeftColumn\" >\r\n    \t<table class=\"middle-column-table\">\r\n \t\t\t<tr class=\"fill-row\">\r\n    \t\t\t<td class=\"middle-left\" dojoAttachPoint=\"middleLeft\"></td>\t\t\t\t\r\n    \t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"middle-left-lower\"></td>\r\n\t\t\t</tr>\r\n    \t</table>\r\n    </td>\r\n    <td class=\"middle-center\" dojoAttachPoint=\"contentArea\">\r\n\t\t<div dojoAttachPoint=\"titleBar\" class=\"dijitDialogTitleBar\">\r\n\t\t\t<span dojoAttachPoint=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"></span>\r\n\t\t\t<span dojoAttachPoint=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" dojoAttachEvent=\"onclick: onCancel, onmouseenter: _onCloseEnter, onmouseleave: _onCloseLeave\" title=\"${buttonCancel}\">\r\n\t\t\t\t<span dojoAttachPoint=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\r\n\t\t\t</span>\r\n\t\t</div>\r\n\t\t<div dojoAttachPoint=\"containerNode\" class=\"dijitDialogPaneContent\">\r\n\t\t</div>\t\t\t\t\r\n\t\t<div class=\"buttonPane\" dojoAttachPoint=\"buttonPane\">\r\n\t\t\t<div dojoAttachPoint=\"buttonGroup\" dojoType=\"xwt.widget.form.TextButtonGroup\"> \r\n\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t</div>\t\t\t\t\t\t\t\t\t\t\r\n\t</td>\r\n\t\r\n    <td class=\"middle-right-col\" dojoAttachPoint=\"middleRightColumn\">\r\n    \t<table class=\"middle-column-table\">\r\n    \t\t<tr class=\"fill-row\">\r\n    \t\t\t<td class=\"middle-right\" dojoAttachPoint=\"middleRight\"></td>\r\n    \t\t</tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td class=\"middle-right-lower\"></td>\r\n\t\t\t</tr>\r\n    \t</table>\r\n    \t\r\n    </td>\r\n  </tr>\r\n  <tr>\r\n    <td class=\"bottom-left\"></td>\r\n    <td class=\"bottom-center\"></td>\r\n    <td class=\"bottom-right\"></td>\r\n  </tr>\r\n</table>\r\n\r\n\r\n\r\n</div>\r\n",widgetsInTemplate:true,i18nPackageName:"xwt",i18nBundleName:"XMPProperties",_messages:null,_appMessages:null,button2Label:"Cancel",button1Label:"OK",button1BassClass:"defaultButton",baseClass:"xwtDialog dijitDialog",getButtonGroup:function(){var _685=dijit.byNode(this.buttonGroup);return _685;},_position:function(){var _686=dijit.getViewport(),np=dojo.position(this.domNode);var mbox=dojo.marginBox(this.domNode);if(mbox.t>(_686.t+_686.h)){dojo.marginBox(this.domNode,{t:(_686.t+_686.h-25)});}if(!dojo.hasClass(dojo.body(),"dojoMove")){if(this._showedOnce&&(Math.ceil(np.x+np.w+25)>=_686.w||Math.ceil(np.y+np.h+25)>=_686.h)){if(!((np.h+25)<=_686.h)){if(!this._adjusted){var left=(_686.w-np.w)/2+_686.l;if(left<0){left=0;}dojo.marginBox(this.domNode,{l:Math.floor(left)});if(Math.ceil(np.y+np.h)>=_686.h){dojo.marginBox(this.domNode,{t:(_686.t+25)});}this._adjusted=true;}}else{this.inherited(arguments);}}else{this._showedOnce=true;if(!((np.h+25)<=_686.h)){var left=(_686.w-np.w)/2+_686.l;if(left<0){left=0;}dojo.marginBox(this.domNode,{t:(_686.t+25),l:Math.floor(left)});}else{this.inherited(arguments);}}}},postMixIProperties:function(){dojo["requireLocalization"](this.i18nPackageName,this.i18nBundleName);this._messages=dojo.i18n.getLocalization(this.i18nPackageName,this.i18nBundleName);if(this.i18nPackageName!==""&&this.i18nBundleName!==""){dojo["requireLocalization"](this.i18nPackageName,this.i18nBundleName);this._appMessages=dojo.i18n.getLocalization(this.i18nPackageName,this.i18nBundleName);}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this._createButtons();this._hookEvents();this.__dijitDialogPatch();this.connect(this,"_endDrag","_endDragPosion");},_endDragPosion:function(){var mbox=dojo.marginBox(this.domNode);var _687=dijit.getViewport();if(mbox.t<0){var _687=dijit.getViewport();dojo.marginBox(this.domNode,{t:(_687.t+5)});}if(mbox.l<0){dojo.marginBox(this.domNode,{l:(_687.l+5)});}if(mbox.l>(_687.l+_687.w)){dojo.marginBox(this.domNode,{l:(_687.l+_687.w-25)});}if(mbox.t>(_687.t+_687.h)){dojo.marginBox(this.domNode,{t:(_687.t+_687.h-25)});}},__dijitDialogPatch:function(){var old=dijit.Dialog.prototype.uninitialize;dijit.Dialog.prototype.uninitialize=function(){var _688=false;if(this._fadeIn&&this._fadeIn.status()=="playing"){_688=true;this._fadeIn.stop();}if(this._fadeOut&&this._fadeOut.status()=="playing"){_688=true;this._fadeOut.stop();this._fadeOut.onEnd();}var ds=dijit._dialogStack;if(ds.length==0&&(this.open||_688)&&!dijit._underlay._destroyed){dijit._underlay.hide();}if(this._moveable){this._moveable.destroy();}old.call(this);};},_createButtons:function(){var tg=this.buttonGroup;var _689=new xwt.widget.form.TextButton({label:this.button1Label,baseClass:this.button1BassClass});var _68a=new xwt.widget.form.TextButton({label:this.button2Label});tg.addChild(_689);tg.addChild(_68a);},_hookEvents:function(){this.cancelConnection=dojo.connect(this.buttonGroup.getItemAt(1),"onClick",this,"onCancel");},_handleOneButton:function(){var _68b=this.buttonGroup.getChildren().length;if(_68b===1){this.autofocus=false;var _68c=this.buttonGroup.getChildren()[0];if(_68c){setTimeout(function(){var btn=dijit.byId(_68c.id);dijit.focus(btn.domNode);},10);}}},show:function(){this.inherited(arguments);this.fixGradient();this._handleOneButton();if(this.buttonGroup.getChildren().length==0){dojo.style(this.buttonPane,"display","none");}this.skipUnderlay=false;this.hookZIndex();xwtPopups.suspendPopups(this.domNode.style.zIndex);},hide:function(){xwtPopups.restorePopups();this.inherited(arguments);},findHighestZ:function(){var _68d=new Array();_68d=document.getElementsByTagName("DIV");var _68e=0;for(var i=0;i<_68d.length;i++){var _68f=_68d[i].style.zIndex;_68f=parseInt(_68f,10);if(!isNaN(_68f)){if(_68f>_68e){_68e=_68f;}}}return _68e;},_setContent:function(){this.inherited(arguments);this.fixGradient();},setDialogContent:function(node){this.dialogContentNode=node;this.containerNode.appendChild(this.dialogContentNode);},fixGradient:function(){var _690=dojo.marginBox(this.containerNode);var _691=dojo.marginBox(this.titleBar);var _692=dojo.marginBox(this.buttonPane);tdHeight=_690.h+_691.h+_692.h+20;if(tdHeight>85){var _693=tdHeight-85;dojo.style(this.middleLeft,{"height":_693+"px"});dojo.style(this.middleRight,{"height":_693+"px"});}},destroy:function(){if(this.buttonGroup){var _694=this.buttonGroup.getChildren();for(var i=0;i<_694;i++){var _695=this.buttonGroup.getItemAt(i);this.buttonGroup.removeChild(_695);_695.destroy();}}if(this.cancelConnection){dojo.disconnect(this.cancelConnection);delete this.cancelConnection;}if(this.dialogContentNode&&this.dialogContentNode.parentNode===this.containerNode){this.containerNode.removeChild(this.dialogContentNode);}delete this.dialogContentNode;this.inherited(arguments);}});}if(!dojo._hasResource["xwt.widget.notification.Alert"]){dojo._hasResource["xwt.widget.notification.Alert"]=true;dojo.provide("xwt.widget.notification.Alert");(function(){var _696=[];var _697;var _698=true;var _699=dojo.declare("xwt.widget.notification.Alert",[xwt.widget.layout.Dialog],{baseClass:"xwtAlert",buttons:[],dontShowAgainOption:false,dontShowAgain:false,messageType:"",messageNumber:0,maxMessageStringLength:30,_hasLongWord:false,wRatio:70,rRatio:32,flagSetOnlyButtonToDefault:true,constructor:function(){_696.push(this);setTimeout(_69a);},postMixInProperties:function(){this.inherited(arguments);var _69b=dojo.i18n.getLocalization("xwt","notification");this.dontShowAgainMessage=_69b.dontShowAgain;},postCreate:function(){this.inherited(arguments);dojo.addClass(this.domNode,"xwtAlert");},fixGradient:function(){var _69c=dojo.marginBox(this.middleContentArea);var _69d=_69c.h;if(_69d>85){var _69e=_69d-85;dojo.style(this.middleLeft,{"height":_69e+"px"});dojo.style(this.middleRight,{"height":_69e+"px"});}},_isVeryLongWord:function(word,_69f){if(word.length>this.maxMessageStringLength+1){return true;}return false;},_hasLongWordCheck:function(_6a0,_6a1){var _6a2=false;var _6a3=new Array();_6a3=_6a0.split(" ");var str="";this._isSentence=(_6a3.length>1)?true:false;for(var i=0;i<_6a3.length;i++){if(this._isVeryLongWord(_6a3[i],_6a1)){return true;}}return _6a2;},setDialogContent:function(_6a4,_6a5){if(typeof _6a4=="string"){var text=_6a4;this._hasLongWord=this._hasLongWordCheck(_6a4,this.maxMessageStringLength);_6a4=dojo.create("div",{innerHTML:text});}var _6a6=dojo.create("div",{className:"xwtAlert-"+this.messageType});if(this.helpText){dojo.create("div",{className:"xwtHelpText",innerHTML:this.helpText},_6a6);}var _6a7=_6a6.appendChild(_6a4);if(_6a5){var _6a7=_6a6.appendChild(_6a4);_6a7.id=_6a5;}if(this.dontShowAgainOption){dojo.create("div",{className:"xwtDontShowAgainMessage",innerHTML:"<input type='checkbox' class='xwtDontShowOption' /> "+"<label class='xwtDontShowLabel'>"+this.dontShowAgainMessage+"</label>"},_6a6);}arguments[0]=_6a6;this.inherited(arguments);},adjustSizeByTheme:function(){var mbox=dojo.marginBox(this.domNode);if(dojo.hasClass(dojo.body(),"reboot2")){var h1=(mbox.h-this.rRatio)?mbox.h-this.rRatio:0;dojo.marginBox(this.domNode,{h:h1});}},show:function(){console.log("show");this.inherited(arguments);if(this._hasLongWord){var mbox=dojo.marginBox(this.domNode);if(this._isSentence){dojo.marginBox(this.domNode,{w:mbox.w+this.wRatio+20});this.adjustSizeByTheme();}else{dojo.marginBox(this.domNode,{w:mbox.w+this.wRatio});}}var _6a8=this.buttons.length;if(this.flagSetOnlyButtonToDefault&&_6a8===1){this.buttonGroup.getChildren()[0].attr("baseClass","defaultButton");}if(_6a8===1){this.autofocus=false;}var _6a9=dojo.query("button",this.domNode)[0];if(_6a9){setTimeout(function(){dijit.focus(_6a9.domNode);},200);}},updateOptions:function(){var _6aa=dojo.query(".xwtDontShowOption",this.domNode)[0];this.dontShowAgain=_6aa&&_6aa.checked;},_createButtons:function(){var tg=this.buttonGroup;var self=this;var _6ab="";dojo.forEach(this.buttons,function(_6ac){var _6ad;if(_6ac.baseClass!=null&&_6ac.baseClass!=""){_6ab=_6ac.baseClass;_6ad=new xwt.widget.form.TextButton({label:_6ac.label,baseClass:_6ab});}else{_6ad=new xwt.widget.form.TextButton({label:_6ac.label});}dojo.connect(_6ad,"onClick",function(){self.updateOptions();if(_6ac.onClick){_6ac.onClick();}self.hide();self.destroyRecursive();});tg.addChild(_6ad);_6ab="";});if(this.messageNumber){dojo.create("div",{className:"xwtMessageNumber",innerHTML:"Message Number: "+"<span>"+this.messageNumber+"</span>"},tg.domNode);}},hide:function(){this.duration=0;this.inherited(arguments);_697=null;setTimeout(_69a,400);},_position:function(){var node=this.domNode,_6ae=dijit.getViewport(),p=this._relativePosition,bb=p?null:dojo._getBorderBox(node),l=Math.floor(_6ae.l+(p?p.x:(_6ae.w-bb.w)/2));dojo.style(node,{left:l+"px",top:_698?(-bb.h+"px"):"",bottom:1+"px",height:bb.h+"px"});var s=dojo.fx.slideTo({node:node,duration:500,left:l,bottom:bb.h}).play();}});function _69a(){if(!_697){_697=_696.shift();if(_697){_697.show();}else{_698=true;}}};xwt.widget.notification.Alert.getList=function(){return _696;};xwt.widget.notification.Alert.remove=function(_6af){_696.splice(dojo.indexOf(_696,_6af),1);_6af.destroyRecursive();};})();}if(!dojo._hasResource["xwt.widget.table.ellipsis"]){dojo._hasResource["xwt.widget.table.ellipsis"]=true;dojo.provide("xwt.widget.table.ellipsis");(function(d){var st=d.doc.documentElement.style;if(!("textOverflow" in st||"OTextOverflow" in st)){if(true){return;}if("MozBinding" in st){var sNS="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul";var xml=document.createElementNS(sNS,"window");var _6b0=document.createElementNS(sNS,"description");_6b0.setAttribute("crop","end");xml.appendChild(_6b0);var _6b1=function(n){var x=xml.cloneNode(true);x.firstChild.setAttribute("value",n.textContent);n.innerHTML="";n.appendChild(x);};var _6b2=d.create;var dd=d.doc;var dp=d.place;var _6b3=_6b2("iframe",{className:"ellipsis-iframe",src:"javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}</script></head><body></body></html>'"});var _6b4=function(r,cnt){if(r.collapsed){return;}if(cnt>0){do{_6b4(r);cnt--;}while(cnt);return;}if(r.endContainer.nodeType==3&&r.endOffset>0){r.setEnd(r.endContainer,r.endOffset-1);}else{if(r.endContainer.nodeType==3){r.setEndBefore(r.endContainer);_6b4(r);return;}else{if(r.endOffset&&r.endContainer.childNodes.length>=r.endOffset){var _6b5=r.endContainer.childNodes[r.endOffset-1];if(_6b5.nodeType==3){r.setEnd(_6b5,_6b5.length-1);}else{if(_6b5.childNodes.length){r.setEnd(_6b5,_6b5.childNodes.length);_6b4(r);return;}else{r.setEndBefore(_6b5);_6b4(r);return;}}}else{r.setEndBefore(r.endContainer);_6b4(r);return;}}}};var _6b6=function(n){var c=_6b2("div",{className:"ellipsis-container"});var e=_6b2("div",{className:"ellipsis-shown",style:{display:"none"}});n.parentNode.replaceChild(c,n);c.appendChild(n);c.appendChild(e);var i=_6b3.cloneNode(true);var ns=n.style;var es=e.style;var _6b7;var _6b8=function(){ns.display="";es.display="none";if(n.scrollWidth<=n.offsetWidth){return;}var r=dd.createRange();r.selectNodeContents(n);ns.display="none";es.display="";var done=false;do{var _6b9=1;dp(r.cloneContents(),e,"only");var sw=e.scrollWidth,ow=e.offsetWidth;done=(sw<=ow);var pct=(1-((ow*1)/sw));if(pct>0){_6b9=Math.max(Math.round(e.textContent.length*pct)-1,1);}_6b4(r,_6b9);}while(!r.collapsed&&!done);};i.onload=function(){i.contentWindow.onresize=_6b8;_6b8();};c.appendChild(i);};xwt.widget.table.ellipsizeCells=function(_6ba,_6bb,_6bc){var hc=d.hasClass,css=_6ba._css,_6bd=css.ellipsisNotDone;var _6be=" ."+css.cellContainer+" ."+_6bd+", "+" ."+css.groupCellContainer+" ."+_6bd;var _6bf=function(){dojo.query(_6be,_6bb).forEach(function(n){if(hc(n,"ellipsis")){return;}var cn=n.className;n.className=dojo.trim((" "+cn+" ").replace(/ ellipsis-not-done /g," ellipsis "));if(n.textContent==n.innerHTML&&!hc(n,"selectable")){_6b1(n);}});};if(_6bc){_6bf();return;}var t=null;var c=null;var _6c0=function(){if(c){d.disconnect(c);c=null;}if(t){window.clearTimeout(t);t=null;}t=window.setTimeout(function(){window.clearTimeout(t);t=null;_6bf();c=d.connect(_6bb,"DOMNodeInserted",_6c0);},10);};_6c0();};d.addOnUnload(function(){dojo.destroy(_6b3);_6b3=null;dojo.destroy(xml);xml=null;});}}st=null;})(dojo);}if(!dojo._hasResource["xwt.widget.table.Column"]){dojo._hasResource["xwt.widget.table.Column"]=true;dojo.provide("xwt.widget.table.Column");dojo.declare("xwt.widget.table.Meta",null,{type:String,label:"",attr:null,isIdentity:false,constructor:function(type,attr,_6c1,_6c2){this.type=type;this.attr=attr;this.label=_6c1;this.isIdentity=_6c2;}});dojo.declare("xwt.widget.table.ColumnFormatters",null,{format:function(data,type){switch(type){case Array:return this["Array"](data);case Boolean:return this["Boolean"](data);case Date:return this["Date"](data);case Node:return this["HTML"](data);case Number:return this["Number"](data);case String:return data;default:return data.toString();}},"Array":function(data){return data.join(", ");},"Boolean":function(data){return (data===true)?"Yes":"No";},"Date":function(data){return dojo.date.locale.format(data,{});},"HTML":function(data){return data.innerHTML;},"Number":function(data){return dojo.number.format(data,{});},"String":function(data){return data;}});xwt.widget.table.ColumnTypes={UNKNOWN:0,COLUMN:1,INDEX:2,SELECTOR:4,GROUP:8,EXPANDER:16};dojo.declare("xwt.widget.table.Column",null,{meta:null,width:0,locked:false,frozen:false,hidden:false,children:null,sortable:false,sorted:false,filterable:true,editable:false,editWidget:null,alignment:"left",vAlignment:"middle",collapseConfirm:null,wrapping:false,label:"",title:null,columnType:xwt.widget.table.ColumnTypes.COLUMN,_columns:null,_index:-1,_groupIndex:-1,_containerProps:null,_cellProps:null,constructor:function(_6c3){dojo.mixin(this,_6c3);if(this.children&&!(this.children instanceof xwt.widget.table._ColumnGroup)){this.children=new xwt.widget.table._ColumnGroup(this.children,this);}if((""+this.width).lastIndexOf("%")==(""+this.width).length-1){this._pwidth=parseFloat(this.width,10)/100;}if(this.editable){if(!this.editWidget){this.editWidget=new dijit.form.TextBox({name:this.label,value:"",intermediateChanges:true});this._setEditWidth=true;}else{try{var ctor=this.editWidget.widget,opts=this.editWidget.options||{};opts.intermediateChanges=true;this._setEditWidth=(this.editWidget.setWidth!==undefined)?this.editWidget.setWidth:true;this.editWidget=new (ctor)(opts);}catch(ex){console.warn("Edit widget on column "+this.label+" cannot be created: ",ex);}}this.editWidget&&this.editWidget.startup&&this.editWidget.startup();}else{if(!this.editWidget){this.editWidget=new dijit.form.TextBox({name:this.label,value:""});this._setEditWidth=true;}this.editWidget.attr("disabled",true);}if(this._index>-1&&this._columns){this.createProps(this._groupIndex>-1);}if(this.editWidget){this.editWidget.connect(this._columns.table,"destroy","destroy");}},setIndex:function(i){this._index=i;if(this.children){var last=this.children.columns.length-1;this.children.forEach(function(col,j){col._groupIndex=i;col.isLast=(j==last);col.createProps(true);});}this.createProps();},createProps:function(_6c4){var _6c5=this._columns.table,css=_6c5._css,_6c6=css[_6c4?"groupCell":"cell"],_6c7=css[_6c4?"groupCellContainer":"cellContainer"];var _6c8=this._cellProps={cellClass:_6c6+" "+_6c6+"-"+this._index,ellipsizeStyle:"",cellStyle:"text-align: "+this.alignment+";",cellRole:"gridcell",cellAttrs:"",cellTitle:"",containerClass:_6c7+" "+_6c7+"-"+this._index,containerStyle:"vertical-align: "+this.vAlignment+";",containerAttrs:"",columnIdx:this._index,innerHTML:"",title:""};if(_6c4){if(this.isLast){_6c8.containerClass+=" "+css.groupCellContainerLast;}_6c8.columnIdx=this._groupIndex;_6c8.containerAttrs="groupIdx=\""+this._index+"\"";}if(!this.wrapping){_6c8.cellClass+=" "+css["ellipsis"]+" no-wrapping";}},formatter:function(data,item,_6c9){return data!=null&&data.toString&&data.toString()||"";},_getCellContents:function(item,_6ca){return this.formatter(this.attr?_6ca.store.getValue(item,this.attr):item,item,_6ca.store);},_createEditorCell:function(_6cb,_6cc){if(this.children){dojo.forEach(this.children,function(_6cd){_6cd._createEditorCell(_6cb);});}var _6ce={className:_6cc._css["cellContainer"]+" "+_6cc._css["cellContainer"]+"-"+this._index,role:"presentation",columnIdx:this._index,style:{"text-align":"center","verticalAlign":"middle"}},_6cf={className:_6cc._css["cell"]+" "+_6cc._css["cell"]+"-"+this._index+(!this.editable?" not-editable":""),style:{"textAlign":this.alignment}};if(this.hidden){_6ce.className+=" "+_6cc._css["hidden"];}if(!this.wrapping){_6cf.className+=" "+(this.editable?"":_6cc._css["ellipsis"])+" no-wrapping";}var _6d0=dojo.create("td",_6ce,_6cb);var cell=dojo.create("div",_6cf,_6d0);dojo.setSelectable(cell,true);var w=this.width;if(this._pwidth){var box=dojo.marginBox(_6cc.domNode);w=box.w*this._pwidth;}w=w<0?0:w;if(!isNaN(w)){_6d0.style.width=(w+2)+"px";}if(this._contentWidthDifference&&dojo.boxModel!="border-box"){var diff=w-this._contentWidthDifference;if(diff>0){cell.style.width=diff+"px";}}if(this.editable){if(this._setEditWidth){dojo.style(this.editWidget.domNode,"width",(w-(this._contentWidthDifference||0)-2)+"px");try{if(dojo.isFunction(this.editWidget.resize)){this.editWidget.resize(w-(this._contentWidthDifference||0)-2);}}catch(e){console.warn("error in resizing of edit widget.  "+e);}}dojo.place(this.editWidget.domNode,cell);}return _6d0;},_createCell:function(_6d1,_6d2,_6d3,item,_6d4){if(this.children&&!_6d4){this.children._createGroup(_6d1,_6d2,_6d3,item);return;}var _6d5=dojo.clone(this._cellProps);if(_6d1<0){_6d5.innerHTML=this.label;_6d5.cellRole="columnheader";if(!this.locked){_6d5.containerAttrs+=" dndType=\"tableColumn_"+_6d3.id+"\"";_6d5.containerClass+=(_6d4?"":" dojoDndItem");}else{_6d5.containerClass+=" locked";}_6d5.containerAttrs+=" tabIndex=\"-1\" aria-readonly=\"true\"";_6d5.cellClass+=" "+_6d3._css["ellipsis"]+" no-wrapping";if(this.sortable){_6d3._applySortProperties(this,_6d5);}else{var _6d6;if(this.title){_6d6=this.title;}else{_6d6=this.label;}if(this.columnType!==xwt.widget.table.ColumnTypes.SELECTOR&&this.columnType!==xwt.widget.table.ColumnTypes.INDEX&&this.columnType!==xwt.widget.table.ColumnTypes.EXPANDER){_6d5.containerAttrs+=" title=\""+_6d6.replace(/<[^>]*>/g,"").replace(/\s+/g," ").replace(/[\r\n\t]/g," ")+_6d3.l10n.notSortable+"\"";_6d5.cellTitle=_6d6.replace(/<[^>]*>/g,"").replace(/\s+/g," ").replace(/[\r\n\t]/g," ")+_6d3.l10n.notSortable;}}if(this.filterable){_6d5.containerClass+=" filterable";}}else{_6d5.cellRole="gridcell";}if(this.hidden&&!_6d4){_6d5.containerClass+=" "+_6d3._css.hidden;}if(typeof item!="undefined"){var data=this._getCellContents(item,_6d3);if(typeof data=="string"){_6d5.innerHTML=data;if(!this.wrapping){if(this.columnType===xwt.widget.table.ColumnTypes.EXPANDER){data="";}_6d5.containerAttrs+=" title=\""+data.replace(/<[^>]*>/g,"").replace(/\s+/g," ").replace(/[\r\n\t]/g," ")+"\"";}_6d5.cellTitle=data.replace(/<[^>]*>/g,"").replace(/\s+/g," ").replace(/[\r\n\t]/g," ");if(_6d5.cellTitle=="&nbsp;"||dojo.trim(_6d5.cellTitle)==""){_6d5.cellTitle="";}}}if(_6d1<0){if(this.sortable&&this.sorted){_6d3._createSortIndicator(this,_6d5);}}else{}if(!isNaN(this.width)){_6d5.containerStyle+="width: "+this.width+"px;";}if(dojo.boxModel=="border-box"&&this.columnType!=xwt.widget.table.ColumnTypes.SELECTOR){_6d5.cellStyle+="width: "+this.width+"px;";}else{if(this._contentWidthDifference){var diff=this.width-this._contentWidthDifference;if(diff>0){_6d5.cellStyle+="width: "+diff+"px;";}}}if(this.columnType===xwt.widget.table.ColumnTypes.EXPANDER){_6d5.cellTitle="";}_6d2.append("<td class=\"",_6d5.containerClass," ",_6d3._uniqueCssId,"\" role=\"presentation\" columnidx=\"",_6d5.columnIdx,"\" style=\"",_6d5.containerStyle,"\"",_6d5.containerAttrs||"");_6d2.append("><div class=\"",_6d5.cellClass," ",_6d3._uniqueCssId,"\" role=\"",_6d5.cellRole,"\" style=\"",_6d5.cellStyle,"\" title=\"",_6d5.cellTitle);_6d2.append("\"",_6d5.cellAttrs,">",_6d5.innerHTML,"</div></td>");},_replaceCell:function(_6d7,_6d8,item,_6d9){if(this.children&&!_6d9){this.children._replaceGroup(_6d7,_6d8,item);return;}var cn=_6d7.className;if(xwt.widget.table.ellipsizeCells){_6d7.className=dojo.trim((" "+cn+" ").replace(/ ellipsis /g," ellipsis-not-done "));}if(typeof item!="undefined"){var data=this._getCellContents(item,_6d8);if(typeof data=="string"){_6d7.innerHTML=data;if(!this.wrapping){}}}_6d7=null;},_ellipsize:(function(){var s=dojo.doc.documentElement.style;if(!("textOverflow" in s||"OTextOverflow" in s)){if("MozBinding" in s){s=null;var _6da=dojo.moduleUrl("xwt.widget.table","resources/ellipsis.xml");return function(_6db){_6db.ellipsizeStyle=" -moz-binding: url("+_6da.uri+"#ellipsis);";};}}s=null;return null;})(),_getHeaderNode:function(){}});dojo.declare("xwt.widget.table.IndexColumn",xwt.widget.table.Column,{columnType:xwt.widget.table.ColumnTypes.INDEX,_dragHandleWidth:16,constructor:function(_6dc){_6dc.locked=true;_6dc.vAlignment="middle";_6dc.alignment="right";_6dc.hidden=false;_6dc.sortable=false;_6dc.filterable=false;_6dc.editable=false;_6dc.wrapping=false;_6dc.label="&nbsp;";_6dc.formatter=(function(_6dd){return (function(item){var id=_6dd.store.getIdentity(item),out="&nbsp;";if("_rowIndex" in this){out=this._rowIndex+1;}else{out=_6dd._idToIndex[id]+1;}return "<table class=\"row-index-table\"><tbody><tr class=\"row-index-table-container\">"+(_6dd.store.orderAttribute&&_6dd.moveTo?"<td class=\"row-index-table-gripper-cell\"><div class=\"dojoDndHandle\"></div></td>":"")+"<td class=\"row-index-table-index-cell\">"+out+"</td></tr></tbody></table>";});})(_6dc._columns.table);var _6de=this._columns.table;if(_6de){_6de.connect(_6de,"onRowCountUpdate",dojo.hitch(this,function(_6df){try{var n=_6df.toString(10),m=dojox.html.metrics.getCachedFontMeasurements();var w=Math.round((m["1ex"]*(n.length+1))+(_6de.store.orderAttribute&&_6de.store.moveTo?this._dragHandleWidth:0)+8);if(w!=this.width&&w>0){this._columns.resize(this,w);}}catch(e){console.log(e);}}));}this.inherited(arguments,[_6dc]);},createProps:function(_6e0){var _6e1=this._columns.table,css=_6e1._css,_6e2=css["cell"],_6e3=css["cellContainer"];var _6e4=this._cellProps={cellClass:_6e2+" "+_6e2+"-"+this._index,ellipsizeStyle:"",cellStyle:"text-align: "+this.alignment+";",cellRole:"gridcell",cellAttrs:"",cellTitle:"",containerClass:_6e3+" "+_6e3+"-"+this._index,containerStyle:"vertical-align: "+this.vAlignment+";",containerAttrs:"",columnIdx:this._index,innerHTML:""};_6e4.containerClass+=" row-index";},_createCell:function(_6e5,_6e6,_6e7,item,_6e8){this._rowIndex=_6e5;if(!this.width){var n=_6e7._totalRows.toString(10),m=dojox.html.metrics.getCachedFontMeasurements();this.width=Math.round((m["1ex"]*(n.length+1))+(_6e7.store.orderAttribute&&_6e7.store.moveTo?this._dragHandleWidth:0)+8);}this.inherited(arguments);}});dojo.declare("xwt.widget.table.SelectorColumn",xwt.widget.table.Column,{columnType:xwt.widget.table.ColumnTypes.SELECTOR,constructor:function(_6e9){_6e9.locked=true;_6e9.vAlignment="middle";_6e9.alignment="center";_6e9.hidden=false;_6e9.sortable=false;_6e9.filterable=false;_6e9.editable=false;_6e9.wrapping=false;var _6ea=_6e9.selectOptions&&_6e9.selectOptions.multiple||false,_6eb=_6e9.selectOptions&&_6e9.selectOptions.selectAllOption||false;var type=(_6ea?"checkbox":"radio");var _6ec=(_6ea?"dijitCheckBox":"dijitRadio");var _6ed=_6ec+"Checked";var _6ee=_6ec+"Disabled";_6e9.label="<div class=\"dijitCheckBox\"\" style=\"visibility:"+(_6ea&&_6eb?"visible":"hidden")+"\"><input type=\""+(_6ea?"checkbox":"radio")+"\" class=\"select-all\" style=\"visibility:"+(_6ea&&_6eb?"visible":"hidden")+"\"  /></div>";_6e9.formatter=(function(_6ef){return (function(item){var _6f0=_6ef.isSelected(item);var _6f1=_6ef.isSelectable(item);return "<div class=\""+_6ec+(_6f0?" "+_6ed:"")+(_6f1?"":" "+_6ee+" dijitDisabled")+"\"><input type=\""+type+"\" "+(_6f1?"":"disabled=\"true\" ")+(_6f0?"checked ":"")+"class=\"selection-input\" /></div>";});})(_6e9._columns.table);this.inherited(arguments,[_6e9]);this.columnType=xwt.widget.table.ColumnTypes.SELECTOR;},createProps:function(){this.inherited(arguments);if(this._cellProps&&this._cellProps.cellClass){this._cellProps.cellClass+=" cell-selector";this._cellProps.containerClass+=" cell-selector";}}});dojo.declare("xwt.widget.table.ExpanderColumn",xwt.widget.table.Column,{columnType:xwt.widget.table.ColumnTypes.EXPANDER,_item:null,_widget:null,_mode:"read",_rowHeight:0,constructor:function(_6f2){_6f2=_6f2||{};if(!_6f2.widget){}_6f2.width=20;_6f2.locked=true;_6f2.vAlignment="middle";_6f2.alignment="center";_6f2.hidden=false;_6f2.sortable=false;_6f2.filterable=false;_6f2.editable=false;_6f2.wrapping=false;_6f2.label="&nbsp;";_6f2.formatter=function(item){return "<div class=\"cell-expander\" title=\"Expand\"></div><span class=\"cell-expandera11y\" title=\"\">V/></span>";};this.inherited(arguments,[_6f2]);this.columnType=xwt.widget.table.ColumnTypes.EXPANDER;this._widget=_6f2.widget;var _6f3=[];_6f3.push(dojo.connect(this._columns.table.tableBody,"onclick",this,"_onClick"));_6f3.push(dojo.connect(this._columns.table,"onRender",this,function(){if(this._item){this._expandRow(this._item);}}));var _6f4=dojo.connect(this._columns.table,"destroy",function(){dojo.disconnect(_6f4);dojo.forEach(_6f3,function(c){dojo.disconnect(c);});});var evts=["onResize","onShow","onHide"];dojo.forEach(evts,function(evt){var cc=[];cc.push(dojo.connect(this._columns,evt,this,function(){if(this._item){this._expandRow(this._item);}}));var ccc=dojo.connect(this._columns.table,"destroy",function(){dojo.disconnect(ccc);dojo.forEach(cc,function(hdl){dojo.disconnect(hdl);});});},this);this._columns.table.expanded=dojo.hitch(this,function(){return this.expanded();});this._columns.table.getExpander=dojo.hitch(this,function(){return this;});this._columns.table.expandable=function(){return true;};},createProps:function(_6f5){var _6f6=this._columns.table,css=_6f6._css,_6f7=css["cell"],_6f8=css["cellContainer"];var _6f9=this._cellProps={cellClass:_6f7+" "+_6f7+"-"+this._index+" "+"cell-row-expander",ellipsizeStyle:"",cellStyle:"text-align: "+this.alignment+";",cellRole:"gridcell",cellAttrs:"",cellTitle:"",containerClass:_6f8+" "+_6f8+"-"+this._index,containerStyle:"vertical-align: "+this.vAlignment+";",containerAttrs:"",columnIdx:this._index,innerHTML:"",title:""};_6f9.containerClass+=" row-expander";},_createEditorCell:function(_6fa,_6fb){var _6fc=this.inherited(arguments);dojo.addClass(_6fc.firstChild,"expander");return _6fc;},mode:function(mode){if(mode===undefined){return this._mode;}var test=this._mode;this._mode=(mode=="edit")?mode:"read";if(this._widget&&this._widget.mode){this._widget.mode(mode);}if(test!=this._mode&&this._item){this._expandRow(this._item);}return this._mode;},expanded:function(){return (this._item!=null);},_expandRow:function(item){var _6fd=this._columns.table,row,_6fe;var idx=_6fd._idToIndex[_6fd.store.getIdentity(item)];if(this._mode=="edit"){_6fe=_6fd._editor.inline;}row=dojo.query("."+_6fd._css.row+"-"+idx+"."+_6fd._uniqueCssId,_6fd.tableBody)[0];if(!row){return;}if(_6fd.editing&&_6fd.editing()){if(_6fd._editor.item!=item){console.log("editing in progress. cannot expand");return;}}dojo.addClass(row,"row-expanded");var _6ff=dojo.query("table.row-table",row)[0];var page=Math.floor(idx/_6fd.rowsPerPage),ph=_6fd._pageHeights[page],_700=dojo.position(_6ff);var _701=this._columns.get(0),test=_701.columnType==xwt.widget.table.ColumnTypes.INDEX;if(test){if(!this.__indexHolder){this.__indexHolder=dojo.create("div",{className:"row-index index-holder",style:"float: left; width: "+_701.width+"px;"});if(dojo.isIE<8){dojo.style(this.__indexHolder,{"width":_701.width+"px","float":"left"});}}}if(!this.__widgetHolder){var args={className:"widget-holder"};if(test){args["style"]="margin-left: "+(_701.width+2)+"px";}this.__widgetHolder=dojo.create("div",args);}if(this._item!=item){this._rowHeight=_700.h;this._item=item;}if(test){dojo.place(this.__indexHolder,row);}dojo.place(this.__widgetHolder,row);var _702=xwt.widget.table.util.getValueObject(_6fd.store,item),_703=200,_704;if(this._widget){this._widget.table=_6fd;dojo.place(this._widget.domNode,(this._mode=="edit"?_6fd._editor.inline:this.__widgetHolder));this._widget.mode(this._mode);this._widget.setValues(_702,item,_6fd.store);dojo.addClass(this._widget.domNode,"row-editor-expandPane");dojo.style(this._widget.domNode,"display","");_704=dojo.marginBox(this._widget.domNode);_703=_704.h;}dojo.style(row,"height",(_703+this._rowHeight)+"px");if(this.__indexHolder){dojo.style(this.__indexHolder,"height",_703+"px");}if(!_6fe){cellExpDiv=dojo.query(".cell-expander",row);cellExpDiv.addClass("expanded");cellExpDiv.attr("title","Collapse");}else{cellEditExpDiv=dojo.query(".cell-expander",_6fd._editor.inline);cellEditExpDiv.addClass("expanded");cellEditExpDiv.attr("title","Collapse");}_6fd._invalidatePageHeights();dijit.scrollIntoView(row);this.onExpand(this._item,row);},_changeHeight:function(_705){var _706=this._columns.table,row,_707;var idx=_706._idToIndex[_706.store.getIdentity(this._item)];row=dojo.query("."+_706._css.row+"-"+idx+"."+_706._uniqueCssId,_706.tableBody)[0];if(!row){return;}var page=Math.floor(idx/_706.rowsPerPage),ph=_706._pageHeights[page];dojo.style(row,"height",(_705+this._rowHeight)+"px");if(this.__indexHolder){dojo.style(this.__indexHolder,"height",(_705+this._rowHeight)+"px");}_706._invalidatePageHeights();},_collapseRow:function(item){var _708=this._columns.table;item=item||this._item;var idx=_708._idToIndex[_708.store.getIdentity(item)],row=dojo.query("."+_708._css.row+"-"+idx+"."+_708._uniqueCssId,_708.tableBody)[0];if(row){dojo.removeClass(row,"row-expanded");var page=Math.floor(idx/_708.rowsPerPage),ph=_708._pageHeights[page],_709=dojo.position(row);if(this._widget){this._widget.domNode.parentNode&&this._widget.domNode.parentNode.removeChild(this._widget.domNode);}if(this.__indexHolder){this.__indexHolder.parentNode&&this.__indexHolder.parentNode.removeChild(this.__indexHolder);}if(this.__widgetHolder){this.__widgetHolder.parentNode&&this.__widgetHolder.parentNode.removeChild(this.__widgetHolder);}dojo.style(row,"height",this._rowHeight+"px");_708._updatePageHeight(page,ph-(_709.h-this._rowHeight),true);_708._invalidatePageHeights();dojo.query(".expanded",row).attr("title","Expand");dojo.query(".expanded",row).removeClass("expanded");dojo.query(".row-editor .expanded",_708.tableContainer).attr("title","Expand");dojo.query(".row-editor .expanded",_708.tableContainer).removeClass("expanded");var tb=dojo.query(".row-editor .expanded",_708.tableContainer).removeClass("expanded");}var item=this._item;this._rowHeight=0;this._item=null;this.onCollapse(item,row);item=null;},_onClick:function(e){if(dojo.hasClass(e.target,"cell-expander")||dojo.hasClass(e.target,"cell-expandera11y")){var p=e.target,_70a=this._columns.table,row,_70b;while(p&&dojo.attr(p,"rowindex")==null){p=p.parentNode;}if(!p){return;}if(dojo.hasClass(p,"row-editor")){_70b=p;row=dojo.query(".row-"+dojo.attr(p,"rowindex")+"."+_70a._uniqueCssId,_70a.tableBody)[0];}else{row=p;}var idx=dojo.attr(row,"rowindex"),item=_70a._indexToItem[idx];if(_70a.editing&&_70a.editing()){if(_70a._editor.item!=item){console.log("editing in progress. cannot expand another row");return this;}}if(dojo.hasClass(p,"row-editor")){this.mode("edit");}else{this.mode("read");}if(this._item){var prev=this._item;if((this._mode==="edit")&&(_70a._editor.dirty)){this.collapseConfirm=new xwt.widget.notification.Alert({messageType:"warning",dontShowAgainOption:false,buttons:[{label:"OK",baseClass:"defaultButton",onClick:dojo.hitch(this,function(){this.collapseConfirm.hide();_70a.getExpander()._collapseRow();})},{label:"Cancel",baseClass:"xwt-TextButton",onClick:dojo.hitch(this,function(){this.collapseConfirm.hide();})}]});this.collapseConfirm.setDialogContent("<div>You will lose your changes if any, on collapsing this row. Do you want to continue?</div>");}else{_70a.getExpander()._collapseRow();}if(prev==item){return;}}this._expandRow(item);}},onExpand:function(item,row){this._columns.table.onRowExpand(item,row);},onCollapse:function(item,row){this._columns.table.onRowCollapse(item,row);}});dojo.declare("xwt.widget.table._ColumnGroup",null,{parent:null,columns:[],_groupContainerProps:null,_groupCellProps:null,constructor:function(_70c,_70d){this.parent=_70d;var cols=_70d._columns,last=_70c.length-1;this.columns=dojo.map(_70c,function(_70e,i){if(_70e instanceof xwt.widget.table.Column){_70e._columns=cols,_70e._index=i;_70e._groupIndex=_70d._index;_70e.isLast=(i==last);_70e.createProps(true);return _70e;}else{return new xwt.widget.table.Column(dojo.mixin(_70e,{_columns:cols,_index:i,_groupIndex:_70d._index,isLast:(i==last)}));}});if(_70d._index>-1){this.createProps();}},createProps:function(){var _70f=this.parent,_710=_70f._columns.table,css=_710._css;var _711=this._groupCellProps={cellClass:css.cell+" "+css.cell+"-"+_70f._index,cellStyle:"text-align: "+_70f.alignment+";",cellAttrs:"",containerClass:css.cellContainer+" "+css.cellContainer+"-"+_70f._index,containerStyle:"vertical-align: "+_70f.vAlignment+";",columnIdx:_70f._index,innerHTML:""};if(!_70f.locked){_711.containerClass+=" dojoDndItem";}},forEach:function(func,_712){var _713=this.columns;for(var i=0,_714;_714=_713[i];i++){func.call(_712,_714,i);}},get:function(_715){return this.columns[_715];},_createGroup:function(_716,_717,_718,item){var _719=this.parent;var _71a=_718._css;var _71b=dojo.clone(this._groupCellProps);var _71c=["<td class=\"",_71b.containerClass,"\" role=\"presentation\" columnidx=\"",_71b.columnIdx,"\" style=\"",_71b.containerStyle,"\"><table border=\"0\" cellspacing=\"0\" cellpadding=\"0\" class=\"",_71b.cellClass,"\" role=\"presentation\" style=\"",_71b.cellStyle,"\"",_71b.cellAttrs||"","><tbody><tr>"];if(_716<0){_71c.splice(_71c.length,0,"<td colspan=\"",this.columns.length,"\" class=\"",_71a.groupCellContainer," ",_71a.groupLabelContainer,"\" columnIdx=\"",_719._index,"\"><div class=\"",_71a.groupCell," ",_71a.groupLabel,"\">",_719.label,"</div></td></tr><tr class=\"group-row\">");}_717.append(_71c.join(""));for(var i=0,col;col=this.columns[i];i++){col._createCell(_716,_717,_718,item,true);}_717.append("</tr></tbody></table></td>");},_replaceGroup:function(_71d,_71e,item){var _71f=_71d.rows[0].cells;for(var i=0,col;col=this.columns[i];i++){col._replaceCell(_71f[i].firstChild,_71e,item);}}});dojo.declare("xwt.widget.table.Columns",null,{_borders:false,constructor:function(cols,_720,_721,_722){this.table=_720;var self=this;this.columns=dojo.map(cols,function(_723,i){if(_723 instanceof xwt.widget.table.Column){_723._columns=self;_723.setIndex(i);return _723;}else{var args=dojo.mixin(_723,{_index:i,_columns:self});var ctor=xwt.widget.table.Column;if(args&&args.columnType){switch(args.columnType){case xwt.widget.table.ColumnTypes.INDEX:ctor=xwt.widget.table.IndexColumn;break;case xwt.widget.table.ColumnTypes.SELECTOR:ctor=xwt.widget.table.SelectorColumn;break;case xwt.widget.table.ColumnTypes.EXPANDER:ctor=xwt.widget.table.ExpanderColumn;break;}}return new ctor(args);}});this._borders=_721;this._showLast=_722;},forEach:function(func,_724){var _725=this.columns;for(var i=0,_726;_726=_725[i];i++){func.call(_724,_726,i);}},get:function(_727){return this.columns[_727];},getByLabel:function(_728){for(var i=0,l=this.columns.length;i<l;i++){if(this.columns[i].label==_728){return this.columns[i];}}return null;},getByAttribute:function(attr){for(var i=0,l=this.columns.length;i<l;i++){if(this.columns[i].attr==attr){return this.columns[i];}}return null;},getByNode:function(node,pos){var _729=parseInt(dojo.attr(node,"columnIdx"),10);while(isNaN(_729)&&node.parentNode){node=node.parentNode;_729=parseInt(dojo.attr(node,"columnIdx"),10);}if(isNaN(_729)){return null;}var _72a=null;if(typeof pos!="undefined"&&pos<4){_729-=1;}else{_72a=parseInt(dojo.attr(node,"groupIdx"),10);}var _72b=this.get(_729);if(!isNaN(_72a)&&_72a!==null){_72b=_72b.children.get(_72a);}return _72b;},_haveFrozen:function(){for(var i=0,col;col=this.get(i);i++){if(col.columnType==xwt.widget.table.ColumnTypes.COLUMN&&col.frozen){return true;}}return false;},freeze:function(_72c){console.log("Locking ",_72c.label);if(!this._haveFrozen()){}_72c._oldIndex=_72c._index;for(var i=0,col;col=this.get(i);i++){console.log("Is column["+i+"] locked? ",col,col.frozen);if(col.columnType==xwt.widget.table.ColumnTypes.COLUMN&&!col.frozen){break;}}this.move(_72c,i);_72c.frozen=true;_72c._oldLocked=_72c.locked;_72c.locked=true;this.onFreeze(_72c);return this;},unfreeze:function(_72d){console.log("Unlocking ",_72d.label);_72d.locked=_72d._oldLocked||false;_72d.frozen=false;if("_oldLocked" in _72d){delete _72d._oldLocked;}if("_oldIndex" in _72d){console.log("The old index is: ",_72d._oldIndex);this.move(_72d,_72d._oldIndex+1);delete _72d._oldIndex;}var _72e=this._haveFrozen();if(!_72e){}this.onUnfreeze(_72d);return this;},lock:function(_72f){var _730=dojo.query(".cell-container-"+_72f._index,this.table.tableHead)[0];if(_730){_72f.locked=true;dojo.removeAttr(_730,"dndType");dojo.removeClass(_730,"dojoDndItem");dojo.addClass(_730,"locked");this.onLock(_72f);}return this;},unlock:function(_731){var _732=dojo.query(".cell-container-"+_731._index,this.table.tableHead)[0];if(_732){_731.locked=false;dojo.attr(_732,"dndType","tableColumn_"+this.table.id);dojo.removeClass(_732,"locked");dojo.addClass(_732,"dojoDndItem");this.onUnlock(_731);}return this;},borders:function(show,last){var css=this.table._css;dojo.toggleClass(this.table.tableBody,css.columnBorders,show);dojo.toggleClass(this.table.tableBody,css.columnLastBorder,!!last);this._borders=show;this.table.resize();return this;},show:function(_733,_734){if(_733.hidden){_733.hidden=false;dojo.query(".cell-container-"+_733._index+"."+this.table._uniqueCssId,this.table.domNode).removeClass(this.table._css.hidden);this.table.resize();this.onShow(_733);}return this;},hide:function(_735){if(!_735.hidden){_735.hidden=true;dojo.query(".cell-container-"+_735._index+"."+this.table._uniqueCssId,this.table.domNode).addClass(this.table._css.hidden);this.table.resize();this.onHide(_735);}return this;},move:function(_736,_737){var _738=_736._index,cols=this.columns,_737=_738<_737?_737-1:_737;if(_738!=_737){var _739=cols[_737];if(_739&&_739.columnType!=xwt.widget.table.ColumnTypes.COLUMN){return;}cols.splice(_738,1);cols.splice(_737,0,_736);var max=(_738>_737?_738:_737),min=(_738<_737?_738:_737);for(;min<=max;min++){cols[min]._index=min;if(cols[min].children){cols[min].children.createProps();cols[min].children.forEach(function(col){col._groupIndex=min;col.createProps(true);});}cols[min].createProps();}}this.onMove(_736,_738,_737);return this;},resize:function(_73a,_73b,_73c){if(_73a._contentWidthDifference<_73b){if(_73a._groupIndex>-1&&!_73c){var _73d=this.get(_73a._groupIndex);this.resize(_73d,_73d.width+(_73b-_73a.width),true);}if(_73a.children&&!_73c){var _73e=_73a.children.get(_73a.children.columns.length-1);this.resize(_73e,_73e.width+(_73b-_73a.width),true);}_73a.width=_73b;var css=this.table._css,_73f="."+css.cell+"-";if(_73a._groupIndex>-1){_73f+=_73a._groupIndex+" ."+css.groupCell+"-"+_73a._index;}else{_73f+=_73a._index;}_73f+="."+this.table._uniqueCssId;dojo.query(_73f,this.table.domNode).forEach(function(n){n.parentNode.style.width=_73b+"px";var diff=_73b-_73a._contentWidthDifference;if(diff>0){n.style.width=diff+"px";}});if(_73a._pwidth){delete _73a._pwidth;}this.table.resize();this.onResize(_73a);}return this;},_createRow:function(node,_740,_741,item){var row,tr,_742,_743,_744=this.table,_745=_744._selectedIds,css=_744._css;var _746=_745?(_744.isSelected(item)?" "+_744._selectedCssClass:""):"";var id=_744.store.getIdentity(item);var _747=_744._lockedItems[id];var _748=dojox.html.entities.encode;var _749=dojox.html.entities.decode;var _74a=dojox.html.entities.html;var _74b;if((_744.isSelectable!=null)&&(_744.isSelectable(item))&&_744._selectionModel==="row"){_74b="";}else{_74b="noSel";}_740.append("<div class=\"",css.row," ",_74b," ",css.row,"-",_741," ",(_741%2==0?css.even:css.odd)," ",_744._uniqueCssId," ",css.row,"-itemid-",_744._santizeIdentityForCss(id),(_747?" row-locked":""));_740.append(_746,"\" tabIndex=\"-1\" role=\"row\" rowindex=\"",_741,"\" item-id=\"",_748(_749(id+"",_74a),_74a),"\"");_740.append("><table class=\"",css.rowTable,"\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" role=\"presentation\"><tbody><tr>");for(var i=0,_74c;_74c=this.get(i);i++){_74c._createCell(_741,_740,_744,item);}_740.append("</tr></tbody></table></div>");},_createRows:function(page,_74d,_74e){var rows=new dojox.string.Builder();for(var i=0,idx=0,item;(item=_74d[i]);i++){this._createRow(page,rows,_74e+idx,item);idx++;}page.innerHTML=rows.toString();},_replaceRows:function(page,_74f,_750){var rows=page.childNodes;if(rows.length!=_74f.length){page.innerHTML="";this._createRows(page,_74f,_750);}else{var rRow=0;for(var i=0,item;(item=_74f[i]);i++){this._replaceRow(rows[rRow],i,_750+i,item);rRow++;}if(rRow!=_74f.length){while(page.childNodes[rRow]){dojo.destroy(page.childNodes[rRow]);}}}page=null;},_replaceRow:function(row,_751,_752,item){var _753=this.table,css=_753._css,_754=_751*this.columns.length,_755=row.firstChild.rows[0].cells,_756=_753.isSelected&&_753.isSelected(item);row.className=css.row+" "+css.row+"-"+_752+" "+(_752%2==0?css.even:css.odd)+" "+_753._uniqueCssId+" "+css.row+"-itemid-"+_753._santizeIdentityForCss(_753.store.getIdentity(item));if(_756){row.className+=" selected";}dojo.attr(row,"rowindex",_752);for(var i=0,_757;_757=this.get(i);i++){_757._replaceCell(_755[i].firstChild,_753,item);}_755=row=null;},onLock:function(_758){},onUnlock:function(_759){},onFreeze:function(_75a){},onUnfreeze:function(_75b){},onShow:function(_75c){},onHide:function(_75d){},onMove:function(_75e,_75f,_760){},onResize:function(_761){}});dojo.declare("xwt.widget.table._ColumnMover",dojo.dnd.Source,{horizontal:true,table:null,columnIdx:-1,constructor:function(node,_762){this.accept=["tableColumn_"+this.table.id];if(dojo.isIE){this._ieMMListener=dojo.connect(this.node,"onmousemove",dojo.hitch(this,function(e){this.onOverEvent();}));}},onOverEvent:function(){if(!this.onmousemoveEvent&&this.node){this.onmousemoveEvent=dojo.connect(this.node,"onmousemove",this,"onMouseMove");}},destroy:function(){if(this._ieMMListener){dojo.disconnect(this._ieMMListener);delete this._ieMMListener;}this.inherited(arguments);},getAllNodes:function(){return dojo.query("> table.table-header > tbody > tr > .dojoDndItem",this.parent);},_overResizeArea:function(e){if(dojo.hasClass(dojo.body(),"dojoDndMove")){return false;}var node=e.target,_763=parseInt(dojo.attr(node,"columnIdx"),10);while(isNaN(_763)&&node.parentNode){node=node.parentNode;_763=parseInt(dojo.attr(node,"columnIdx"),10);}if(isNaN(_763)){return false;}var _764=parseInt(dojo.attr(node,"groupIdx"),10),_765=this.table._columns.get(_763);if(!isNaN(_764)){_765=_765.children.get(_764);}if(_765&&_765.columnType!=xwt.widget.table.ColumnTypes.COLUMN){return false;}if(!this._currentOverColumnNode||node!=this._currentOverColumnNode||!this._overTargetBox){this._currentOverColumnNode=node;this._overTargetBox={xy:dojo.coords(node,true),w:node.offsetWidth,h:node.offsetHeight};}var pos=e.pageX-this._overTargetBox.xy.x,_766=(_763>0)&&(this.table.getColumns().get(_763-1).columnType==xwt.widget.table.ColumnTypes.COLUMN);return ((_766&&pos<4)||(pos>=node.offsetWidth-4));},onMouseMove:function(e){var _767=this.table,_768=_767._css;if(this._resizer){return;}this.inherited(arguments);if(!this.isDragging&&!this._resizer){if(this._overResizeArea(e,this.current)){if(!dojo.hasClass(_767.tableHead,_768.resizing)){dojo.addClass(_767.tableHead,_768.resizing);}dojo.forEach(this.additionalNodes,function(n){if(!dojo.hasClass(n,_768.resizing)){dojo.addClass(n,_768.resizing);}});}else{if(dojo.hasClass(_767.tableHead,_768.resizing)){dojo.removeClass(_767.tableHead,_768.resizing);}dojo.forEach(this.additionalNodes,function(n){if(dojo.hasClass(n,_768.resizing)){dojo.removeClass(n,_768.resizing);}});}}else{if(dojo.hasClass(_767.tableHead,_768.resizing)){return;}}},onMouseOut:function(e){this.inherited(arguments);var _769=this.table,_76a=_769._css;if(dojo.hasClass(_769.tableHead,_76a.resizing)){dojo.removeClass(_769.tableHead,_76a.resizing);}this._overTargetBox=this._currentOverColumnNode=null;},onMouseDown:function(e){var _76b=this.table;if(dojo.hasClass(_76b.tableHead,_76b._css.resizing)&&this._overResizeArea(e)){var pos=e.pageX-this._overTargetBox.xy.x,_76c=_76b._columns.getByNode(this._currentOverColumnNode,pos);if(!_76c||(_76c&&_76c.columnType!=xwt.widget.table.ColumnTypes.COLUMN)){dojo.stopEvent(e);return;}_76b.moverDiv=document.createElement("div");var m=this._resizer=new xwt.widget.table._ColumnResizer(_76b.moverDiv,{table:_76b,column:_76c,origLeft:e.clientX});dojo.connect(m,"onMoveStop",this,function(){this._resizer.destroy();delete this._resizer;this._resizer=null;});m.onMouseDown(e);return;}this.inherited(arguments);},onDrop:function(_76d,_76e,copy){var _76f=this.table;if(this!=_76d){return;}else{if(!this.current){return;}var _770=0;if(this.targetAnchor){_770=dojo.attr(this.targetAnchor,"columnIdx");}var _771=_76f._columns.get(this.columnIdx);window.setTimeout(function(){_76f._columns.move(_771,_770);},50);this.isDropping=true;}},_getChildByEvent:function(e){var node=e.target,_772=null;if(node){for(var _773=node.parentNode;_773;node=_773,_773=node.parentNode){if(dojo.hasClass(node,"dojoDndItem")){_772=node;}if(_773==this.parent&&_772){return _772;}}}return null;},onDndStart:function(_774,_775,copy){if(this===_774){this.columnIdx=dojo.attr(_775[0],"columnIdx");}this.inherited(arguments);},onDndCancel:function(){this.inherited(arguments);this.isDropping=false;this.columnIdx=-1;},_markTargetAnchor:function(_776){if(this.current==this.targetAnchor&&this.before==_776){return;}var _777=false,_778=-1,_779=this.table;if(this.targetAnchor){this._removeItemClass(this.targetAnchor,this.before?"Before":"After");if(this.targetAnchor!=this.current){_778=dojo.attr(this.targetAnchor,"columnIdx")||0;dojo.query("."+_779._css.cellContainer+"-"+_778+"."+_779._uniqueCssId,_779.domNode).removeClass("column-reorder-selected");}}else{if(this.targetAnchor!=this.current){_778=0;}}this.targetAnchor=this.current;this.targetBox=null;this.before=_776;if(this.targetAnchor){if(_778>-1){if(this.targetAnchor!=this.anchor){this._addItemClass(this.targetAnchor,this.before?"Before":"After");_778=dojo.attr(this.targetAnchor,"columnIdx");dojo.query("."+_779._css.cellContainer+"-"+_778+"."+_779._uniqueCssId,_779.domNode).addClass("column-reorder-selected");}else{dojo.addClass(this.targetAnchor,"table-column-no-drop");}}}},_unmarkTargetAnchor:function(){if(!this.targetAnchor){return;}var _77a=dojo.attr(this.targetAnchor,"columnIdx");var _77b=this.table;if(_77a>-1){dojo.query("."+_77b._css.cellContainer+"-"+_77a+"."+_77b._uniqueCssId,this.table.domNode).removeClass("column-reorder-selected");}this._removeItemClass(this.targetAnchor,this.before?"Before":"After");dojo.removeClass(this.targetAnchor,"table-column-no-drop");this.targetAnchor=null;this.targetBox=null;this.before=true;}});dojo.declare("xwt.widget.table._ColumnAvatar",dojo.dnd.Avatar,{construct:function(){this.isA11y=dojo.hasClass(dojo.body(),"dijit_a11y");var _77c=this.manager.source,_77d=_77c.table,_77e=dojo.marginBox(_77d.tableHeadNodeContainer),_77f=dojo.attr(_77c.current,"columnidx"),_780=_77d._columns.get(_77f),d=dojo.create("div",{"class":"dojoDndAvatar table-column-avatar",style:{position:"absolute",zIndex:"1999",margin:"0px",height:_77e.h+"px",width:(_780.width+2)+"px",overflowY:"hidden",overflowX:"hidden",opacity:0.8}}),a=dojo.create("table",{"class":"table-header",style:{height:_77e.h+"px"}},d),b=dojo.create("tbody",null,a);var tr=dojo.create("tr",null,b);tr.appendChild(dojo.clone(dojo.query("."+_77d._css.cellContainer+"-"+_77f,_77d.tableHeadInnerContainer)[0]));var data=dojo.query("."+_77d._css.cellContainer+"-"+_77f+"."+_77d._uniqueCssId,_77d.tableBody);if(data.length){var _781=dojo.create("table",{"class":"table-body"},d);var _782=dojo.create("tbody",null,_781);var _783=false;if(data.length>5){_783=true;data=data.slice(0,5);}data.forEach(function(cell){var nTr=dojo.create("tr",{"class":"row"},_782);nTr.appendChild(dojo.clone(cell));_77e.h+=dojo.position(cell).h;});if(_783){var nTr=dojo.create("tr",{"class":"row"},_782);nTr.appendChild(dojo.create("td",{"align":"center","valign":"middle","class":_77d._css.cellContainer,"innerHTML":"..."}));_77e.h+=dojox.html.metrics.getTextBox("...").h;}}dojo.style(d,"height",_77e.h+"px");tr=null;this.node=d;}});(function(){var ddm=dojo.dnd.manager();var _784=ddm.makeAvatar;ddm.makeAvatar=function(){if(this.source instanceof xwt.widget.table._ColumnMover){return new xwt.widget.table._ColumnAvatar(this);}return _784.call(this);};})();dojo.declare("xwt.widget.table._ColumnResizer",dojo.dnd.Moveable,{constructor:function(node,_785){this.table=_785.table;this.column=_785.column;this.origLeft=_785.origLeft;dojo.style(node,{position:"absolute",left:0});dojo.body().appendChild(node);},onMoveStart:function(_786){this.inherited(arguments);var _787=this.table;var _788=dojo.marginBox(_787.tableHead),_789=dojo._abs(_787.tableHead,true),_78a=_787._contentBoxHeight;dojo.style(_786.node,{top:_789.y+"px",left:this.origLeft+"px",height:(_788.h+_78a-(_787._overflowX?_787._getScrollBarDims().h:0))+"px"});dojo.addClass(_786.node,"table-column-resizer");dojo.addClass(_787.tableHeadContainer,_787._css.resizing);this.drag={};},onMove:function(_78b,_78c){this.drag.leftTop=_78c;var size=parseInt(this.column.width,10)+(this.drag.leftTop.l-this.origLeft);if(size>this.column._contentWidthDifference){dojo.style(_78b.node,{left:_78c.l+"px"});}else{dojo.style(_78b.node,{left:(this.origLeft-parseInt(this.column.width,10)+this.column._contentWidthDifference)+"px"});}},onMoveStop:function(_78d){this.inherited(arguments);var drag=this.drag,_78e=this.table;if(this.column.width&&dojo.isString(this.column.width)){this.column.width=parseInt(this.column.width,10);}if(drag.leftTop){var size=parseInt(this.column.width,10)+(dojo.style(_78d.node,"left")-this.origLeft);if(size>0){var size=(size>this.column._contentWidthDifference)?size:this.column._contentWidthDifference+1;_78e._columns.resize(this.column,size);}}dojo.removeClass(_78e.tableHeadContainer,_78e._css.resizing);dojo.destroy(_78d.node);delete _78d.node;_78d.node=null;}});dojo.declare("xwt.widget.table.DetailMixin",null,{table:null,setValues:function(_78f,_790,item){},mode:function(mode){if(mode===undefined){return "read";}this._mode=mode;return this._mode;},changeHeight:function(_791){for(var i=0,_792;_792=this.table._columns.get(i);i++){if(_792.columnType!=xwt.widget.table.ColumnTypes.EXPANDER&&_792.columnType!=xwt.widget.table.ColumnTypes.EXPANDER){continue;}else{_792._changeHeight(_791);break;}}}});dojo.declare("xwt.widget.table.EditorMixin",xwt.widget.table.DetailMixin,{table:null,getValues:function(){return {};},execute:function(){this.onExecute();},executeAndNext:function(){this.onExecuteAndNext();},cancel:function(){this.onCancel();},onShow:function(){},onHide:function(){},onExecute:function(_793){},onExecuteAndNext:function(_794){},onCancel:function(){},destroy:function(){delete this.table;this.inherited(arguments);}});}if(!dojo._hasResource["dojo.number"]){dojo._hasResource["dojo.number"]=true;dojo.provide("dojo.number");dojo.number.format=function(_795,_796){_796=dojo.mixin({},_796||{});var _797=dojo.i18n.normalizeLocale(_796.locale);var _798=dojo.i18n.getLocalization("dojo.cldr","number",_797);_796.customs=_798;var _799=_796.pattern||_798[(_796.type||"decimal")+"Format"];if(isNaN(_795)||Math.abs(_795)==Infinity){return null;}return dojo.number._applyPattern(_795,_799,_796);};dojo.number._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;dojo.number._applyPattern=function(_79a,_79b,_79c){_79c=_79c||{};var _79d=_79c.customs.group;var _79e=_79c.customs.decimal;var _79f=_79b.split(";");var _7a0=_79f[0];_79b=_79f[(_79a<0)?1:0]||("-"+_7a0);if(_79b.indexOf("%")!=-1){_79a*=100;}else{if(_79b.indexOf("")!=-1){_79a*=1000;}else{if(_79b.indexOf("")!=-1){_79d=_79c.customs.currencyGroup||_79d;_79e=_79c.customs.currencyDecimal||_79e;_79b=_79b.replace(/\u00a4{1,3}/,function(_7a1){var prop=["symbol","currency","displayName"][_7a1.length-1];return _79c[prop]||_79c.currency||"";});}else{if(_79b.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _7a2=dojo.number._numberPatternRE;var _7a3=_7a0.match(_7a2);if(!_7a3){throw new Error("unable to find a number expression in pattern: "+_79b);}if(_79c.fractional===false){_79c.places=0;}return _79b.replace(_7a2,dojo.number._formatAbsolute(_79a,_7a3[0],{decimal:_79e,group:_79d,places:_79c.places,round:_79c.round}));};dojo.number.round=function(_7a4,_7a5,_7a6){var _7a7=10/(_7a6||10);return (_7a7*+_7a4).toFixed(_7a5)/_7a7;};if((0.9).toFixed()==0){(function(){var _7a8=dojo.number.round;dojo.number.round=function(v,p,m){var d=Math.pow(10,-p||0),a=Math.abs(v);if(!v||a>=d||a*Math.pow(10,p+1)<5){d=0;}return _7a8(v,p,m)+(v>0?d:-d);};})();}dojo.number._formatAbsolute=function(_7a9,_7aa,_7ab){_7ab=_7ab||{};if(_7ab.places===true){_7ab.places=0;}if(_7ab.places===Infinity){_7ab.places=6;}var _7ac=_7aa.split(".");var _7ad=(_7ab.places>=0)?_7ab.places:(_7ac[1]&&_7ac[1].length)||0;if(!(_7ab.round<0)){_7a9=dojo.number.round(_7a9,_7ad,_7ab.round);}var _7ae=String(Math.abs(_7a9)).split(".");var _7af=_7ae[1]||"";if(_7ab.places){var _7b0=dojo.isString(_7ab.places)&&_7ab.places.indexOf(",");if(_7b0){_7ab.places=_7ab.places.substring(_7b0+1);}_7ae[1]=dojo.string.pad(_7af.substr(0,_7ab.places),_7ab.places,"0",true);}else{if(_7ac[1]&&_7ab.places!==0){var pad=_7ac[1].lastIndexOf("0")+1;if(pad>_7af.length){_7ae[1]=dojo.string.pad(_7af,pad,"0",true);}var _7b1=_7ac[1].length;if(_7b1<_7af.length){_7ae[1]=_7af.substr(0,_7b1);}}else{if(_7ae[1]){_7ae.pop();}}}var _7b2=_7ac[0].replace(",","");pad=_7b2.indexOf("0");if(pad!=-1){pad=_7b2.length-pad;if(pad>_7ae[0].length){_7ae[0]=dojo.string.pad(_7ae[0],pad);}if(_7b2.indexOf("#")==-1){_7ae[0]=_7ae[0].substr(_7ae[0].length-pad);}}var _7b3=_7ac[0].lastIndexOf(",");var _7b4,_7b5;if(_7b3!=-1){_7b4=_7ac[0].length-_7b3-1;var _7b6=_7ac[0].substr(0,_7b3);_7b3=_7b6.lastIndexOf(",");if(_7b3!=-1){_7b5=_7b6.length-_7b3-1;}}var _7b7=[];for(var _7b8=_7ae[0];_7b8;){var off=_7b8.length-_7b4;_7b7.push((off>0)?_7b8.substr(off):_7b8);_7b8=(off>0)?_7b8.slice(0,off):"";if(_7b5){_7b4=_7b5;delete _7b5;}}_7ae[0]=_7b7.reverse().join(_7ab.group||",");return _7ae.join(_7ab.decimal||".");};dojo.number.regexp=function(_7b9){return dojo.number._parseInfo(_7b9).regexp;};dojo.number._parseInfo=function(_7ba){_7ba=_7ba||{};var _7bb=dojo.i18n.normalizeLocale(_7ba.locale);var _7bc=dojo.i18n.getLocalization("dojo.cldr","number",_7bb);var _7bd=_7ba.pattern||_7bc[(_7ba.type||"decimal")+"Format"];var _7be=_7bc.group;var _7bf=_7bc.decimal;var _7c0=1;if(_7bd.indexOf("%")!=-1){_7c0/=100;}else{if(_7bd.indexOf("")!=-1){_7c0/=1000;}else{var _7c1=_7bd.indexOf("")!=-1;if(_7c1){_7be=_7bc.currencyGroup||_7be;_7bf=_7bc.currencyDecimal||_7bf;}}}var _7c2=_7bd.split(";");if(_7c2.length==1){_7c2.push("-"+_7c2[0]);}var re=dojo.regexp.buildGroupRE(_7c2,function(_7c3){_7c3="(?:"+dojo.regexp.escapeString(_7c3,".")+")";return _7c3.replace(dojo.number._numberPatternRE,function(_7c4){var _7c5={signed:false,separator:_7ba.strict?_7be:[_7be,""],fractional:_7ba.fractional,decimal:_7bf,exponent:false};var _7c6=_7c4.split(".");var _7c7=_7ba.places;if(_7c6.length==1||_7c7===0){_7c5.fractional=false;}else{if(_7c7===undefined){_7c7=_7ba.pattern?_7c6[1].lastIndexOf("0")+1:Infinity;}if(_7c7&&_7ba.fractional==undefined){_7c5.fractional=true;}if(!_7ba.places&&(_7c7<_7c6[1].length)){_7c7+=","+_7c6[1].length;}_7c5.places=_7c7;}var _7c8=_7c6[0].split(",");if(_7c8.length>1){_7c5.groupSize=_7c8.pop().length;if(_7c8.length>1){_7c5.groupSize2=_7c8.pop().length;}}return "("+dojo.number._realNumberRegexp(_7c5)+")";});},true);if(_7c1){re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(_7c9,_7ca,_7cb,_7cc){var prop=["symbol","currency","displayName"][_7cb.length-1];var _7cd=dojo.regexp.escapeString(_7ba[prop]||_7ba.currency||"");_7ca=_7ca?"[\\s\\xa0]":"";_7cc=_7cc?"[\\s\\xa0]":"";if(!_7ba.strict){if(_7ca){_7ca+="*";}if(_7cc){_7cc+="*";}return "(?:"+_7ca+_7cd+_7cc+")?";}return _7ca+_7cd+_7cc;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_7be,decimal:_7bf,factor:_7c0};};dojo.number.parse=function(_7ce,_7cf){var info=dojo.number._parseInfo(_7cf);var _7d0=(new RegExp("^"+info.regexp+"$")).exec(_7ce);if(!_7d0){return NaN;}var _7d1=_7d0[1];if(!_7d0[1]){if(!_7d0[2]){return NaN;}_7d1=_7d0[2];info.factor*=-1;}_7d1=_7d1.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return _7d1*info.factor;};dojo.number._realNumberRegexp=function(_7d2){_7d2=_7d2||{};if(!("places" in _7d2)){_7d2.places=Infinity;}if(typeof _7d2.decimal!="string"){_7d2.decimal=".";}if(!("fractional" in _7d2)||/^0/.test(_7d2.places)){_7d2.fractional=[true,false];}if(!("exponent" in _7d2)){_7d2.exponent=[true,false];}if(!("eSigned" in _7d2)){_7d2.eSigned=[true,false];}var _7d3=dojo.number._integerRegexp(_7d2);var _7d4=dojo.regexp.buildGroupRE(_7d2.fractional,function(q){var re="";if(q&&(_7d2.places!==0)){re="\\"+_7d2.decimal;if(_7d2.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+_7d2.places+"}";}}return re;},true);var _7d5=dojo.regexp.buildGroupRE(_7d2.exponent,function(q){if(q){return "([eE]"+dojo.number._integerRegexp({signed:_7d2.eSigned})+")";}return "";});var _7d6=_7d3+_7d4;if(_7d4){_7d6="(?:(?:"+_7d6+")|(?:"+_7d4+"))";}return _7d6+_7d5;};dojo.number._integerRegexp=function(_7d7){_7d7=_7d7||{};if(!("signed" in _7d7)){_7d7.signed=[true,false];}if(!("separator" in _7d7)){_7d7.separator="";}else{if(!("groupSize" in _7d7)){_7d7.groupSize=3;}}var _7d8=dojo.regexp.buildGroupRE(_7d7.signed,function(q){return q?"[-+]":"";},true);var _7d9=dojo.regexp.buildGroupRE(_7d7.separator,function(sep){if(!sep){return "(?:\\d+)";}sep=dojo.regexp.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==""){sep="\\s\\xa0";}}var grp=_7d7.groupSize,grp2=_7d7.groupSize2;if(grp2){var _7da="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_7da+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_7da;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _7d8+_7d9;};}if(!dojo._hasResource["xwt.widget.table.util"]){dojo._hasResource["xwt.widget.table.util"]=true;dojo.provide("xwt.widget.table.util");(function(){var u=xwt.widget.table.util;u.getValueObject=function(_7db,item){if(dojo.isArray(item)){var _7dc=_7db.getAttributes(item[0]),test={},comp={};dojo.forEach(_7dc,function(attr){test[attr]=true;comp[attr]=_7db.getValue(item[0],attr);});dojo.forEach(item,function(i){dojo.forEach(_7dc,function(attr){test[attr]=(_7db.getValue(i,attr)==comp[attr]);});});var uniq={};dojo.forEach(_7dc,function(attr){if(test[attr]){uniq[attr]=comp[attr];}else{uniq[attr]="";}});return uniq;}var o={},_7dc=_7db.getAttributes(item);dojo.forEach(_7dc,function(attr){o[attr]=_7db.getValue(item,attr);});return o;};})();}if(!dojo._hasResource["dojox.widget.Toaster"]){dojo._hasResource["dojox.widget.Toaster"]=true;dojo.provide("dojox.widget.Toaster");dojo.declare("dojox.widget.Toaster",[dijit._Widget,dijit._Templated],{templateString:"<div class=\"dijitToasterClip\" dojoAttachPoint=\"clipNode\"><div class=\"dijitToasterContainer\" dojoAttachPoint=\"containerNode\" dojoAttachEvent=\"onclick:onSelect\"><div class=\"dijitToasterContent\" dojoAttachPoint=\"contentNode\"></div></div></div>",messageTopic:"",messageTypes:{MESSAGE:"message",WARNING:"warning",ERROR:"error",FATAL:"fatal"},defaultType:"message",positionDirection:"br-up",positionDirectionTypes:["br-up","br-left","bl-up","bl-right","tr-down","tr-left","tl-down","tl-right"],duration:2000,slideDuration:500,separator:"<hr></hr>",postCreate:function(){this.inherited(arguments);this.hide();dojo.body().appendChild(this.domNode);if(this.messageTopic){dojo.subscribe(this.messageTopic,this,"_handleMessage");}},_handleMessage:function(_7dd){if(dojo.isString(_7dd)){this.setContent(_7dd);}else{this.setContent(_7dd.message,_7dd.type,_7dd.duration);}},_capitalize:function(w){return w.substring(0,1).toUpperCase()+w.substring(1);},setContent:function(_7de,_7df,_7e0){_7e0=_7e0||this.duration;if(this.slideAnim){if(this.slideAnim.status()!="playing"){this.slideAnim.stop();}if(this.slideAnim.status()=="playing"||(this.fadeAnim&&this.fadeAnim.status()=="playing")){setTimeout(dojo.hitch(this,function(){this.setContent(_7de,_7df,_7e0);}),50);return;}}for(var type in this.messageTypes){dojo.removeClass(this.containerNode,"dijitToaster"+this._capitalize(this.messageTypes[type]));}dojo.style(this.containerNode,"opacity",1);this._setContent(_7de);dojo.addClass(this.containerNode,"dijitToaster"+this._capitalize(_7df||this.defaultType));this.show();var _7e1=dojo.marginBox(this.containerNode);this._cancelHideTimer();if(this.isVisible){this._placeClip();if(!this._stickyMessage){this._setHideTimer(_7e0);}}else{var _7e2=this.containerNode.style;var pd=this.positionDirection;if(pd.indexOf("-up")>=0){_7e2.left=0+"px";_7e2.top=_7e1.h+10+"px";}else{if(pd.indexOf("-left")>=0){_7e2.left=_7e1.w+10+"px";_7e2.top=0+"px";}else{if(pd.indexOf("-right")>=0){_7e2.left=0-_7e1.w-10+"px";_7e2.top=0+"px";}else{if(pd.indexOf("-down")>=0){_7e2.left=0+"px";_7e2.top=0-_7e1.h-10+"px";}else{throw new Error(this.id+".positionDirection is invalid: "+pd);}}}}this.slideAnim=dojo.fx.slideTo({node:this.containerNode,top:0,left:0,duration:this.slideDuration});this.connect(this.slideAnim,"onEnd",function(_7e3,anim){this.fadeAnim=dojo.fadeOut({node:this.containerNode,duration:1000});this.connect(this.fadeAnim,"onEnd",function(evt){this.isVisible=false;this.hide();});this._setHideTimer(_7e0);this.connect(this,"onSelect",function(evt){this._cancelHideTimer();this._stickyMessage=false;this.fadeAnim.play();});this.isVisible=true;});this.slideAnim.play();}},_setContent:function(_7e4){if(dojo.isFunction(_7e4)){_7e4(this);return;}if(_7e4&&this.isVisible){_7e4=this.contentNode.innerHTML+this.separator+_7e4;}this.contentNode.innerHTML=_7e4;},_cancelHideTimer:function(){if(this._hideTimer){clearTimeout(this._hideTimer);this._hideTimer=null;}},_setHideTimer:function(_7e5){this._cancelHideTimer();if(_7e5>0){this._cancelHideTimer();this._hideTimer=setTimeout(dojo.hitch(this,function(evt){if(this.bgIframe&&this.bgIframe.iframe){this.bgIframe.iframe.style.display="none";}this._hideTimer=null;this._stickyMessage=false;this.fadeAnim.play();}),_7e5);}else{this._stickyMessage=true;}},_placeClip:function(){var view=dijit.getViewport();var _7e6=dojo.marginBox(this.containerNode);var _7e7=this.clipNode.style;_7e7.height=_7e6.h+"px";_7e7.width=_7e6.w+"px";var pd=this.positionDirection;if(pd.match(/^t/)){_7e7.top=view.t+"px";}else{if(pd.match(/^b/)){_7e7.top=(view.h-_7e6.h-2+view.t)+"px";}}if(pd.match(/^[tb]r-/)){_7e7.left=(view.w-_7e6.w-1-view.l)+"px";}else{if(pd.match(/^[tb]l-/)){_7e7.left=0+"px";}}_7e7.clip="rect(0px, "+_7e6.w+"px, "+_7e6.h+"px, 0px)";if(dojo.isIE){if(!this.bgIframe){this.clipNode.id=dijit.getUniqueId("dojox_widget_Toaster_clipNode");this.bgIframe=new dijit.BackgroundIframe(this.clipNode);}var _7e8=this.bgIframe.iframe;if(_7e8){_7e8.style.display="block";}}},onSelect:function(e){},show:function(){dojo.style(this.domNode,"display","block");this._placeClip();if(!this._scrollConnected){this._scrollConnected=dojo.connect(window,"onscroll",this,this._placeClip);}},hide:function(){dojo.style(this.domNode,"display","none");if(this._scrollConnected){dojo.disconnect(this._scrollConnected);this._scrollConnected=false;}dojo.style(this.containerNode,"opacity",1);}});}if(!dojo._hasResource["xwt.widget.notification.Toaster"]){dojo._hasResource["xwt.widget.notification.Toaster"]=true;dojo.provide("xwt.widget.notification.Toaster");dojo.declare("xwt.widget.notification.Toaster",[dojox.widget.Toaster,xwt.widget._ZIndexMixin],{templateString:"<div class=\"xwtToaster\" dojoAttachPoint=\"clipNode\"><div class=\"dijitToasterContainer\" dojoAttachPoint=\"containerNode\"><div class=\"dijitToasterContent\" dojoAttachPoint=\"contentNode\"></div></div></div>",filteredMessageTypes:[],postCreate:function(){this.overflowQueue=[];this.filteredMessageTypes=[];this._closeConnects=[];this.inherited(arguments);this.connect(dojo.global,"onresize","_placeClip");},filterMessage:function(_7e9,_7ea,_7eb){if(!this.shouldBeShown(_7ea)){return true;}else{return false;}},newMessage:function(_7ec,_7ed,_7ee){if(this.filterMessage(_7ec,_7ed,_7ee)){return;}if(_7ec.length>this.maxCharacters){_7ec=_7ec.substring(0,this.maxCharacters-3)+"...";}var _7ef="<div class='xwtToasterMessageWrapper'><div class='xwt-"+(_7ed||"success")+"-message'><div class='xwtTitle'>"+_7ee+"</div><div class='xwtBody'>"+_7ec+"</div></div></div>";if(this._currentlyShown>=this.maxMessages){this.overflowQueue.push(_7ef);}else{this._showMessage(_7ef);}},shouldBeShown:function(_7f0){if(dojo.indexOf(this.filteredMessageTypes,_7f0)>-1){return false;}return true;},_showMessage:function(_7f1){this._currentlyShown++;this.setContent(_7f1);this.hookZIndex();},_setContent:function(_7f2){if(!this.isVisible){this.contentNode.innerHTML="";dojo.forEach(this._closeConnects,function(c){dojo.disconnect(c);});this._closeConnects=[];}if(_7f2){var _7f3=dojo.create("div",{className:"xwtToasterWrapper",innerHTML:"<div class='xwtCloseIcon'></div>"+_7f2},this.contentNode);var _7f4=dojo.query(".xwtCloseIcon",_7f3)[0];var self=this;var cc=dojo.connect(_7f4,"onclick",function(_7f5){var i;for(i=0;i<self._closeConnects.length;i++){if(cc===self._closeConnects[i]){break;}}if(i<self._closeConnects.length){self._closeConnects.splice(i,1);}self.contentNode.removeChild(_7f3);self._currentlyShown--;dojo.stopEvent(_7f5);var _7f6=self.overflowQueue.shift();if(_7f6){self._showMessage(_7f6);}else{self.setContent("");}});this._closeConnects.push(cc);if(!this._overflowHandler){this._overflowHandler=this.connect(this,"hide",function(evt){var _7f7;self._currentlyShown=0;while(self._currentlyShown<self.maxMessages&&(_7f7=self.overflowQueue.shift())){self._showMessage(_7f7);}});}}},_placeClip:function(){if(this._currentlyShown){var view=dijit.getViewport();var _7f8=dojo.marginBox(this.containerNode);var _7f9=this.clipNode.style;_7f9.height=_7f8.h+"px";_7f9.width=_7f8.w+"px";var pd=this.positionDirection;var n=dojo.create("div",{style:{visibility:"hidden"}},dojo.body());dojo.addClass(n,"xwtToasterBottomSpace");var _7fa=dojo.style(n,"height");if(pd.match(/^t/)){_7f9.top=view.t+"px";}else{if(pd.match(/^b/)){_7f9.top=(view.h-_7f8.h-2+view.t+_7fa)+"px";}}if(pd.match(/^[tb]r-/)){_7f9.left=(view.w-_7f8.w-1-view.l)+"px";}else{if(pd.match(/^[tb]l-/)){_7f9.left=0+"px";}}dojo.body().removeChild(n);_7f9.clip="rect(0px, "+_7f8.w+"px, "+_7f8.h+"px, 0px)";if(dojo.isIE){if(!this.bgIframe){this.clipNode.id=dijit.getUniqueId("dojox_widget_Toaster_clipNode");this.bgIframe=new dijit.BackgroundIframe(this.clipNode);}var _7fb=this.bgIframe.iframe;if(_7fb){_7fb.style.display="block";}}}},_currentlyShown:0,overflowQueue:[],separator:"",maxCharacters:60,maxMessages:10,duration:300,destroy:function(){try{if(this._closeConnects){dojo.forEach(this._closeConnects,function(c){dojo.disconnect(c);});delete this._closeConnects;}if(this._scrollConnected){dojo.disconnect(this._scrollConnected);delete this._scrollConnected;}}catch(e){}this.inherited(arguments);}});}if(!dojo._hasResource["xwt.widget.table.Select"]){dojo._hasResource["xwt.widget.table.Select"]=true;dojo.provide("xwt.widget.table.Select");xwt.widget.table.Select={_selected:null,_selectedIds:null,_selectionModel:"row",_multiple:false,_selectedCssClass:"selected",_checkbox:null,_radioButton:null,_unselectedIds:null,start:function(args){args=args||{};dojo.mixin(this,xwt.widget.table.Select);this._selected=[];this._selectedIds={};this._unselectedIds={};this._selectionModel=args.model||"row";this._selectAllOption=args.selectAllOption;this._multiple=args.multiple!==undefined?args.multiple:false;this._checkbox=args.checkbox||null;this._radiobutton=args.radiobutton||null;this._disableSelectAllMessage=args.disableSelectAllMessage;this._disableSelectAllMessage=args.disableSelectAllHardLimitMessage;this._disableShiftSelectWarning=args.disableShiftSelectWarning;this._selectAllLimit=args.selectAllLimit||500;this._selectAllHardLimit=args.selectAllHardLimit||-1;if(this._selectAllHardLimit>0&&this._selectAllLimit>this._selectAllHardLimit){this._selectAllLimit=this._selectAllHardLimit;}this._select_startup();},_select_startup:function(){var self=this;this._selecti18n=dojo.i18n.getLocalization("xwt.widget.table","Select");if(!this._disableSelectAllWarning||!this._disableShiftSelectWarning){this._selectToaster=new xwt.widget.notification.Toaster({id:this.id+"_xwtTable_selectEventMessages",duration:15000,maxCharacters:1000});dojo.body().appendChild(this._selectToaster.domNode);this._selectToaster.startup();this.connect(this._selectToaster.contentNode,"onclick",function(evt){if(evt){var node=evt.target;if(node&&node.nodeType==1){if(dojo.attr(node,"disableselectallmessage")){this._disableSelectAllMessage=node.checked;}else{if(dojo.attr(node,"disableselectallhardlimitmessage")){this._disableSelectAllHardLimitMessage=node.checked;}else{if(dojo.attr(node,"disableshiftselectmessage")){this._disableShiftSelectWarning=node.checked;}}}}}});var _7fc=dojo.connect(this,"destroy",this,function(){dojo.disconnect(_7fc);if(this._selectToaster){this._selectToaster.destroyRecursive();this._selectToaster.destroyRecursive=function(){};this._selectToaster.destroy=function(){};delete this._selectToaster;}});}if(this._selectAllOption){function _7fd(){var _7fe=dojo.query(".select-all",self.tableHeadRow)[0];self.connect(_7fe,"onclick",function(){self.selectAll(_7fe.checked);});var _7ff=self._selected.allSelected;if(_7ff){var _800=dojo.isFunction(_7ff.except)?_7ff.except():null;if(_800&&_800.length){_7ff=false;}}var _801=!!(self._selected&&_7ff);_7fe.checked=_801;if(_801){dojo.addClass(_7fe.parentNode,"dijitCheckBoxChecked");}else{dojo.removeClass(_7fe.parentNode,"dijitCheckBoxChecked");}};_7fd();this.connect(this,"render",_7fd);}this.connect(this.tableBody,"onclick","_selector");this.connect(this.tableRowTopNodeContainer,"onclick","_selector");this.connect(this.tableRowBottomNodeContainer,"onclick","_selector");},_selector:function(_802){var _803=_802.target;var _804=_803.tagName.toLowerCase()=="input";if(this._selectionModel=="row"||(_804&&_803.className=="selection-input")){if(this._multiple&&_802.shiftKey&&this._focusedNode){var _805=dojo.attr(this._focusedNode,"rowindex");var _806=dojo.attr(this._focusedNode,"item-id");if(this.isSelected(this._indexToItem[_805])){try{if(dojo.global.getSelection){var _807=dojo.global.getSelection();if(_807.removeAllRanges){if(_807.rangeCount&&_807.collapseToStart){_807.collapseToStart();}}else{_807.collapse(true);}}else{if(dojo.doc.selection){var _808=dojo.doc.selection.createRange();_808.collapse(true);_808.select();}}}catch(e){}var _809=this._findRowId(_803);var _80a=this._findItemId(_803);var _80b=this._idToItem[_806];var _80c=this._idToItem[_80a];var _80d={startRow:_805,startId:this.store.isItem(_80b)?this.store.getIdentity(_80b):null,endRow:_809,endId:this.store.isItem(_80c)?this.store.getIdentity(_80c):null,lockedItemIds:[]};if(this._lockedItems){var id;for(id in this._lockedItems){_80d.lockedItemIds.push(id);}}if(this._sortable){_80d.sort=dojo.clone(this._getSortProps());}if(this._currentFilter){_80d.filter=dojo.clone(this._currentFilter);}this.onSelectRange(_80d);var _80e=parseInt(_80d.startRow,10);var end=parseInt(_80d.endRow,10);var size=Math.abs(end-_80e)+1;var _80f=false;var _810=Math.abs(size-this._selectAllLimit);if(_80e>end){if(size>this._selectAllLimit){_80f=true;var end=_80e-(this._selectAllLimit-1);}var tmp=_80e;_80e=end;end=tmp;}else{if(size>=this._selectAllLimit){_80f=true;end=_80e+(this._selectAllLimit-1);}}if(_80e<0){_80e=0;}var _811=this.scrollToRow(_80e);_811.addCallback(dojo.hitch(this,function(){setTimeout(dojo.hitch(this,function(){if(this._selectToaster&&_80f&&!this._disableShiftSelectWarning){var msg=dojo.string.substitute(this._selecti18n.shiftSelectWarning,{0:this._selectAllLimit,1:(_80e+1),2:(end+1),3:_810});msg+="<br><br><input type='checkbox' disableshiftselectmessage='true'> <i>"+this._selecti18n.shiftSelectDisableMsg+"</i>";this._selectToaster.newMessage(msg,"warning",this._selecti18n.shiftSelectTitle);}var def=this._selectionFetch(_80e,(end-_80e)+1);def.addCallback(dojo.hitch(this,function(){}));}),10);}));}else{this.select(this._indexToItem[this._findRowId(_803)]);}}else{this._setByRow(_803);}}},_selectionFetch:function(_812,_813){var def=new dojo.Deferred();if(this._loadingIndicator){this._loadingIndicator.show();def.addCallback(dojo.hitch(this,function(){this._loadingIndicator.hide();}));def.addErrback(dojo.hitch(this,function(){this._loadingIndicator.hide();}));}def.addErrback(dojo.hitch(this,function(_814){table._onLoadError(_814);}));var req=this.store.fetch({query:this.query,filter:this._currentFilter,sort:this._sortable?this._getSortProps():null,start:_812,count:_813,queryOptions:this.queryOptions,onComplete:dojo.hitch(this,function(_815,_816){if(_815&&_815.length>0){dojo.forEach(_815,function(item){if(!this.isLocked(item)){this.select(item);}},this);}def.callback(true);}),onError:function(err,_817){def.errback(err);}});return def;},selectAll:function(_818){this.clearSelections();var self=this;self._selected.allSelected=_818?{except:function(){var _819=[];for(id in self._unselectedIds){var item=self._idToItem[id];if(item){_819.push(item);}}return _819;}}:false;self.__selectingAll=true;if(_818){setTimeout(dojo.hitch(this,function(){self._lastScrollTop=0;self.tableContainer.scrollTop=0;this.__allowFetchSelect=true;var sDef=self.render();sDef.addCallback(dojo.hitch(this,function(){delete this.__allowFetchSelect;var _81a=dojo.query(".select-all",self.tableHeadRow)[0];if(_81a){_81a.checked=true;dojo.addClass(_81a.parentNode,"dijitCheckBoxChecked");}var _81b=0;if(self._lockedItems){var id;var _81c=[];for(id in self._lockedItems){_81c.push(self._lockedItems[id]);_81b++;}if(_81c.length){self.deselectRange(_81c);self.selectRange(_81c);}}var def=this._selectionFetch(0,(this._selectAllLimit-_81b));def.addCallback(function(){delete self.__selectingAll;if(_818&&self._totalRows>self._selectAllLimit){setTimeout(function(){if(self._selectToaster&&!self._disableSelectAllMessage){var msg=self._selectAllHardLimit>0?self._selecti18n.selectAllWithLimitWarning:self._selecti18n.selectAllWarning;msg=dojo.string.substitute(msg,{0:self._selectAllLimit,1:self.rowsPerPage,2:self._selectAllHardLimit});msg+="<br><br><input type='checkbox' disableselectallmessage='true'> <i>"+self._selecti18n.selectAllDisableMsg+"</i>";self._selectToaster.newMessage(msg,"information",self._selecti18n.selectAllTitle);}},100);self.onSelectAll();}});}));}));}},selected:function(_81d){if(_81d){this.selectRange(_81d);}return this._selected.slice(0);},select:function(item,_81e){var _81f=true;if(this._selected.allSelected&&this._selectAllHardLimit>0&&this._selected.length==this._selectAllHardLimit){_81f=false;}if(!item){return this;}if(!this.isSelectable(item)){return this;}var id=this.store.getIdentity(item);if(id in this._selectedIds){return this;}if(!this._multiple){this.deselectRange(this._selected);}var _820=this._idToIndex[id];if(!_81e||!this._lockedItems||!this._lockedItems[id]){_81e=dojo.query("."+this._uniqueCssId+"."+this._css.row+"-itemid-"+this._santizeIdentityForCss(id),this.tableBody)[0];}if(!_81e||dojo.hasClass(_81e,"row-locked")){var c=(this._visibleLockedContainer=="top"?"Top":"Bottom"),_821=this["tableRow"+c+"InnerContainer"];if(_821){var rows=dojo.query("."+this._uniqueCssId+"."+this._css.row+"-itemid-"+this._santizeIdentityForCss(id),_821);if(rows&&rows.length==1){_81e=rows[0];}}}if(_81e){var row=_81e;while(row&&!dojo.attr(row,"item-id")&&row!=this.tableBody){row=row.parentNode;}if(dojo.attr(row,"item-id")==null){_81e=null;}else{_81e=row;}}if(_81e){if(_81f){var self=this;var e=_81e;setTimeout(function(){var _822=dojo.query("."+self._uniqueCssId+" "+"input.selection-input",e);if(!self._lockedItems||!self._lockedItems[id]){dojo.addClass(e,"selected");}_822.attr("checked",true);dojo.forEach(_822,function(_823){if(_823.parentNode){dojo.addClass(_823.parentNode,(_823.type=="radio"?"dijitRadioChecked":"dijitCheckBoxChecked"));}},self);});}else{if(this.__selectAllLimitTimer){clearTimeout(this.__selectAllLimitTimer);}if(this._selectToaster&&!this._disableSelectAllHardLimitMessage){this.__selectAllLimitTimer=setTimeout(dojo.hitch(this,function(){var msg=this._selecti18n.selectAllLimitHitWarning;msg=dojo.string.substitute(msg,{0:this._selectAllLimit,1:this._selectAllHardLimit});msg+="<br><br><input type='checkbox' disableselectallhardlimitmessage='true'> <i>"+this._selecti18n.selectAllHardLimitDisableMsg+"</i>";this._selectToaster.newMessage(msg,"warning",this._selecti18n.selectAllHitLimitTitle);}),500);}if(!this._lockedItems||!this._lockedItems[id]){dojo.removeClass(_81e,"selected");}var _824=dojo.query("."+this._uniqueCssId+" "+"input.selection-input",_81e);setTimeout(function(){_824.attr("checked",false);dojo.forEach(_824,function(_825){if(_825.parentNode){dojo.removeClass(_825.parentNode,(_825.type=="radio"?"dijitRadioChecked":"dijitCheckBoxChecked"));}});});}}if(_81f){this._selected.push(item);this._selectedIds[id]=true;delete this._unselectedIds[id];this.onSelect(item,_81e);_81e=null;if(this._selectAllOption&&!this.__selectingAll){var _826=dojo.query(".select-all",this.tableHeadRow)[0];if(_826){if(this._selected.allSelected){var _827=true;if(dojo.isFunction(this._selected.allSelected.except)){var _828=this._selected.allSelected.except();if(_828.length){if(!(this._selectAllHardLimit>0&&this._selected.length==this._selectAllHardLimit)){_827=false;}}}_826.checked=_827;if(_827){dojo.addClass(_826.parentNode,"dijitCheckBoxChecked");}else{dojo.removeClass(_826.parentNode,"dijitCheckBoxChecked");}}}}}return this;},selectRange:function(_829){for(var i=0;i<_829.length;i++){this.select(_829[i]);}return this;},selectByIndex:function(idx){this.select(this._indexToItem[idx]);return this;},_findRowId:function(_82a){while(_82a){var _82b=_82a.className&&_82a.className.match(this._css.row+"\\-([0-9]+) ");if(_82b){return _82b&&_82b[1];}_82a=_82a.parentNode;}},_setByRow:function(_82c,_82d){var _82e=this._findRowId(_82c);var _82f=this._findItemId(_82c);if(_82e){var row=_82c;while(row&&!dojo.attr(row,"item-id")&&row!=this.tableBody){row=row.parentNode;}if(dojo.attr(row,"item-id")==null){row=null;}if(!row||dojo.hasClass(row,"row-locked")){return false;}var item=this._idToItem[_82f];var id=this.store.getIdentity(item);_82d=typeof _82d=="boolean"?_82d:!(id in this._selectedIds);if(_82d){this.select(item,_82c);}else{this.deselect(item,_82c);}return _82d;}else{if(_82f&&this._lockedItems){var item=this._lockedItems[_82f];if(item){_82d=typeof _82d=="boolean"?_82d:!(_82f in this._selectedIds);if(_82d){this.select(item,_82c);}else{this.deselect(item,_82c);}return _82d;}}}},_findItemId:function(_830){var _831=null;while(_830){_831=dojo.attr(_830,"item-id");if(_831){return _831;}_830=_830.parentNode;}},isSelected:function(item){var id=this.store.getIdentity(item);var _832=this._selected.allSelected?this._selected.allSelected.except():[];var _833=true;var i;for(i=0;i<_832.length;i++){if(id==this.store.getIdentity(_832[i])){_833=false;break;}}return (id in this._selectedIds)||(this._selected.allSelected&&_833&&!(id in this._idToIndex));},isSelectable:function(item){return true;},selectByRow:function(row){this._setByRow(row,true);return this;},deselect:function(item,_834){if(!item){return;}var id=this.store.getIdentity(item);if(!(id in this._selectedIds)){return this;}var _835=-1;var i;for(i=0;i<this._selected.length;i++){if(id==this.store.getIdentity(this._selected[i])){_835=i;break;}}var _836=this._idToIndex[id];if(!this._lockedItems||!this._lockedItems[id]){_834=dojo.query("."+this._uniqueCssId+"."+this._css.row+"-itemid-"+this._santizeIdentityForCss(id),this.tableBody)[0];}if(!_834||dojo.hasClass(_834,"row-locked")){var c=(this._visibleLockedContainer=="top"?"Top":"Bottom"),_837=this["tableRow"+c+"InnerContainer"];if(_837){var rows=dojo.query("."+this._uniqueCssId+"."+this._css.row+"-itemid-"+this._santizeIdentityForCss(id),_837);if(rows&&rows.length==1){_834=rows[0];}}}if(_834){var row=_834;while(row&&!dojo.attr(row,"item-id")&&row!=this.tableBody){row=row.parentNode;}if(dojo.attr(row,"item-id")==null){_834=null;}else{_834=row;}}if(_834){if(!this._lockedItems||!this._lockedItems[id]){dojo.removeClass(_834,"selected");}var e=_834;var self=this;setTimeout(function(){var _838=dojo.query("."+self._uniqueCssId+" "+"input.selection-input",e);_838.attr("checked",false);dojo.forEach(_838,function(_839){if(_839.parentNode){dojo.removeClass(_839.parentNode,(_839.type=="radio"?"dijitRadioChecked":"dijitCheckBoxChecked"));}});});}this._selected.splice(_835,1);delete this._selectedIds[id];this._unselectedIds[id]=true;this.onDeselect(item,_834);if(!this._selected.length){this.onClearSelections();}if(this._selectAllOption&&!this.__selectingAll){var _83a=dojo.query(".select-all",this.tableHeadRow)[0];if(_83a){if(this._selected.allSelected){var _83b=true;if(dojo.isFunction(this._selected.allSelected.except)){var _83c=this._selected.allSelected.except();if(_83c.length){_83b=false;}}_83a.checked=_83b;if(_83b){dojo.addClass(_83a.parentNode,"dijitCheckBoxChecked");}else{dojo.removeClass(_83a.parentNode,"dijitCheckBoxChecked");}}}}_834=null;return this;},deselectRange:function(_83d){for(var i=_83d.length-1;i>=0;i--){if(_83d[i]){this.deselect(_83d[i]);}}return this;},deselectByIndex:function(idx){this.deselect(this._indexToItem[idx]);return this;},deselectByRow:function(row){this._setByRow(row,false);return this;},clearSelections:function(){delete this._selected.allSelected;var _83e=dojo.query(".select-all",this.tableHeadRow)[0];if(_83e){_83e.checked=false;dojo.removeClass(_83e.parentNode,"dijitCheckBoxChecked");}this.deselectRange(this._selected.slice(0));this._unselectedIds={};this._selectedIds={};this.onClearSelections();return this;},onSelect:function(item,row){if(row){dojo.query("."+this._uniqueCssId+" "+".selection-input",row).attr("checked","checked");}},onSelectRange:function(_83f){},onDeselect:function(item,row){if(row){dojo.query("."+this._uniqueCssId+" "+".selection-input",row).attr("checked","");}},onClearSelections:function(){var _840=dojo.query(".select-all",this.tableHeadRow)[0];if(_840){dojo.attr(_840,"checked",false);_840.checked=false;dojo.removeClass(_840.parentNode,"dijitCheckBoxChecked");}},onSelectAll:function(){}};}if(!dojo._hasResource["xwt.widget.table.Sort"]){dojo._hasResource["xwt.widget.table.Sort"]=true;dojo.provide("xwt.widget.table.Sort");xwt.widget.table.Sort={_sortable:true,_sortedColumn:null,_sortDirection:"ascending",start:function(_841){var _842=this.onSort;dojo.mixin(this,xwt.widget.table.Sort);this.onSort=_842;if(typeof _841!="undefined"){this._sortedColumn=_841;this._sortDirection=_841.sorted;}},_onSort:function(_843,_844){var def=this.render(true);var c=_843;var d=_844;def.addCallback(dojo.hitch(this,function(){this.onSort&&this.onSort(c,d);}));},_getSortProps:function(){if(this._sortedColumn){return [{attribute:this._sortedColumn.attr,descending:this._sortDirection=="descending"}];}else{return null;}},_applySortProperties:function(_845,_846){_846.containerClass+=" sortable";var l10n=this.l10n,_847=l10n.sortable;var _848;if(_845.title){_848=_845.title;}else{_848=_845.label;}if(_845.sorted){_847=l10n.sorted;_846.containerClass+=" sortable-"+_845.sorted;}_846.containerAttrs+=" title=\""+_848.replace(/<[^>]*>/g,"").replace(/\s+/g," ").replace(/[\r\n\t]/g," ")+_847+"\"";_846.cellTitle=_848.replace(/<[^>]*>/g,"").replace(/\s+/g," ").replace(/[\r\n\t]/g," ")+_847;},_sortIndicatorTemplate:"<div class=\"sortable-indicator\" role=\"presentation\"></div>",_createSortIndicator:function(_849,_84a){if(!_849.wrapping){var _84b=_849._columns.table._css[xwt.widget.table.ellipsizeCells?"ellipsisNotDone":"ellipsis"]+" no-wrapping";var cn=" "+_84a.cellClass+" ";_84a.cellClass=dojo.trim(cn.replace(/ ellipsis|ellipsis-not-done /g," "));_84a.innerHTML=this._sortIndicatorTemplate+"<div class=\""+_84b+"\">"+_84a.innerHTML+"</div>";}else{_84a.innerHTML=this._sortIndicatorTemplate+_84a.innerHTML;}},sort:function(_84c,_84d){if(this.editing&&this.editing()){console.log("editing in progress. cannot sort");return this;}if(this.expanded&&this.expanded()){this.getExpander()._collapseRow();}if(!_84c.sortable){return this;}var _84e=this._sortedColumn;if(_84e){_84e.sorted=false;}this._sortDirection=_84c.sorted=_84d;this._sortedColumn=_84c;setTimeout(dojo.hitch(this,function(){this._onSort(_84c,_84d);}),0);return this;},onSort:function(_84f,_850){},getSortInfo:function(){var sort=[];if(this._sortable){var _851=this._getSortProps();if(_851){dojo.forEach(_851,function(_852){var c=this._sortedColumn;if(c){sort.push({attribute:_852.attribute,descending:_852.descending,columnLabel:c.label});}},this);}}return sort;}};}if(!dojo._hasResource["xwt.widget.table.Edit"]){dojo._hasResource["xwt.widget.table.Edit"]=true;dojo.provide("xwt.widget.table.Edit");(function(){function _853(_854,item){var _855=false,_856=_854.getColumns();dojo.query(".xwtTableInlineEditing"+"."+_854._uniqueCssId,_854.tableBody).forEach(function(n){dojo.removeClass(n,"xwtTableInlineEditing");});if(_854._idToIndex&&_854.store.isItem(item)){var id=_854.store.getIdentity(item);var _857=_854._idToIndex[id];if(_857>=0){var rows=dojo.query("."+_854._css.row+"-itemid-"+_854._santizeIdentityForCss(id)+"."+_854._uniqueCssId,_854.tableBody);if(rows.length==1){dojo.addClass(rows[0],"xwtTableInlineEditing");var _858=dojo.position(rows[0]).h;dojo.style(_854._editor.inline,{"height":_858+"px",paddingTop:"0px",paddingBottom:"0px"});}var _859=dojo.query(".rowActions",_854._editor.inline)[0];if(_859){var rb=dojo.position(_859);dojo.style(_859,"bottom",-rb.h+"px");}if(_857==(_854._totalRows-1)){var _858=dojo.style(_854.tableBody,"height");if(dojo.isIE){var row=rows[0];var page=row;var _85a=true;while(page&&!dojo.hasClass(page,"page")&&page!==_854.tableBody){page=page.parentNode;}if(page&&dojo.hasClass(page,"page")){var _85b=_854._calculatePageHeight(page);var pTop=dojo.style(page,"top");var _85c=pTop+_85b;if((_85c+rb.h)<=_858){_85a=false;}}if(_85a){_858=_858+(rb.h);dojo.style(_854.tableBody,"height",_858+"px");}}_854.tableContainer.scrollTop=_858;}}}for(var i=0,_85d;_85d=_856.get(i);i++){if(_85d.columnType!=xwt.widget.table.ColumnTypes.COLUMN&&_85d.columnType!=xwt.widget.table.ColumnTypes.EXPANDER){continue;}if(_85d.columnType==xwt.widget.table.ColumnTypes.EXPANDER){var cell=dojo.query("."+_854._css.cell+"-"+_85d._index,_854._editor.inline)[0];cell.innerHTML=_85d.formatter();var _85e=_85d.expanded();var _85f=dojo.query(".cell-expander",cell);if(_85e&&_85f.length==1){_85d._collapseRow(item);_85d._onClick({target:_85f[0]});}var clm=_85d;if(clm.__editConnects){dojo.forEach(clm.__editConnects,function(_860){dojo.disconnect(_860);});delete clm.__editConnects;}clm.__editConnects=[];dojo.forEach(_85f,function(n){clm.__editConnects.push(dojo.connect(n,"onclick",_85d,"_onClick"));});if(clm.__tableConnect){dojo.disconnect(clm.__tableConnect);}clm.__tableConnect=dojo.connect(_854,"destroy",function(){dojo.disconnect(clm.__tableConnect);dojo.forEach(clm.__editConnects,function(_861){dojo.disconnect(_861);});delete clm.__tableConnect;});_85d.mode("edit");}else{var v=_854.store.getValue(item,_85d.attr);if(_85d.editable){_85d.editWidget._onChangeActive=false;try{if(v===false){_85d.editWidget.attr("value",v);}else{_85d.editWidget.attr("value",v||"");}}catch(e){console.log("error in setting value for "+_85d.editWidget+": "+e);}_85d.editWidget._onChangeActive=true;if(!_855){dijit.focus(_85d.editWidget.domNode);if(_85d.editWidget.textbox){try{dijit.selectInputText(_85d.editWidget.textbox);}catch(ex){console.warn("There was a problem selecting the contents of the textbox: ",ex.message);}}_855=true;}}else{_85d.editWidget._onChangeActive=false;if(v===false){_85d.editWidget.attr("value",v);}else{_85d.editWidget.attr("value",v||"");}_85d.editWidget._onChangeActive=true;var cell=dojo.query("."+_854._css.cell+"-"+_85d._index,_854._editor.inline)[0];cell.appendChild(_85d.editWidget.domNode);var w=dojo.contentBox(cell).w;if(w>=0){dojo.style(_85d.editWidget.domNode,"width",w+"px");}}}}var eh=dojo.position(_854._editor.inline.firstChild).h;var ch=dojo.position(_854._editor.inline).h;if(ch!=eh&&ch>eh){var _862=dojo.query(".cell-container",_854._editor.inline)[0];if(_862){dojo.style(_862,"height",ch+"px");}}};function _863(_864,_865){var css=_864._css,_866=_864.getColumns(),_867=Math.min(dojo.marginBox(_864.tableContainer).w,dojo.marginBox(_864.tableBody).w);var row=dojo.create("div",{role:"row",tabIndex:"-1",className:css.row+" "+css.row+"-editor",style:"display: none;"},_864.tableContainer);var tr=dojo.create("tr",{},dojo.create("tbody",{},dojo.create("table",{cellSpacing:0,cellPadding:0,border:0,className:css.rowTable,presentation:"presentation"},row)));if(!_865){var _868=_866.columns.length;var _869=dojo.create("div",{className:"rowActions",innerHTML:"<a href=\"#\" tabindex=\""+"0"+"\" class=\"row-editor-save\">Save</a> "+"| <a href=\"#\" tabindex=\""+"0"+"\" class=\"row-editor-cancel\">Cancel</a>"},_864.tableBody);var _86a=dojo.marginBox(_869);if(_86a.w){dojo.style(_869,"marginLeft",-(Math.floor(_86a.w/2))+"px");}dojo.place(_869,row);var _86b=function(e){var _86c={},_86d=false,_86e=null;for(var i=0,col;col=_866.get(i);i++){if(col.editable){var v=col.editWidget.attr("value");if(col.editWidget.isValid&&!col.editWidget.isValid()||v===undefined){_86d=true;_86e=col.editWidget;var _86f=new xwt.widget.notification.Alert({messageType:"warning",buttons:[{label:"OK",baseClass:"defaultButton"}]});_86f.setDialogContent("Cannot save invalid data.");_86f.show();break;}else{_86c[col.attr]=col.editWidget.attr("value");}}}if(!_86d){_864.commit(_864._editor.item,_86c,true);_864.closeEditor();}else{dijit.focus(_86e.domNode);if(_86e.displayMessage){var msg=_86e._message;_86e._message="";_86e.displayMessage(msg);}if(_86e.textbox){try{dijit.selectInputText(_86e.textbox);}catch(ex){console.warn("There was a problem selecting the contents of the textbox: ",ex.message);}}}return false;};var save=dojo.query("a.row-editor-save",row)[0];if(save){save.onclick=function(){return false;};}dojo.query("a.row-editor-cancel",row)[0].onclick=function(e){_864.cancelEdit();return false;};var cn=dojo.connect(_864,"onEditDirty",function(flag){var save=dojo.query("a.row-editor-save",row)[0];if(!save){return;}if(flag){dojo.addClass(save,"row-editor-dirty");}else{dojo.removeClass(save,"row-editor-dirty");}save.onclick=_86b;});var cln=dojo.connect(_864,"destroy",function(){dojo.disconnect(cln);dojo.disconnect(cn);});}if(_864._editor.heightAdjuster){dojo.place(_864._editor.heightAdjuster,dojo.create("td",{width:"1px"},tr));}else{_864._editor.heightAdjuster=dojo.create("div",{width:"1px",height:"auto"},dojo.create("td",{width:"1px"},tr));}var _870=0,_871=true,_872=null,_873=0,evts=["__shiftTabHandler","__tabHandler"];for(var i=0,_874,cell;_874=_866.get(i);i++){if(_874&&_874.columnType!=xwt.widget.table.ColumnTypes.COLUMN&&_874.columnType!=xwt.widget.table.ColumnTypes.EXPANDER){var w=dojo.marginBox(dojo.query(".cell-container-"+i,_864.tableHeadRow)[0]).w;_870+=w;}else{if(_871&&_870){dojo.style(row,"left",_870+"px");}if(_871){var _875=tr;while(_875&&!dojo.hasClass(_875,"row-editor")){_875=_875.parentNode;}var _876=4;if(_875){var _877=dojo._getPadBorderExtents(_875);var _878=dojo._getMarginExtents(_875);_876=_877.l+_878.l+1;}var _879=_874.width;_874.width=_879-_876;}cell=_874._createEditorCell(tr,_864);if(_871){_874.width=_879;_871=false;}if(_874.editable){_893(_864,_874,_865);if(!_872&&!_874.hidden){_872=i;}if(!_874.hidden){_873=i;}}}if(_874.editWidget&&!_874.__mouseOverHandler&&_874.editWidget.displayMessage){_874.__mouseOverHandler=dojo.connect(_874.editWidget.domNode,"onmouseenter",dojo.hitch(_874.editWidget,function(e){if(!this.isValid()){var m=this.invalidMessage;this._message="";this.displayMessage(m);}}));_874.__mouseOutHandler=dojo.connect(_874.editWidget.domNode,"onmouseleave",dojo.hitch(_874.editWidget,function(e){if(!this.isValid()){dijit.hideTooltip(this.domNode);}}));var c=_874;var _87a=dojo.connect(_864,"destroy",function(){dojo.disconnect(_87a);dojo.disconnect(c.__mouseOverHandler);dojo.disconnect(c.__mouseOutHandler);});}}dojo.style(row,"display","none");return row;};function _87b(_87c){if(_87c._editor.mode){var id=_87c.store.getIdentity(_87c._editor.item),idx=_87c._idToIndex[id],n=null,box=null,_87d=null,_87e=null,_87f=0;if(xwt.widget.table.TreeTable&&_87c instanceof xwt.widget.table.TreeTable){n=dojo.query("tr[item-id=\""+id+"\"]"+"."+_87c._uniqueCssId,_87c.tableBody)[0];if(n){var row=n.parentNode.parentNode.parentNode,_880=dojo.marginBox(row);box=dojo.marginBox(n);_87d=box.h;box.t+=_880.t;_87e=dojo.marginBox(row.parentNode);row=null;}}else{n=dojo.query("."+_87c._css.row+"-itemid-"+_87c._santizeIdentityForCss(id)+"."+_87c._uniqueCssId,_87c.tableBody)[0];if(n){box=dojo.marginBox(n);_87d=box.h;_87e=dojo.marginBox(n.parentNode);}}if(n){var _881=null;for(var i=0,_882=_87c.getColumns(),col;col=_882.get(i);i++){if(_87c.expanded&&_87c.expanded()&&col.columnType==xwt.widget.table.ColumnTypes.EXPANDER){_87d=col._rowHeight;}if(col.columnType==xwt.widget.table.ColumnTypes.COLUMN){break;}_87f+=Math.ceil(dojo.position(dojo.query(".cell-container-"+i,_87c.tableHeadRow)[0]).w);}var _883=_87c.tableContainer.scrollWidth;var _884=dojo.position(_87c.tableContainer);var _885=(_883>_884.w)?_883:_884.w;if(_87c._overflowX){var _886=_87c._getScrollBarDims();_885+=_886.w;}dojo.style(_87c._editor.inline,{top:(box.t+_87e.t)+"px",width:((_885-_87f)+6)+"px"});dojo.style(_87c._editor.heightAdjuster,"height",(_87d>22?(_87d-6)+"px":"auto"));_87c._editor.row_height=box.h;dijit.scrollIntoView(n);}}};function _887(_888){if(_888._editor.mode){if(_888._editor.inline){_888._editor.inline.parentNode.removeChild(_888._editor.inline);}_888._editor.inline=_863(_888,_888._editor.immediate);var id=_888.store.getIdentity(_888._editor.item),idx=_888._idToIndex[id],n=null,box=null,_889=null,_88a=null,_88b=0;dojo.attr(_888._editor.inline,"rowindex",idx);_87b(_888);if(xwt.widget.table.TreeTable&&_888 instanceof xwt.widget.table.TreeTable){var _88c=_888.getColumns();dojo.query("td.cell-container",_888._editor.inline).forEach(function(n){var _88d=dojo.attr(n,"columnidx"),_88e=_88c.get(_88d);if(!_88e.editable){return;}if(_88e.aggregate&&_888.model.mayHaveChildren(_888._editor.item)){dojo.query("div.cell > *[widgetid]",n).forEach(function(wn){dijit.byNode(wn).attr("disabled",true);});}else{dojo.query("div.cell > *[widgetid]",n).forEach(function(wn){dijit.byNode(wn).attr("disabled",false);});}});}dojo.style(_888._editor.inline,"display","");_853(_888,_888._editor.item);}else{dojo.style(_888._editor.inline,"display","none");}};function _88f(_890){_890._editor.setDirty(false);_890._editor.isNew=false;_890._editor.item=null;_890._editor.items=null;_890._editor.itemsValueObject=null;_890._editor.mode=false;};function _891(_892){if(_892._editor.inline){dojo.style(_892._editor.inline,"display","none");}_88f(_892);};function _893(_894,_895,_896){_895.editWidget.connect(_895.editWidget,"onChange",function(_897){if(!_894._editor.item){return;}var id=_894.store.getIdentity(_894._editor.item),idx=_894._idToIndex[id],cell,n=null;if(xwt.widget.table.TreeTable&&_894 instanceof xwt.widget.table.TreeTable){n=dojo.query("tr[item-id=\""+id+"\"]"+"."+_894._uniqueCssId,_894.tableBody)[0];}else{n=dojo.query("."+_894._css.row+"-"+idx+"."+_894._uniqueCssId,_894.tableBody)[0];}if(n){cell=dojo.query("."+_894._css.cell+"-"+_895._index+"."+_894._uniqueCssId,n)[0];}if(_895.editWidget.isValid&&!_895.editWidget.isValid()||_897===undefined){if(n){if(xwt.widget.table.TreeTable&&_894 instanceof xwt.widget.table.TreeTable){dojo.addClass(n,"row-error");var _898=dojo.attr(n,"parentpath");while(_898){n=dojo.query("tr[treepath=\""+_898+"\"]"+"."+_894._uniqueCssId,_894.tableBody)[0];if(n){dojo.addClass(n,"row-error");_898=dojo.attr(n,"parentpath");}else{break;}}}else{dojo.addClass(n,"row-error");}}if(cell){dojo.addClass(cell,"cell-error");}}else{var _899=_895.editWidget.attr("displayedValue");var _89a=_894.store.getValue(_894._editor.item,_895.attr);if(_89a!=_897&&_89a!=_899){_894._editor.setDirty(true);}if(n){if(xwt.widget.table.TreeTable&&_894 instanceof xwt.widget.table.TreeTable){dojo.removeClass(n,"row-error");var _898=dojo.attr(n,"parentpath");while(_898){n=dojo.query("tr[treepath=\""+_898+"\"]"+"."+_894._uniqueCssId,_894.tableBody)[0];if(n){dojo.removeClass(n,"row-error");_898=dojo.attr(n,"parentpath");}else{break;}}}else{dojo.removeClass(n,"row-error");}}if(cell){dojo.removeClass(cell,"cell-error");}}n=cell=null;});};function _89b(_89c){var w=_89c.detailWidget;if(!w){return;}if(w.onExecute){_89c.connect(w,"onExecute",dojo.hitch(w,function(){_89c.onEditComplete();var _89d=this.getValues();for(var i=0,_89e=_89c.getColumns(),_89f;_89f=_89e.get(i);i++){if(_89f.editable){var _8a0=_89f.editWidget.attr("value"),old=_89c.store.getValue(_89c._editor.item,_89f.attr);if(_89f.editWidget.isValid&&!_89f.editWidget.isValid()||_8a0===undefined){hasError=true;errorWidget=_89f.editWidget;var _8a1=new xwt.widget.notification.Alert({messageType:"warning",buttons:[{label:"OK",baseClass:"defaultButton"}]});_8a1.setDialogContent("Cannot save invalid data.");_8a1.show();return;}if(_8a0!=old&&_89d[_89f.attr]!=_8a0){_89d[_89f.attr]=_8a0;}}}var item=_89c._editor.item;var _8a2;var _8a3;var _8a4=function(){_853(_89c,item);var _8a5=_89c.expandable()&&_89c.expanded();if(_8a5){_89c.getExpander()._collapseRow();}};_8a2=dojo.connect(_89c,"onSaveComplete",function(){dojo.disconnect(_8a2);if(_8a3){dojo.disconnect(_8a3);}_8a4();_89c.closeEditor();});_8a3=dojo.connect(_89c,"onSaveError",function(){dojo.disconnect(_8a3);if(_8a2){dojo.disconnect(_8a2);}});_89c.commit(item,_89d);}));}if(w.onExecuteAndNext){_89c.connect(w,"onExecuteAndNext",dojo.hitch(w,function(){var id=_89c.store.getIdentity(_89c._editor.item),idx=_89c._idToIndex[id];_89c.onEditComplete();var _8a6=this.getValues();for(var i=0,_8a7=_89c.getColumns(),_8a8;_8a8=_8a7.get(i);i++){if(_8a8.editable){var _8a9=_8a8.editWidget.attr("value"),old=_89c.store.getValue(_89c._editor.item,_8a8.attr);if(_8a8.editWidget.isValid&&!_8a8.editWidget.isValid()||_8a9===undefined){hasError=true;errorWidget=_8a8.editWidget;var _8aa=new xwt.widget.notification.Alert({messageType:"warning",buttons:[{label:"OK",baseClass:"defaultButton"}]});_8aa.setDialogContent("Cannot save invalid data.");_8aa.show();return;}if(_8a9!=old&&_8a6[_8a8.attr]!=_8a9){_8a6[_8a8.attr]=_8a9;}}}_89c.commit(_89c._editor.item,_8a6);if(idx+1<_89c._totalRows){_88f(_89c);var _8ab=_89c.expandable()&&_89c.expanded();_8ab&&_89c.getExpander()._collapseRow();_89c.edit(_89c._indexToItem[idx+1]);_8ab&&_89c.getExpander()._expandRow(_89c._editor.item);}}));}if(w.onCancel){_89c.connect(w,"onCancel",dojo.hitch(w,function(){_89c.cancelEdit();}));}};function _8ac(_8ad){var w=_8ad._editor.dialog;if(!w){return;}_8ad.connect(w,"onExecute",dojo.hitch(w,function(){var dv=w.getValues(),tv=_8ad._editor.itemsValueObject,v={};for(var attr in dv){if(attr in tv&&dv[attr]!=tv[attr]){v[attr]=dv[attr];}}_8ad.commit(_8ad._editor.items,v);_8ad.closeEditor();}));_8ad.connect(w,"onCancel",dojo.hitch(w,function(){_8ad.cancelEdit();}));};function _8ae(_8af,item){var id=_8af.store.getIdentity(item),idx=_8af._idToIndex[id],n=null;if(xwt.widget.table.TreeTable&&_8af instanceof xwt.widget.table.TreeTable){n=dojo.query("tr[item-id=\""+id+"\"]"+"."+_8af._uniqueCssId,_8af.tableBody)[0];}else{n=dojo.query("."+_8af._css.row+"-"+idx+"."+_8af._uniqueCssId,_8af.tableBody)[0];}if(n){dojo.style(n,"height",_8af._editor.row_height+"px");}};function _8b0(_8b1,item){if(!item){return;}var id=_8b1.store.getIdentity(item),idx=_8b1._idToIndex[id],_8b2=null;if(xwt.widget.table.TreeTable&&_8b1 instanceof xwt.widget.table.TreeTable){_8b2="tr[item-id=\""+id+"\"]";}else{_8b2="."+_8b1._css.row+"-"+idx;}_8b2+="."+_8b1._uniqueCssId;dojo.query(_8b2,_8b1.tableBody).removeClass("row-error");dojo.query(_8b2+" .cell",_8b1.tableBody).removeClass("cell-error");};function _8b3(_8b4){var o={};dojo.forEach(_8b4,function(attr){o[attr]="";});return o;};function _8b5(_8b6){if(_8b6._indexToItem.length){var item=_8b6._indexToItem[0];var _8b7=_8b6.store.getAttributes(item);_8b6._editor.itemTemplate=_8b3(_8b7);}else{var h=dojo.connect(_8b6,"_onFetchComplete",function(){dojo.disconnect(h);if(_8b6._indexToItem.length){var item=_8b6._indexToItem[0];var _8b8=_8b6.store.getAttributes(item);_8b6._editor.itemTemplate=_8b3(_8b8);}else{var _8b8=[];for(var i=0,_8b9=_8b6.getColumns(),col;col=_8b9.get(i);i++){if(col.columnType==xwt.widget.table.ColumnTypes.COLUMN){_8b8.push(col.attr);}}_8b6._editor.itemTemplate=_8b3(_8b8);}});}};var _8ba={itemTemplate:null,lastId:0,inline:null,_shiftKey:false,item:null,isNew:false,mode:false,dirty:false,immediate:false,row_height:0,dialog:null,items:null,itemsValueObject:null,editWidgetIds:null,addRequested:false};xwt.widget.table.Edit={start:function(_8bb){dojo.mixin(this,xwt.widget.table.Edit);this._editor=dojo.clone(_8ba);this._editor.setDirty=dojo.hitch(this,function(flag){this._editor.dirty=flag;this.onEditDirty(flag);});this._editor.itemTemplate=_8bb&&_8bb.itemTemplate&&dojo.clone(_8bb.itemTemplate);this._editor.immediate=_8bb&&_8bb.immediate||false;this._editor.dialog=_8bb&&_8bb.dialog;this._editor.lastId=_8bb&&_8bb.lastId||0;if(!this._editor.itemTemplate){_8b5(this);}if(this.detailWidget){_89b(this);}if(this._editor.dialog){_8ac(this);}this._editor.inline=_863(this,this._editor.immediate);var _8bc=["onMove","onResize","onShow","onHide","borders"],self=this;dojo.forEach(_8bc,function(e){self.connect(self.getColumns(),e,function(){if(!self.editing()){return;}if(!self._editor.inline){return;}var _8bd=self._editor.inline;self._editor.inline=_863(self,self._editor.immediate);if(_8bd){_8bd.parentNode.removeChild(_8bd);}_887(self);_8bd=null;});});this.connect(this.tableBody,"onclick",function(e){var node=e.target;if(dojo.hasClass(e.target,"xwtQVHintHover")){var box=dojo.position(e.target);var cBox={min:(box.h/2)-6,max:(box.h/2)+6};var yPos=e.layerY;if(!(yPos<cBox.min||yPos>cBox.max)){return;}}if(xwt.widget.table.TreeTable&&this instanceof xwt.widget.table.TreeTable){if(dojo.hasClass(node,"twisty")&&!dojo.hasClass(node,"twisty-hidden")){return;}}while(node&&!dojo.hasClass(node,"cell-container")){node=node.parentNode;}if(!node){return;}var _8be=this.getColumns().getByNode(node);if(_8be&&_8be.columnType!=xwt.widget.table.ColumnTypes.COLUMN){return;}while(node&&!dojo.attr(node,"rowindex")){node=node.parentNode;}if(!node){return;}if(dojo.hasClass(node,"row-locked")){return;}var idx=parseInt(dojo.attr(node,"rowindex"),10),item=this._indexToItem[idx];if(item){if(this.editing()===true){return;}var col,_8bf=this.expandable()&&this.expanded();_8bf&&this.getExpander()._collapseRow();if(this.editing()&&item!=this._editor.item){this.edit(item);}else{this.edit(item);}}});this._editor.editWidgetIds={};for(var i=0,cols=this.getColumns(),col;col=cols.get(i);i++){if(col.editable){this._editor.editWidgetIds[col.editWidget.id]=true;}if(col.columnType==xwt.widget.table.ColumnTypes.EXPANDER){this.connect(col,"onExpand",function(){_87b(this);var _8c0=dojo.query(".rowActions",this._editor.inline)[0];dojo.style(_8c0,"display","none");});this.connect(col,"onCollapse",function(){_87b(this);var _8c1=dojo.query(".rowActions",this._editor.inline)[0];dojo.style(_8c1,"display","");});}}this.connect(dojo.doc,(dojo.isIE?"onfocusout":"onblur"),function(){console.log("Table Edit.js onBlur() called");this._editor._shiftKey=false;});},_templateForItem:function(){var _8c2=dojo.clone(this._editor.itemTemplate);if(!this.store.getFeatures()["generateId"]){var _8c3=this.store.getIdentityAttributes(),id=parseInt(Math.random().toString().substring(2),10);dojo.forEach(_8c3,function(attr){_8c2[attr]=id;},this);}return _8c2;},editing:function(){return this._editor.mode;},edit:function(item){if(!this.store.setValue){throw new Error("xwt.widget.table.Edit: cannot edit using a store that is not writable.");}this._editor.mode=true;if(dojo.isArray(item)&&!this.store.isItem(item)){if(!this._editor.dialog){throw new Error("xwt.widget.table.Edit.edit: you cannot edit multiple items without defining a dialog to edit with.");}this._editor.items=item;this._editor.itemsValueObject=xwt.widget.table.util.getValueObject(this.store,item);this._editor.dialog.setValues(this._editor.itemsValueObject);this._editor.dialog.show();this.onEdit(item);return this;}if(this._editor.item){if(this._editor.dirty){var val={},_8c4=false;for(var i=0,_8c5;_8c5=this.getColumns().get(i);i++){if(_8c5.editable){var _8c6=this.store.getValue(this._editor.item,_8c5.attr),_8c7=_8c5.editWidget.attr("value");if(_8c7!=_8c6){if(_8c5.editWidget.isValid){if(_8c5.editWidget.isValid()){val[_8c5.attr]=_8c7;_8c4=true;}else{_8c4=false;break;}}else{val[_8c5.attr]=_8c7;_8c4=true;}}}}if(_8c4&&confirm("Would you like to save any changes you've made?")){this.commit(this._editor.item,val);}}_8ae(this,this._editor.item);_8b0(this,this._editor.item);}this._editor.item=item;this._editor.setDirty(false);_887(this);this.onEdit(item);return this;},commit:function(item,_8c8,_8c9){_8c9=_8c9!==undefined?_8c9:true;var _8ca=dojo.isArray(item)?item:[item],_8cb=this.store.getAttributes(_8ca[0]);var _8cc={};dojo.forEach(_8cb,function(attr){if(attr in _8c8){_8cc[attr]=_8c8[attr];}},this);if(item.allSelected){this.store.setValuesOnAllItems(_8cc,item.allSelected.except());}else{dojo.forEach(_8ca,function(item){for(var i in _8cc){this.store.setValue(item,i,_8cc[i]);}},this);}this.store.save&&this.store.save({onComplete:dojo.hitch(this,function(){if(_8c9){var def=this.render(true);def.addCallback(dojo.hitch(this,function(){this.onSaveComplete();this.onCommit(item,_8c8);}));}else{this.onSaveComplete();}}),onError:dojo.hitch(this,function(e){if(_8c9){var def=this.render(true);def.addCallback(dojo.hitch(this,function(){this.onSaveError(e);this.onCommit(item,_8c8);}));}else{this.onSaveError(e);}})});return this;},editError:function(item,ex){this.onEditError(item,ex);return this;},cancelEdit:function(){console.warn("cancelling the edit");if(this._editor.mode){if(this._editor.item){_8b0(this,this._editor.item);}if(this.store.isDirty()){this.store.revert&&this.store.revert();}this.closeEditor(this);if(this.expandable()&&this.expanded()){this.getExpander()._collapseRow();}var _8cd=this.selected?this.selected():[];dojo.forEach(_8cd,function(i){if(!this.store.isItem(i)){this.deselect(i);}},this);this.render(true);this.onCancelEdit();return this;}},closeEditor:function(){if(this._editor.item&&this.store.isItem(this._editor.item)){this.deselect(this._editor.item);if(this._idToIndex){var _8ce=this._idToIndex[this.store.getIdentity(this._editor.item)];if(_8ce>=0){var rows=dojo.query("."+this._css.row+"-"+_8ce+"."+this._uniqueCssId,this.tableBody);if(rows.length==1){dojo.removeClass(rows[0],"xwtTableInlineEditing");}}}}_891(this);this.onEditorClose();return this;},onEdit:function(item){},onEditDirty:function(flag){},onEditError:function(item,ex){},onCommit:function(item,_8cf){},onSaveComplete:function(){},onSaveError:function(err){},onEditComplete:function(item){},onEditorClose:function(){},onCancelEdit:function(){}};})();}if(!dojo._hasResource["xwt.widget.i18nMixin"]){dojo._hasResource["xwt.widget.i18nMixin"]=true;dojo.provide("xwt.widget.i18nMixin");dojo.declare("xwt.widget.i18nMixin",null,{i18nPackageName:"",i18nBundleName:"",_useI18:false,constructor:function(_8d0,_8d1,lang){dojo["requireLocalization"]("xwt","XMPProperties");this._messages=dojo.i18n.getLocalization("xwt","XMPProperties");if(_8d0&&_8d1&&lang){this.i18nPackageName=_8d0;this.i18nBundleName=_8d1;this.lang=lang;dojo["requireLocalization"](this.i18nPackageName,this.i18nBundleName);this._messages=dojo.mixin(this._messages,dojo.i18n.getLocalization(this.i18nPackageName,this.i18nBundleName));this._useI18=true;}},addBundle:function(_8d2,_8d3){if(_8d2&&_8d3){dojo["requireLocalization"](_8d2,_8d3);this._messages=dojo.mixin(this._messages,dojo.i18n.getLocalization(_8d2,_8d3));}}});}if(!dojo._hasResource["xwt.widget.layout.XwtGlobalUtility"]){dojo._hasResource["xwt.widget.layout.XwtGlobalUtility"]=true;dojo.provide("xwt.widget.layout.XwtGlobalUtility");dojo.declare("xwt.widget.layout.XwtGlobalUtility",null,{_stripSurroundingTextNodes:function(node){if(node){var _8d4=node.childNodes;for(var i=_8d4.length-1;i>=0;i--){var n=_8d4[i];if(n&&n.nodeType==3||n.nodeType==4){this.srcNodeRef.removeChild(n);}}}},_recreateIE6PNG:function(d,_8d5){if(d==null){return;}if(_8d5==null){_8d5=dojo.style(d,"backgroundRepeat").indexOf("repeat")==0?"scale":"crop";}var _8d6=this.convertFullURLFromCSS(d);d.style.backgroundImage="none";d.style.backgroundColor="transparent";d.style.zoom=1;var _8d7="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+_8d6+"',sizingMethod='"+_8d5+"')";d.style.filter+=_8d7;},_makeWidgetVisible:function(){if(dojo.hasClass(this.domNode,"dijitHidden")){this._makeElementVisible(this.domNode);}},_makeElementVisible:function(d){dojo.removeClass(d,"dijitHidden");},_makeElementHidden:function(d){dojo.addClass(d,"dijitHidden");},convertFullURLFromCSS:function(d){var _8d8=dojo.style(d,"backgroundImage");_8d8=_8d8.substr(_8d8.indexOf("url")+(3+1));_8d8=_8d8.substr(0,_8d8.lastIndexOf(")"));if(_8d8.indexOf("\"")==0){_8d8=_8d8.substr(1);_8d8=_8d8.substr(0,_8d8.length-1);}return _8d8;}});}if(!dojo._hasResource["xwt.widget.DropShadowLarge"]){dojo._hasResource["xwt.widget.DropShadowLarge"]=true;dojo.provide("xwt.widget.DropShadowLarge");dojo.declare("xwt.widget.DropShadowLarge",[dijit._Widget,dijit._Templated],{dsWidth:"",dsHeight:"",dsCurvedCorners:"false",dsBackgroundColor:"",dsBackgroundImage:"",dsRepeat:"",templateString:"<table class=\"DropShadowLarge\">"+"\t\t\t\t<tr class=\"r1\"><td class=\"r1c1\"></td><td class=\"r1c2\"></td><td class=\"r1c3\"></td></tr>"+"\t\t\t\t<tr>"+"\t\t\t\t\t<td class=\"r2c1\"></td>"+"\t\t\t\t\t<td class=\"r2c2\"><table class=\"dsl_roundedCorners\" dojoAttachPoint=\"decorationWidgetContentPoint\">"+"\t\t\t\t\t\t\t\t<tr class=\"r2t1r1\">"+"\t\t\t\t\t\t\t\t\t<td class=\"dsl_rc_topleft_corner\"><div class=\"dsl_topColor\"></div></td>"+"\t\t\t\t\t\t\t\t\t<td class=\"dsl_rc_topmiddle\"></td>"+"\t\t\t\t\t\t\t\t\t<td class=\"dsl_rc_topright_corner\"><div class=\"dsl_topColor\"></td>"+"\t\t\t\t\t\t\t\t</tr>"+"\t\t\t\t\t\t\t\t<tr class=\"r2t1r2\">"+"\t\t\t\t\t\t\t\t\t<td class=\"dsl_leftside\"></td>"+"\t\t\t\t\t\t\t\t\t<td class=\"dsl_back\" dojoAttachPoint=\"containerNode\"></td>"+"\t\t\t\t\t\t\t\t\t<td class=\"dsl_rightside\"></td>"+"\t\t\t\t\t\t\t\t</tr>"+"\t\t\t\t\t\t\t\t<tr class=\"r2t1r3\">"+"\t\t\t\t\t\t\t\t\t<td class=\"dsl_rc_bottomleft_corner\"><div class=\"dsl_bottomColor\"></div></td>"+"\t\t\t\t\t\t\t\t\t<td class=\"dsl_rc_bottommiddle\"></td>"+"\t\t\t\t\t\t\t\t\t<td class=\"dsl_rc_bottomright_corner\"><div class=\"dsl_bottomColor\"></td>"+"\t\t\t\t\t\t\t\t</tr>"+"\t\t\t\t\t\t\t</table></td>"+"\t\t\t\t\t<td class=\"r2c3\"></td>"+"\t\t\t\t</tr>"+"\t\t\t\t<tr class=\"r3a\"><td colspan=\"3\"><table class=\"r3\"><tr><td class=\"r3c1\"></td><td class=\"r3c2\"></td><td class=\"r3c3\"></td></tr></table></td></tr>"+"\t\t\t</table>",postMixInProperties:function(){this.inherited("postMixInProperties",arguments);},postCreate:function(){if(this.dsWidth!=null&&this.dsWidth!=""){dojo.query(".dsl_back",this.domNode).style("width",this.dsWidth);}if(this.dsHeight!=null&&this.dsHeight!=""){dojo.query(".dsl_back",this.domNode).style("height",this.dsHeight);}if(this.dsCurvedCorners!=null&&this.dsCurvedCorners=="false"){dojo.query(".r2t1r1",this.domNode).style("display","none");dojo.query(".r2t1r3",this.domNode).style("display","none");dojo.query(".dsl_rc_topleft_corner",this.domNode).style("display","none");dojo.query(".dsl_rc_topmiddle",this.domNode).style("display","none");dojo.query(".dsl_rc_topright_corner",this.domNode).style("display","none");dojo.query(".dsl_leftside",this.domNode).style("display","none");dojo.query(".dsl_rightside",this.domNode).style("display","none");dojo.query(".dsl_rc_bottomleft_corner",this.domNode).style("display","none");dojo.query(".dsl_rc_bottommiddle",this.domNode).style("display","none");dojo.query(".dsl_rc_bottomright_corner",this.domNode).style("display","none");}if(this.dsRepeat!=null&&this.dsRepeat!=""){dojo.query(".dsl_leftside",this.domNode).style("backgroundRepeat",this.dsRepeat);dojo.query(".dsl_back",this.domNode).style("backgroundRepeat",this.dsRepeat);dojo.query(".dsl_rightside",this.domNode).style("backgroundRepeat",this.dsRepeat);}if(this.dsBackgroundColor!=null&&this.dsBackgroundColor!=""){dojo.query(".dsl_topColor",this.domNode).style("backgroundImage","none");dojo.query(".dsl_bottomColor",this.domNode).style("backgroundImage","none");dojo.query(".dsl_rc_topmiddle",this.domNode).style("backgroundImage","none");dojo.query(".dsl_leftside",this.domNode).style("backgroundImage","none");dojo.query(".dsl_back",this.domNode).style("backgroundImage","none");dojo.query(".dsl_rightside",this.domNode).style("backgroundImage","none");dojo.query(".dsl_rc_bottommiddle",this.domNode).style("backgroundImage","none");dojo.query(".dsl_topColor",this.domNode).style("backgroundColor",this.dsBackgroundColor);dojo.query(".dsl_bottomColor",this.domNode).style("backgroundColor",this.dsBackgroundColor);dojo.query(".dsl_rc_topmiddle",this.domNode).style("backgroundColor",this.dsBackgroundColor);dojo.query(".dsl_leftside",this.domNode).style("backgroundColor",this.dsBackgroundColor);dojo.query(".dsl_back",this.domNode).style("backgroundColor",this.dsBackgroundColor);dojo.query(".dsl_rightside",this.domNode).style("backgroundColor",this.dsBackgroundColor);dojo.query(".dsl_rc_bottommiddle",this.domNode).style("backgroundColor",this.dsBackgroundColor);if(this.dsCurvedCorners!=null&&this.dsCurvedCorners=="false"){dojo.query(".dsl_rc_topleft_corner",this.domNode).style("backgroundImage","none");dojo.query(".dsl_rc_topright_corner",this.domNode).style("backgroundImage","none");dojo.query(".dsl_rc_bottomleft_corner",this.domNode).style("backgroundImage","none");dojo.query(".dsl_rc_bottomright_corner",this.domNode).style("backgroundImage","none");dojo.query(".dsl_rc_topleft_corner",this.domNode).style("backgroundColor",this.dsBackgroundColor);dojo.query(".dsl_rc_topright_corner",this.domNode).style("backgroundColor",this.dsBackgroundColor);dojo.query(".dsl_rc_bottomleft_corner",this.domNode).style("backgroundColor",this.dsBackgroundColor);dojo.query(".dsl_rc_bottomright_corner",this.domNode).style("backgroundColor",this.dsBackgroundColor);if(dojo.isIE&&dojo.isIE<7){dojo.query(".dsl_rc_topleft_corner",this.domNode).style("filter","progid:DXImageTransform.Microsoft.AlphaImageLoader(src='',sizingMethod='scale')");dojo.query(".dsl_rc_topright_corner",this.domNode).style("filter","progid:DXImageTransform.Microsoft.AlphaImageLoader(src='',sizingMethod='scale')");dojo.query(".dsl_rc_bottomleft_corner",this.domNode).style("filter","progid:DXImageTransform.Microsoft.AlphaImageLoader(src='',sizingMethod='scale')");dojo.query(".dsl_rc_bottomright_corner",this.domNode).style("filter","progid:DXImageTransform.Microsoft.AlphaImageLoader(src='',sizingMethod='scale')");}}}else{if(this.dsBackgroundImage!=null&&this.dsBackgroundImage!=""){dojo.query(".dsl_topColor",this.domNode).style("backgroundImage","url("+this.dsBackgroundImage+")");dojo.query(".dsl_bottomColor",this.domNode).style("backgroundImage","url("+this.dsBackgroundImage+")");dojo.query(".dsl_rc_topmiddle",this.domNode).style("backgroundImage","url("+this.dsBackgroundImage+")");dojo.query(".dsl_leftside",this.domNode).style("backgroundImage","url("+this.dsBackgroundImage+")");dojo.query(".dsl_back",this.domNode).style("backgroundImage","url("+this.dsBackgroundImage+")");dojo.query(".dsl_rightside",this.domNode).style("backgroundImage","url("+this.dsBackgroundImage+")");dojo.query(".dsl_rc_bottommiddle",this.domNode).style("backgroundImage","url("+this.dsBackgroundImage+")");dojo.query(".dsl_topColor",this.domNode).style("backgroundColor","transparent");dojo.query(".dsl_bottomColor",this.domNode).style("backgroundColor","transparent");dojo.query(".dsl_rc_topmiddle",this.domNode).style("backgroundColor","transparent");dojo.query(".dsl_leftside",this.domNode).style("backgroundColor","transparent");dojo.query(".dsl_back",this.domNode).style("backgroundColor","transparent");dojo.query(".dsl_rightside",this.domNode).style("backgroundColor","transparent");dojo.query(".dsl_rc_bottommiddle",this.domNode).style("backgroundColor","transparent");var re=RegExp("png$","i");if(dojo.isIE&&dojo.isIE<7&&re.test(this.dsBackgroundImage)){dojo.query(".dsl_topColor",this.domNode).style("backgroundImage","none");dojo.query(".dsl_bottomColor",this.domNode).style("backgroundImage","none");dojo.query(".dsl_rc_topmiddle",this.domNode).style("backgroundImage","none");dojo.query(".dsl_leftside",this.domNode).style("backgroundImage","none");dojo.query(".dsl_back",this.domNode).style("backgroundImage","none");dojo.query(".dsl_rightside",this.domNode).style("backgroundImage","none");dojo.query(".dsl_rc_bottommiddle",this.domNode).style("backgroundImage","none");dojo.query(".dsl_topColor",this.domNode).style("filter","progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+this.dsBackgroundImage+"',sizingMethod='crop')");dojo.query(".dsl_bottomColor",this.domNode).style("filter","progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+this.dsBackgroundImage+"',sizingMethod='crop')");dojo.query(".dsl_rc_topmiddle",this.domNode).style("filter","progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+this.dsBackgroundImage+"',sizingMethod='scale')");dojo.query(".dsl_leftside",this.domNode).style("filter","progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+this.dsBackgroundImage+"',sizingMethod='scale')");dojo.query(".dsl_back",this.domNode).style("filter","progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+this.dsBackgroundImage+"',sizingMethod='scale')");dojo.query(".dsl_rightside",this.domNode).style("filter","progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+this.dsBackgroundImage+"',sizingMethod='scale')");dojo.query(".dsl_rc_bottommiddle",this.domNode).style("filter","progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+this.dsBackgroundImage+"',sizingMethod='scale')");}if(this.dsCurvedCorners!=null&&this.dsCurvedCorners=="false"){dojo.query(".dsl_rc_topleft_corner",this.domNode).style("backgroundImage","url("+this.dsBackgroundImage+")");dojo.query(".dsl_rc_topright_corner",this.domNode).style("backgroundImage","url("+this.dsBackgroundImage+")");dojo.query(".dsl_rc_bottomleft_corner",this.domNode).style("backgroundImage","url("+this.dsBackgroundImage+")");dojo.query(".dsl_rc_bottomright_corner",this.domNode).style("backgroundImage","url("+this.dsBackgroundImage+")");dojo.query(".dsl_rc_topleft_corner",this.domNode).style("backgroundRepeat","repeat-x");dojo.query(".dsl_rc_topright_corner",this.domNode).style("backgroundRepeat","repeat-x");dojo.query(".dsl_rc_bottomleft_corner",this.domNode).style("backgroundRepeat","repeat-x");dojo.query(".dsl_rc_bottomright_corner",this.domNode).style("backgroundRepeat","repeat-x");dojo.query(".dsl_rc_topleft_corner",this.domNode).style("backgroundColor","transparent");dojo.query(".dsl_rc_topright_corner",this.domNode).style("backgroundColor","transparent");dojo.query(".dsl_rc_bottomleft_corner",this.domNode).style("backgroundColor","transparent");dojo.query(".dsl_rc_bottomright_corner",this.domNode).style("backgroundColor","transparent");if(dojo.isIE&&dojo.isIE<7){dojo.query(".dsl_rc_topleft_corner",this.domNode).style("filter","progid:DXImageTransform.Microsoft.AlphaImageLoader(src='',sizingMethod='scale')");dojo.query(".dsl_rc_topright_corner",this.domNode).style("filter","progid:DXImageTransform.Microsoft.AlphaImageLoader(src='',sizingMethod='scale')");dojo.query(".dsl_rc_bottomleft_corner",this.domNode).style("filter","progid:DXImageTransform.Microsoft.AlphaImageLoader(src='',sizingMethod='scale')");dojo.query(".dsl_rc_bottomright_corner",this.domNode).style("filter","progid:DXImageTransform.Microsoft.AlphaImageLoader(src='',sizingMethod='scale')");}}}}}});}if(!dojo._hasResource["xwt.widget.layout.BaseOverlay"]){dojo._hasResource["xwt.widget.layout.BaseOverlay"]=true;dojo.provide("xwt.widget.layout.BaseOverlay");if(!dojo._hasResource["xwt.widget.layout.OverlayObserverFactory"]){dojo._hasResource["xwt.widget.layout.OverlayObserverFactory"]=true;dojo.provide("xwt.widget.layout.OverlayObserverFactory");dojo.declare("xwt.widget.layout.OverlayObserverManagerFactorySingleton",null,{_overlayOpenCounter:0,_currentOverlay:null,_currentOverlayExceptionOverlay:null,clearOverlayObject:function(obj){if(obj.isModal){this._currentOverlayExceptionOverlay=null;}else{this._currentOverlay=null;}},setOverlayObject:function(obj){if(obj.isModal){this._currentOverlayExceptionOverlay=obj;}else{this._currentOverlay=obj;}},canOpenOverlay:function(_8d9,node,evt){if(_8d9==this._currentOverlay){return false;}if(this._currentOverlay!==null){var _8da=_8d9.isModal;if(!_8da){var _8db=this._currentOverlay;if(this.canCloseOverlay(this._currentOverlay,evt)){_8db.hide(evt);this.setOverlayObject(_8d9);return true;}}else{this.setOverlayObject(_8d9);this._overlayOpenCounter++;return true;}}else{this.setOverlayObject(_8d9);this._overlayOpenCounter++;return true;}},canCloseOverlay:function(_8dc,evt){if(!_8dc.isShowingNow){return true;}var flag=_8dc.onBeforeHideEvent(evt);if(flag){this.clearOverlayObject(_8dc);}return flag;},getLatestOpenCounter:function(){return this._overlayOpenCounter;}});xwt.widget.layout._OverlayObserverManagerFactory=null;xwt.widget.layout.OverlayObserverFactory=function(){if(!xwt.widget.layout._OverlayObserverManagerFactory){xwt.widget.layout._OverlayObserverManagerFactory=new xwt.widget.layout.OverlayObserverManagerFactorySingleton();}return (xwt.widget.layout._OverlayObserverManagerFactory);};}dojo.declare("xwt.widget.layout.BaseOverlay",[dijit.TooltipDialog,xwt.widget.layout.XwtGlobalUtility],{positionReferenceNode:"",positionStructure:dijit.Tooltip.defaultPosition,top:-1,left:-1,connectId:[],connectEvents:[],isModal:false,showCloseButton:true,viewportPosition:[],positionX:0,positionY:0,showEffect:"fade",hideEffect:"fade",duration:dijit.defaultDuration+100,widgetsInTemplate:true,underlay:null,_connectNodes:[],_showCount:0,open:function(node,_8dd){var _8de=this._getObserver().canOpenOverlay(this,node,null);if(_8de){var _8df=(this.left>=0&&this.top>=0);this.show("",node,_8df?"absolute":_8dd);}},openAtNode:function(node,_8e0){this.open(node,_8e0);},show:function(_8e1,_8e2,_8e3){if(this.aroundNode&&this.aroundNode===_8e2){return;}if(this.animationOut.status()=="playing"){this._onDeck=arguments;return;}if(dojo.isIE>=7){var ref=this.domNode;dojo.forEach([".r1",".r2c1",".r2c3",".r3a",".r2t1r1",".r2t1r3",".dsl_leftside",".dsl_rightside"],function(o){dojo.query(o,ref).style("visibility","hidden");});}this.domNode.style.top=(this.domNode.offsetTop+1)+"px";var _8e4=998+(this._getObserver().getLatestOpenCounter()*2);dojo.style(this.domNode,{zIndex:_8e4});if(this.isModal){dojo.style(this.underlay.domNode,{zIndex:_8e4-1});}var _8e5={};var ltr=this.isLeftToRight();if(_8e3=="absolute"){this.positionStructure=["above","below"];}dojo.forEach((this.positionStructure&&this.positionStructure.length)?this.positionStructure:dijit.Tooltip.defaultPosition,function(pos){switch(pos){case "after":_8e5[ltr?"BR":"BL"]=ltr?"BL":"BR";break;case "before":_8e5[ltr?"BL":"BR"]=ltr?"BR":"BL";break;case "below":_8e5[ltr?"BL":"BR"]=ltr?"TL":"TR";_8e5[ltr?"BR":"BL"]=ltr?"TR":"TL";break;case "above":default:_8e5[ltr?"TL":"TR"]=ltr?"BL":"BR";_8e5[ltr?"TR":"TL"]=ltr?"BR":"BL";break;}});this._isHorizontalAlignment=(_8e5["BR"].charAt(0)=="B");dojo.removeClass(this.domNode,"dijitHidden");var pos;if(_8e3=="absolute"){var _8e6=-14;var _8e7=5;var _8e8=dojo.create("DIV",{},dojo.body());dojo.style(_8e8,"position","absolute");dojo.style(_8e8,"margin",0);dojo.style(_8e8,"padding",0);var _8e9=dojo.byId(this.positionReferenceNode)||dojo.body();dijit.placeOnScreenAroundElement(_8e8,_8e9,_8e5,dojo.hitch(this,this.orient));var tbc=dojo.coords(_8e8);dojo.style(_8e8,"left",(tbc.x+this.left+_8e6)+"px");dojo.style(_8e8,"top",(tbc.y+this.top+_8e7)+"px");pos=dijit.placeOnScreenAroundElement(this.domNode,_8e8,_8e5,dojo.hitch(this,this.orient));var vp=this.viewportPosition;if(vp.length==2){var _8ea=(dojo.coords(this.domNode));var x;var y;switch(vp[0]){case "center":x=(dijit.getViewport().w-_8ea.w)/2;break;default:break;}switch(vp[1]){case "center":y=(dijit.getViewport().h-_8ea.h)/2;break;default:break;}pos={x:x,y:y};dojo.style(this.domNode,{"left":pos.x+"px","top":pos.y+"px"});}else{if(pos.corner=="BR"||pos.corner=="TR"){dojo.style(this.domNode,"left",(dojo.coords(this.domNode).x-(_8e6))+"px");}}_8e8.parentNode.removeChild(_8e8);}else{pos=dijit.placeOnScreenAroundElement(this.domNode,_8e2,_8e5,dojo.hitch(this,this.orient));}this.positionX=pos.x;this.positionY=pos.y;this._fixTipNodeArrow();if(this.animationIn.type=="fade"){dojo.style(this.domNode,"opacity",0);this.animationIn.play();}else{if(this.animationIn.type=="wipe"){dojo.style(this.domNode,"height","1px");this.animationIn.play();}}this.isShowingNow=true;this.aroundNode=_8e2;this._onRendered();},orient:function(node,_8eb,_8ec){var _8ed="dijitTooltip "+this.baseClass+" "+{"BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_8eb+"-"+_8ec];node.className=_8ed;},onShow:function(){},hide:function(evt){if(!this._getObserver().canCloseOverlay(this,evt)){return false;}if(this.isShowingNow&&dojo.isIE&&dojo.isIE>=7){dojo.query(".r1",this.domNode).style("visibility","hidden");dojo.query(".r2c1",this.domNode).style("visibility","hidden");dojo.query(".r2c3",this.domNode).style("visibility","hidden");dojo.query(".r3a",this.domNode).style("visibility","hidden");dojo.query(".r2t1r1",this.domNode).style("visibility","hidden");dojo.query(".r2t1r3",this.domNode).style("visibility","hidden");dojo.query(".dsl_leftside",this.domNode).style("visibility","hidden");dojo.query(".dsl_rightside",this.domNode).style("visibility","hidden");}if(this.isShowingNow){this.animationIn.stop();this.isShowingNow=false;this.aroundNode=null;this.animationOut.play();}return true;},onHide:function(){},onBeforeHideEvent:function(evt){return true;},setPositionStructure:function(pos){this.positionStructure=pos;},initialize:function(){},_isHorizontalAlignment:false,_isHorizontalLeftAlignment:false,_getObserver:function(){return xwt.widget.layout.OverlayObserverFactory();},_setConnectEventsAttr:function(str){this.connectEvents=dojo.isArrayLike(str)?str:[str];},_setConnectIdAttr:function(ids){var _8ee="_connectElement";this._connectNodes=[];this.connectId=dojo.isArrayLike(ids)?ids:[ids];dojo.forEach(this.connectId,function(id){var node=dojo.byId(id);if(node){this._connectNodes.push(node);dojo.forEach(this.connectEvents,function(_8ef){var _8f0=[_8ee,_8ef.toLowerCase()].join("_");this.connect(node,_8ef.toLowerCase(),this.handleTriggerEvent,_8ef);},this);if(dojo.isIE){node.style.zoom=1;}}},this);},_setViewportPositionAttr:function(x){if(x.length==2){this.left=0;this.top=0;}},postCreate:function(){this.inherited("postCreate",arguments);if(this.isModal){var _8f1={dialogId:this.id,"class":dojo.map(this["class"].split(/\s/),function(s){return s+"_underlay";}).join(" ")};this.underlay=new dijit.DialogUnderlay(_8f1);dojo.setSelectable(this.underlay.domNode,false);}if(!this.showCloseButton){dojo.removeClass(this.closeButtonNode,"xwtDialogCloseIcon");}if(!this.showCloseButton&&this.title===""){dojo.removeClass(this.titleBar,"tooltiptitle");}if(dojo.isFF&&this.duration<=0){this.duration=1;}var _8f2={node:this.domNode,duration:this.duration,beforeBegin:function(){var co=dijit.getEnclosingWidget(this.node);if(co.underlay){co.underlay.attr(_8f1);co.underlay.show();}},onEnd:dojo.hitch(this,this._onShow)};var _8f3={node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,this._onHide)};if(this.showEffect=="fade"){this.animationIn=dojo.fadeIn(_8f2);this.animationIn.type="fade";}else{if(this.showEffect=="wipe"){this.animationIn=dojo.fx.wipeIn(_8f2);this.animationIn.type="wipe";}}if(this.hideEffect=="fade"){this.animationOut=dojo.fadeOut(_8f3);this.animationOut.type="fade";}else{if(this.hideEffect=="wipe"){this.animationOut=dojo.fx.wipeOut(_8f3);this.animationOut.type="wipe";}}this.tipNode=dojo.query(".dijitTooltipConnector",this.domNode)[0];this.containerNode.removeAttribute("title");this.domNode.removeAttribute("title");this.onCancel=function(){var _8f4=this.aroundNode;this.inherited("onCancel",arguments);this.hide(this.aroundNode);dijit.focus(_8f4);};this.initialize();},_makeGraphicsIE6Compatible:function(){if(dojo.isIE<=6){var _8f5=[".dsl_roundedCorners .dsl_rc_topleft_corner",".dsl_roundedCorners .dsl_rc_topright_corner",".dsl_roundedCorners .dsl_rc_bottomleft_corner",".dsl_roundedCorners .dsl_rc_bottomright_corner",".dsl_topColor",".dsl_bottomColor",".dsl_rc_topmiddle",".dsl_leftside",".dsl_rightside",".dsl_rc_bottommiddle",".DropShadowLarge td.r1c1",".DropShadowLarge td.r1c2",".DropShadowLarge td.r1c3",".DropShadowLarge td.r2c1",".DropShadowLarge td.r2c3",".DropShadowLarge td.r3c1",".DropShadowLarge td.r3c2",".DropShadowLarge td.r3c3"];for(var x in _8f5){var _8f6=_8f5[x];this._recreateIE6PNG(dojo.query(_8f6,this.domNode)[0]);}}},startup:function(){this.inherited("startup",arguments);},_onRendered:function(){var _8f7=(this.left>=0&&this.top>=0);var _8f8=_8f7?this.domNode:this.aroundNode;this._positionTipNode(_8f8);},_positionTipNode:function(_8f9){var box=dojo.coords(_8f9);var _8fa=18;var _8fb=box.y+(box.h*0.5)-(_8fa*0.5);if(!this.decoratorWidget){return;}var _8fc=this.decoratorWidget.decorationWidgetContentPoint;var _8fd=dojo.coords(_8fc);var _8fe=_8fd.y;var _8ff=_8fe+_8fd.h;if(_8fb<_8fe){_8fb=_8fe;}else{if(_8fb>_8ff){_8fb=_8ff;}}if(this._isHorizontalAlignment){_8fb-=_8fd.y;_8fb+=(5/2);}dojo.style(this.tipNode,"top",(this._isHorizontalAlignment)?_8fb+"px":"");setTimeout(dojo.hitch(this,this._fixTipNodeArrow),10);},_fixTipNodeArrow:function(){if(!this.decoratorWidget){return;}var _900=this.decoratorWidget.decorationWidgetContentPoint;var _901=dojo.coords(_900);if(dojo.isIE<=6){this._recreateIE6PNG(this.tipNode);var _902;if(dojo.hasClass(this.domNode,"dijitTooltipLeft")){_902=_901.w-5;}else{_902=-14;}if(dojo.hasClass(this.domNode,"dijitTooltipBelow")){dojo.style(this.tipNode,"top",-12);}if(dojo.hasClass(this.domNode,"dijitTooltipAbove")){dojo.style(this.tipNode,"top",(_901.h+-3));}dojo.style(this.tipNode,"left",(this._isHorizontalAlignment)?_902+"px":"");this._makeGraphicsIE6Compatible();}},_onShow:function(){this._showCount++;if(dojo.isIE){this.domNode.style.filter="";}this.inherited("_onShow",arguments);if(dojo.isIE&&dojo.isIE>=7){dojo.query(".r1",this.domNode).style("visibility","visible");dojo.query(".r2c1",this.domNode).style("visibility","visible");dojo.query(".r2c3",this.domNode).style("visibility","visible");dojo.query(".r3a",this.domNode).style("visibility","visible");dojo.query(".r2t1r1",this.domNode).style("visibility","visible");dojo.query(".r2t1r3",this.domNode).style("visibility","visible");dojo.query(".dsl_leftside",this.domNode).style("visibility","visible");dojo.query(".dsl_rightside",this.domNode).style("visibility","visible");}if(this.autofocus){var f=this._getFocusItems(this.containerNode);dijit.focus(this._firstFocusItem);}},_onHide:function(){dojo.addClass(this.domNode,"dijitHidden");if(this.isModal){this.underlay.hide();}if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}this.onHide();},handleTriggerEvent:function(e){e.stopPropagation(e);e.preventDefault(e);var _903=(this.left>=0&&this.top>=0);this.open(e.target,this.positionStructure);},_connectElement_onkeypress:function(e){this.handleTriggerEvent(e);if(this.onKeypress){this.onKeyPress(e);}},_connectElement_onmouseenter:function(e){this.handleTriggerEvent(e);if(this.onMouseEnter){this.onMouseEnter(e);}},_connectElement_onclick:function(e){this.handleTriggerEvent(e);if(this.onClick){this.onClick(e);}},_connectElement_onfocus:function(e){this.handleTriggerEvent(e);if(this.onFocus){this.onFocus(e);}},_connectElement_oncontextmenu:function(e){this.handleTriggerEvent(e);if(this.onContextMenu){this.onContextMenu(e);}},_connectElement_ondblclick:function(e){this.handleTriggerEvent(e);if(this.onDblClick){this.onDblClick(e);}}});}if(!dojo._hasResource["xwt.widget.layout.ContextualOverlay"]){dojo._hasResource["xwt.widget.layout.ContextualOverlay"]=true;dojo.provide("xwt.widget.layout.ContextualOverlay");dojo.declare("xwt.widget.layout.ContextualOverlay",[xwt.widget.layout.BaseOverlay],{templateString:dojo.cache("xwt.widget.layout","templates/ContextualOverlay.html","<div class=\"dijitTooltip dijitTooltipRight\">\r\n<div dojoType=\"xwt.widget.DropShadowLarge\" dojoAttachPoint=\"decoratorWidget\" dsCurvedCorners=\"true\" dsRepeat=\"repeat\"><div \r\n\tclass=\"dijitTooltipContainer dijitTooltipContents\"><div \r\n\tdojoAttachPoint=\"titleBar\" class=\"tooltiptitle\"><span \r\n\t\tdojoAttachPoint=\"titleNode\">${title}</span><span dojoAttachPoint=\"closeButtonNode\"\r\n\t\t\t\tclass=\"xwtDialogCloseIcon\"\tdojoAttachEvent=\"click:hide\"><span \r\n\tdojoAttachPoint=\"closeText\" class=\"closeText\"></span></span></div><div class=\"tooltipcontentarea dijitTooltipContents\" dojoAttachPoint=\"containerNode\" waiRole=\"alert\"\r\n\t></div><div class=\"dijitTooltipConnector\"\r\n\t></div></div></div></div>\r\n\r\n\r\n\r\n"),titleKey:"",i18nPackage:"",i18nBundle:"",i18nMixin:null,postMixInProperties:function(){if(this.i18nPackage!==""&&this.i18nBundle!==""){this.i18n=dojo.mixin(dojo.i18n.getLocalization(this.i18nPackage,this.i18nBundle),this.i18nMixin||{});this.title=this.i18n[this.titleKey];}this.inherited(arguments);}});}if(!dojo._hasResource["xwt.widget.layout.ProgressBall"]){dojo._hasResource["xwt.widget.layout.ProgressBall"]=true;dojo.provide("xwt.widget.layout.ProgressBall");dojo.declare("xwt.widget.layout.ProgressBall",[dijit._Widget,dijit._Templated,xwt.widget._ZIndexMixin],{templateString:"<div tabIndex=\"0\" class=\"progressBall\" dojoAttachPoint=\"loadingIndicator\">\r\n<span class = \"xwtProgresBallText\" waiRole = \"presentation\" role = \"presentation\" dojoAttachPoint=\"iconTextNode\">In Progress</span>\r\n</div>\r\n",ballSize:"small",targetId:"",position:"right",padding:9,_moveUp:0,_moveDown:0,grabfocus:true,_targetDomNode:null,imageMode:"image1",i18nPackageName:"xwt",i18nBundleName:"XMPProperties",_messages:null,iconText:"In-Progress",iconTextLookup:"pb_text",postMixInProperties:function(){this.attributeMap.iconText={node:"iconTextNode",type:"innerHTML"};var _904=new xwt.widget.i18nMixin();if(this.i18nPackageName&&this.i18nBundleName){_904.addBundle(this.i18nPackageName,this.i18nBundleName);this._messages=dojo.mixin(this._messages,_904._messages);this._useI18=true;}else{this._useI18=false;}if(this._messages){if(this.iconTextLookup){this.iconText=this._messages[this.iconTextLookup];}}},_redrawProgress:function(){if(dojo.hasClass(this.loadingIndicator,"xwtProgressBallShow")){var dim=this._getPosition();dojo.style(this.domNode,dim);}},postCreate:function(){this.attr("iconText",this.iconText);this.ballSize=this.ballSize===null?"small":this.ballSize.toLowerCase();this.imageMode=this.imageMode===null?"gray":this.imageMode.toLowerCase();this._getTargetNode();if(this._targetDomNode){this._connectDestroy=dojo.connect(this._targetDomNode,"destroy",this.destroy);}this._connectResize=dojo.connect(dojo.global,"onresize",this,"_redrawProgress");this.hookZIndex();},startup:function(){dojo.removeClass(this.loadingIndicator);dojo.addClass(this.loadingIndicator,"xwtProgressBallHide");},_getTargetNode:function(){if(this.targetId!==null){this._refNode=null;if(dijit.byId(this.targetId)){this._refNode=dijit.byId(this.targetId).domNode;}this._targetDomNode=this._refNode?this._refNode:dojo.byId(this.targetId);}else{this.targetId=dojo.body();}},_loadClass:function(){this._removeClass();dojo.addClass(this.loadingIndicator,this._getClassName());},_removeClass:function(){dojo.removeClass(this.loadingIndicator);},setImageMode:function(mode){this.imageMode=mode!==null&&mode.length>0?mode:"image1";},_getClassName:function(){var ball,img;if(this.ballSize!==null&&this.ballSize.length>0){if(this.ballSize=="extreme"){ball="extreme";}else{if(this.ballSize=="medium"){ball="medium";}else{ball="small";}}}else{ball="small";}if(this.imageMode!==null&&this.imageMode.length>0){switch(this.imageMode){case "white":img="white";break;case "gray":img="gray";break;case "image1":img="image1";break;case "image2":img="image2";break;default:img="image1";break;}}else{img="image1";}return "xwt"+ball+img+"ball";},_getBallMargin:function(size){var mBox=null;var n=dojo.create("div",{style:{visibility:"hidden"}},dojo.body());if(size=="medium"){dojo.addClass(n,"xwtmediumimage2ball");mBox={w:dojo.style(n,"width"),h:dojo.style(n,"height"),p:dojo.style(n,"paddingLeft")};}else{if(size=="extreme"){dojo.addClass(n,"xwtextremeimage2ball");mBox={w:dojo.style(n,"width"),h:dojo.style(n,"height"),p:dojo.style(n,"paddingLeft")};}else{dojo.addClass(n,"xwtsmallimage2ball");mBox={w:dojo.style(n,"width"),h:dojo.style(n,"height"),p:dojo.style(n,"paddingLeft")};}}dojo.body().removeChild(n);return mBox;},_getPosition:function(){dim={};var _905=this._pos(this._targetDomNode,true);var mBox=this._getBallMargin(this.ballSize);var _906;if(_905.h>mBox.h){_906=_905.y+((_905.h-mBox.h)/2);}else{_906=_905.y-((mBox.h-_905.h)/2);}switch(this.position.toLowerCase()){case "left":dim={left:(_905.x-mBox.w-this.padding)+"px",top:_906+"px"};break;case "right":dim={left:(_905.x+_905.w+this.padding)+"px",top:_906+"px"};break;case "center":dim={left:(_905.x+(_905.w/2))-((mBox.w)/2)+"px",top:_906+"px"};break;case "top":dim={left:(_905.x+(_905.w/2))-((mBox.w)/2)+"px",top:(_905.y-mBox.h-this.padding)+"px"};break;case "bottom":dim={left:(_905.x+(_905.w/2))-((mBox.w)/2)+"px",top:(_905.y+_905.h+this.padding)+"px"};break;default:dim={left:(_905.x+_905.w+this.padding)+"px",top:_906+"px"};break;}return dim;},start:function(){this._loadClass();if(this.targetId!==null){this.padding=parseInt(this.padding,10);if(isNaN(this.padding)){this.padding=9;}this._moveUp=parseInt(this._moveUp,10);if(isNaN(this._moveUp)){this._moveUp=0;}this._moveDown=parseInt(this._moveDown,10);if(isNaN(this._moveDown)){this._moveDown=0;}var dim=this._getPosition();this.placeAt(dojo.body());dojo.style(this.loadingIndicator,dim);}var _907=dojo.style(this._targetDomNode,"zIndex");if(!isNaN(_907)){if(dojo.isIE==7){_907+=2;}else{_907+=1;}}else{if(dojo.isIE==7){_907+=2;}else{_907=this._getIndex()+1;}}dojo.style(this.loadingIndicator,"zIndex",_907);dojo.removeClass(this.loadingIndicator,"xwtProgressBallHide");dojo.addClass(this.loadingIndicator,"xwtProgressBallShow");},stop:function(){this._removeClass();dojo.removeClass(this.loadingIndicator,"xwtProgressBallShow");dojo.addClass(this.loadingIndicator,"xwtProgressBallHide");},_pos:function(_908,_909){var db=dojo.body(),dh=db.parentNode,ret;_908=dojo.byId(_908);var cs;if(_908.getBoundingClientRect){ret=_908.getBoundingClientRect();ret={x:ret.left,y:ret.top,w:ret.right-ret.left,h:ret.bottom-ret.top};if(dojo.isIE){var _90a=dojo._getIeDocumentElementOffset();ret.x-=_90a.x+(dojo.isQuirks?db.clientLeft+db.offsetLeft:0);ret.y-=_90a.y+(dojo.isQuirks?db.clientTop+db.offsetTop:0);}else{if(dojo.isFF==3){cs=dojo.getComputedStyle(dh);ret.x-=this._getPixelValue(dh,cs.marginLeft)+this._getPixelValue(dh,cs.borderLeftWidth);ret.y-=this._getPixelValue(dh,cs.marginTop)+this._getPixelValue(dh,cs.borderTopWidth);}}}else{ret={x:0,y:0,w:_908.offsetWidth,h:_908.offsetHeight};if(_908.offsetParent){ret.x-=this._getScrollCoords(_908,"scrollLeft");ret.y-=this._getScrollCoords(_908,"scrollTop");var _90b=_908;do{var n=_90b.offsetLeft,t=_90b.offsetTop;ret.x+=isNaN(n)?0:n;ret.y+=isNaN(t)?0:t;cs=dojo.getComputedStyle(_90b);if(_90b!=_908){if(dojo.isMoz){ret.x+=2*this._getPixelValue(_90b,cs.borderLeftWidth);ret.y+=2*this._getPixelValue(_90b,cs.borderTopWidth);}else{ret.x+=this._getPixelValue(_90b,cs.borderLeftWidth);ret.y+=this._getPixelValue(_90b,cs.borderTopWidth);}}if(dojo.isMoz&&cs.position=="static"){var _90c=_90b.parentNode;while(_90c!=_90b.offsetParent){var pcs=getComputedStyle(_90c);if(pcs.position=="static"){ret.x+=getPixelValue(_90b,pcs.borderLeftWidth);ret.y+=px(_90b,pcs.borderTopWidth);}_90c=_90c.parentNode;}}_90b=_90b.offsetParent;}while((_90b!=dh)&&_90b);}else{if(_908.x&&_908.y){ret.x+=isNaN(_908.x)?0:_908.x;ret.y+=isNaN(_908.y)?0:_908.y;}}}if(_909){var _90d=dojo._docScroll();ret.x+=_90d.x;ret.y+=_90d.y;}return ret;},_getPixelValue:function(node,_90e){if(!dojo.isIE){return parseFloat(_90e)||0;}else{if(_90e=="medium"){return 4;}}if(_90e.slice&&_90e.slice(-2)=="px"){return parseFloat(_90e);}with(node){var le=style.left;var rl=runtimeStyle.left;runtimeStyle.left=currentStyle.left;try{style.left=_90e;_90e=style.pixelLeft;}catch(e){_90e=0;}style.left=le;runtimeStyle.left=rl;}return _90e;},_getScrollCoords:function(node,_90f){if(!(node=(node||0).parentNode)){return 0;}var val,_910=0,_911=dojo.body();while(node&&node.style){if(dojo.getComputedStyle(node).position=="fixed"){return 0;}val=node[_90f];if(val){_910+=val-0;if(node==_911){break;}}node=node.parentNode;}return _910;},_getIndex:function(){var tar=this._targetDomNode;while(tar.parentNode&&tar.tagName&&tar.tagName.toLowerCase()!="body"){var _912=dojo.style(tar.parentNode,"zIndex");if(!isNaN(_912)){return parseInt(_912,10);}tar=tar.parentNode;}return 0;},destroy:function(){if(this._connectDestroy){dojo.disconnect(this._connectDestroy);}if(this._connectResize){dojo.disconnect(this._connectResize);}this.inherited(arguments);}});}if(!dojo._hasResource["xwt.widget.quickview.QuickView"]){dojo._hasResource["xwt.widget.quickview.QuickView"]=true;dojo.provide("xwt.widget.quickview.QuickView");dojo.provide("xwt.widget.quickview.QuickViewActionItem");dojo.declare("xwt.widget.quickview.QuickView",[xwt.widget.layout.ContextualOverlay,xwt.widget._ZIndexMixin],{actionItemList:[],templateString:null,templateString:"<div class=\"dijitTooltip dijitTooltipRight\" id=\"dojoTooltip\">\r\n\t<table class=\"containerTable\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" dojoAttachPoint=\"decoratorWidget\">\r\n\t  <tr>\r\n\t    <td class=\"top-left\"></td>\r\n\t    <td class=\"top-center\"></td>\r\n\t    <td class=\"top-right\"></td>\r\n\t  </tr>\r\n\t  <tr>\r\n\t    <td class=\"middle-left-col\" dojoAttachPoint=\"middleLeftColumn\" >\r\n\t    \t<table class=\"middle-column-table\">\r\n\t \t\t\t<tr class=\"fill-row\">\r\n\t    \t\t\t<td class=\"middle-left\" dojoAttachPoint=\"middleLeft\"></td>\t\t\t\t\r\n\t    \t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td class=\"middle-left-lower\" dojoAttachPoint=\"middleLeftLower\"></td>\r\n\t\t\t\t</tr>\r\n\t    \t</table>\r\n\t    </td>\r\n\t    <td class=\"middle-center\" dojoAttachPoint=\"middleCenterColumn\">\r\n\t\t\t<div class=\"dijitTooltipContainer dijitTooltipContents\" dojoAttachPoint=\"contentAP\">\r\n\t\t\t\t<div dojoAttachPoint=\"titleBar\" class=\"tooltiptitle\">\r\n\t\t\t\t\t<span dojoAttachPoint=\"titleNode\">${title}</span>\r\n\t\t\t\t\t<span dojoAttachPoint=\"closeButtonNode\" class=\"xwtDialogCloseIcon\" dojoAttachEvent=\"click:hide\">\r\n\t\t\t\t\t\t<span dojoAttachPoint=\"closeText\" class=\"closeText\"></span>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\r\n\t\t\t\t\t<div class=\"tooltipcontentarea dijitTooltipContents\" dojoAttachPoint=\"containerNode\" waiRole=\"alert\">\r\n\t\t\t\t\t\t<!-- the content pane-->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t<div dojoAttachPoint=\"actionArea\" class=\"actionarea\" style=\"display:none;\">\r\n\t\t\t\t\t<div class=\"actionDivider \" ></div>\r\n\t\t\t\t\tActions\r\n\t\t\t\t</div>\r\n\t\t\t\t<div dojoAttachPoint=\"actionBar\" class=\"defaultarea\" style=\"display:none;\"></div>\r\n\t\t\t\t<div dojoAttachPoint=\"expandedActionBar\" class=\"expandarea\" style=\"display:none;\"></div>\r\n\t\t\t\t<div class=\"moretools\">\r\n\t\t\t\t\t<span style=\"display:none;\" class=\"moretools\"  dojoAttachPoint=\"moreTools\" dojoAttachEvent=\"click:_toggleExpand\" ></span>\r\n\t\t\t\t</div>\r\n\t\r\n<!--\t\t\t\t\r\n\t\t\t\t<div class=\"dijitTooltipConnector\" dojoAttachPoint='connector'></div>\r\n-->\r\n\t\t\t</div>\r\n\r\n\t\t</td>\r\n\t\t\t\t\r\n\t\t\t    <td class=\"middle-right-col\" dojoAttachPoint=\"middleRightColumn\">\r\n\t\t\t    \t<table class=\"middle-column-table\">\r\n\t\t\t    \t\t<tr class=\"fill-row\">\r\n\t\t\t    \t\t\t<td class=\"middle-right\" dojoAttachPoint=\"middleRight\"></td>\r\n\t\t\t    \t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td class=\"middle-right-lower\" dojoAttachPoint=\"middleRightLower\"></td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t    \t</table>\r\n\t\t\t    \t\r\n\t\t\t    </td>\r\n\t\t\t  </tr>\r\n\t\t\t  <tr>\r\n\t\t\t    <td class=\"bottom-left\"></td>\r\n\t\t\t    <td class=\"bottom-center\"></td>\r\n\t\t\t    <td class=\"bottom-right\"></td>\r\n\t\t\t  </tr>\r\n\t</table>\t\t\t\r\n\t<div class=\"dijitTooltipConnector\" dojoAttachPoint='connector'></div>\r\n\t\r\n</div>\r\n\r\n\r\n\r\n",i18nPackageName:"xwt",i18nBundleName:"XMPProperties",_messages:null,baseClass:"dijitTooltipDialog quickview",enableAnimation:false,pgball:null,sideAlign:true,destroyOnClose:false,collapseHeight:0,expandHeight:0,moreToolsText:"",lessToolsText:"",onDownloadStartInitWidth:"300",onDownloadStartInitHeight:"250",_isSideAlign:false,fadeTime:700,_clickOutsideClose:true,closeTopic:"xwt/widget/quickview/close",detachTopic:"xwt/widget/quickview/detach",displayActionCount:9,constructor:function(){this._qvCreatedWidgets=[];this.actionItemList=this.actionItemList.slice(0);},_toggleExpand:function(){var temp=dojo.style(this.expandedActionBar,"display");var qvA,qvB,qvCB,_913;var _914={};if(temp=="none"){if(this.collapseHeight===0){var _915=dojo.marginBox(this.middleCenterColumn);this.collapseHeight=_915.h;}qvB=dojo.marginBox(this.domNode);qvCB=dojo.marginBox(this.connector);dojo.style(this.expandedActionBar,"display","");this.moreTools.innerHTML=this.lessToolsText;if(this.sideAlign&&qvCB.l>0){qvA=dojo.marginBox(this.domNode);if(qvB.w<qvA.w){_913=qvA.w-qvB.w;_914.l=qvA.l-_913;dojo.marginBox(this.domNode,_914);}}this.expandHeight=dojo.coords(this.contentAP).h;this._onExpand();}else{qvB=dojo.marginBox(this.domNode);qvCB=dojo.marginBox(this.connector);dojo.style(this.expandedActionBar,"display","none");this.moreTools.innerHTML=this.moreToolsText;if(this.sideAlign&&qvCB.l>0){qvA=dojo.marginBox(this.domNode);if(qvB.w>qvA.w){_913=qvB.w-qvA.w;_914.l=qvA.l+_913;dojo.marginBox(this.domNode,_914);}}this.collapseHeight=dojo.coords(this.contentAP).h;this._onCollapse();}},setTooltipcontentareaSize:function(_916,_917){var ttca=dojo.query("div.tooltipcontentarea",this.domNode)[0];if(ttca){_916.replace("px","");_917.replace("px","");var _918={w:_916,h:_917};dojo.marginBox(ttca,_918);}},postCreate:function(){if(this.onDownloadStartInitWidth){this.onDownloadStartInitWidth=this.onDownloadStartInitWidth.replace("px","");}if(this.onDownloadStartInitHeight){this.onDownloadStartInitHeight=this.onDownloadStartInitHeight.replace("px","");}dojo.place(this.domNode,dojo.body(),"last");if(this.href&&dojo.trim(this.href).length!==0){this.setTooltipcontentareaSize(this.onDownloadStartInitWidth,this.onDownloadStartInitHeight);}this.connect(dojo.doc,"click","checkBounds");this.connect(this,"setContent","customizedSetContentHandler");if(this.enableAnimation){this.connect(this.domNode,"onmouseenter","onMouseEnter");this.connect(this.domNode,"onmouseleave","onMouseLeave");}if(dojo.isIE<=7){this.connect(this,"show",function(){dojo.style(this.containerNode,"paddingLeft","8px");});}this.skipUnderlay=true;this._topics=[];this._topics.push(dojo.subscribe(this.closeTopic,dojo.hitch(this,function(){this.hide();})));this._topics.push(dojo.subscribe(this.closeTopic+"/"+this.id,dojo.hitch(this,function(){this.hide();})));this._topics.push(dojo.subscribe(this.detachTopic,dojo.hitch(this,function(){this.displayPointer(false);})));this._topics.push(dojo.subscribe(this.detachTopic+"/"+this.id,dojo.hitch(this,function(){this.displayPointer(false);})));this.inherited(arguments);},customizedSetContentHandler:function(){console.log("customizeSetContentHandler");},startup:function(){if(!this._started){this._started=true;if(this.actionItemList.length!==0){this.setActionItems();}}},setTitle:function(_919){this.titleNode.innerHTML=_919;},_setActionItemListAttr:function(ail){if(this._started){this.setActionItems(ail);}else{this.actionItemList=ail;}},setActionItems:function(_91a){dojo.style(this.expandedActionBar,"display","none");dojo.style(this.moreTools,"display","none");this.moreTools.innerHTML=this.moreToolsText;if(_91a){this.actionItemList=_91a||[];}var _91b=this.actionItemList.length;dojo.style(this.actionArea,"display","block");if(_91b>this.displayActionCount){dojo.style(this.moreTools,"display","");}if(_91b===0){dojo.style(this.actionBar,"display","none");dojo.style(this.moreTools,"display","none");dojo.style(this.actionArea,"display","none");}this._restructure();var _91c=dojo.marginBox(this.contentAP);this.collapseHeight=_91c.h;this._fixGradient(this.collapseHeight);},postMixInProperties:function(){var _91d=new xwt.widget.i18nMixin();if(this.i18nPackageName&&this.i18nBundleName){_91d.addBundle(this.i18nPackageName,this.i18nBundleName);this._messages=dojo.mixin(this._messages,_91d._messages);this._useI18=true;}else{this._useI18=false;}if(this._messages){if(this.moreToolsText===""){this.moreToolsText=this._messages.qv_more_tools_text;}if(this.lessToolsText===""){this.lessToolsText=this._messages.qv_less_tools_text;}}this.inherited(arguments);},_onExpand:function(){if(this.expandHeight===0){var _91e=dojo.marginBox(this.middleCenterColumn);this.expandHeight=_91e.h;}this._fixGradient(this.expandHeight);},_onCollapse:function(){this._fixGradient(this.collapseHeight);},onDownloadStart:function(){if(this.pgball===null){this.pgball=new xwt.widget.layout.ProgressBall({ballSize:"extreme",targetId:this.decoratorWidget,position:"center",grabfocus:false});}this.pgball.isOpen=true;if(dojo.isFunction(this.onDownloadStartComplete)){this.onDownloadStartComplete();}},onDownloadEnd:function(){if(this.pgball){this.pgball.isOpen=false;this.pgball.stop();}if(dojo.isFunction(this.onDownloadEndComplete)){this.onDownloadEndComplete();}},onShow:function(){this.inherited(arguments);if(this.pgball&&this.pgball.isOpen===true){this.pgball.isOpen=false;this.pgball.start();}setTimeout(dojo.hitch(this,function(){this._clickOutsideClose=true;}),100);},_restructure:function(){var len=this.actionItemList.length;if(this._qvCreatedWidgets){dojo.forEach(this._qvCreatedWidgets,function(w){w.destroy();if(w.actionItem&&w.actionItem.button===w){delete w.actionItem.button;}});this._qvCreatedWidgets=[];}if(len===0){return;}if(len<this.displayActionCount+1){this._createActions(0,len,"div.defaultarea","block");}else{this._createActions(0,this.displayActionCount,"div.defaultarea","block");this._createActions(this.displayActionCount,len,"div.expandarea","none");}},openAtNode:function(node,_91f){if(this.isShowingNow){dojo.style(this.middleLeft,{"height":"0px"});dojo.style(this.middleRight,{"height":"0px"});dojo.style(this.middleLeftLower,{"height":"0px"});dojo.style(this.middleRightLower,{"height":"0px"});}if(this._positionInterval){clearInterval(this._positionInterval);delete this._positionInterval;}if(this._scrollConnect){dojo.disconnect(this._scrollConnect);delete this._scrollConnect;}if(this.isShowingNow){var _920={};var ltr=this.isLeftToRight();if(this.sideAlign){_920[ltr?"BR":"BL"]=ltr?"BL":"BR";_920[ltr?"BL":"BR"]=ltr?"BR":"BL";}else{_920[ltr?"BL":"BR"]=ltr?"TL":"TR";_920[ltr?"BR":"BL"]=ltr?"TR":"TL";_920[ltr?"TL":"TR"]=ltr?"BL":"BR";_920[ltr?"TR":"TL"]=ltr?"BR":"BL";}dijit.placeOnScreenAroundElement(this.domNode,node,_920,dojo.hitch(this,this.orient));}this._clickOutsideClose=false;var _921=false;if(this.isShowingNow){_921=true;}var _922=dojo.hitch(this,function(){this._targetNode=node;this._positionInterval=setInterval(dojo.hitch(this,this._realign),100);this._nPos=dojo.position(node,true);this._aPos=dojo.position(this.tipNode,true);this._cPos=dojo.position(this.domNode,true);var n=node.parentNode;var _923=false;while(n&&n!==dojo.body()){var _924=n.tagName?n.tagName.toLowerCase():"";if(_924!="span"&&(n.scrollWidth>n.clientWidth||n.scrollHeight>n.clientHeight)){var of=dojo.style(n,"overflow");var ofx=dojo.style(n,"overflowX");var ofy=dojo.style(n,"overflowY");if((of&&of!="hidden")||(ofx&&ofx!="hidden")||(ofy&&ofy!="hidden")){_923=true;break;}}n=n.parentNode;}if(_923){this._scrollConnect=dojo.connect(n,"onscroll",this,function(){if(this._positionInterval){clearInterval(this._positionInterval);delete this._positionInterval;}this.displayPointer(false);});}if(_921){setTimeout(dojo.hitch(this,function(){this._clickOutsideClose=true;}),100);}});this._openedOnce=true;var _925=dojo.position(node,true);var _926=dijit.getViewport();if(this.sideAlign||this._isSideAlign){var _927=_926.w-_925.x;if(_927<this._contentWidth&&_927<_925.x&&_925.x<this._contentWidth){this.sideAlign=false;this._isSideAlign=true;}else{this.sideAlign=true;}}this.displayPointer(true);this.inherited(arguments);_925=dojo.position(node,true);_926=dijit.getViewport();_925.t=_925.y;_925.l=_925.x;var _928=dojo.position(this.domNode,true);var _929=0;var _92a=0;if(this.sideAlign){if(this.href===""){if(_925.t!==0){_929=(_925.t+(_925.h/2))-(_928.h/2);}if(_925.t===0){_929=_925.t+5;}}else{_929=_925.t-50;}if(_929<=0){_929=5;}var temp=_926.h-_925.t;if(_926.h<(_929+_928.h)&&temp>20){var _92b=(_929+_928.h)-_926.h;if(temp<30){_929=_929-_92b+temp+9;}else{_929=_929-_92b;}this.domNode.style.top=_929+"px";this._alignPointer(_925,_929);_922();return;}this.domNode.style.top=_929+"px";}else{var _92c=((_925.l+(_925.w/2))-(_928.w/2));this.minViewPortPadding=10;if(_92c<this.minViewPortPadding){_92a=(-1*_92c)+this.minViewPortPadding;_92c=this.minViewPortPadding;}else{if(_92c+_928.w>_926.w){var _92d=(_92c+_928.w)-_926.w+this.minViewPortPadding;_92c-=_92d;_92a=-_92d;}}this.domNode.style.left=_92c+"px";}var _92e=dojo.query(".dijitTooltipConnector",this.domNode);if(_92e&&_92e.length>0){var _92f=_92e[0];var mb2=dojo.position(_92f);if(mb2.w>0){var _930={};if(this.sideAlign){if(_929!=5&&(this.href==="")){_930.t=(_928.h/2)-(mb2.h/2);}else{if(this.href!==""){_930.t=(_925.t)-_929;}else{_930.t=(_925.t)-(mb2.h/2);}}}else{_930.l=(_928.w/2)-(mb2.w/2)-_92a;}dojo.marginBox(_92f,_930);}else{console.log("Connector width and height is zero");}}this._checkForContent();_922();},_realign:function(){if(this._targetNode&&dojo.style(this.tipNode,"display")!="none"){var _931=dojo.position(this._targetNode,true);if(_931.x==this._nPos.x&&_931.y==this._nPos.y){return;}else{if(!_931||(_931.x<=0&&_931.y<=0&&_931.h<=0&&_931.w<=0)){this.displayPointer(false);}else{this.openAtNode(this._targetNode);}}}},_checkForContent:function(){if(dojo.style(this.expandedActionBar,"display")=="none"){this.moreTools.innerHTML=this.moreToolsText;this.collapseHeight=dojo.marginBox(this.middleCenterColumn).h;this._fixGradient(this.collapseHeight);}else{this._fixGradient(this.expandHeight);}},_alignPointer:function(_932,_933){var _934=dojo.query(".dijitTooltipConnector",this.domNode);if(_934&&_934.length>0){var _935=_934[0];var mb2=dojo.marginBox(_935);mb2.t=(_932.t)-_933;dojo.marginBox(_935,mb2);}this._checkForContent();},_createActions:function(_936,end,_937,_938){var _939=dojo.query(_937,this.domNode)[0];if(_937=="div.defaultarea"){dojo.style(this.actionBar,"display",_938);}else{if(_937=="div.expandarea"){dojo.style(this.expandedActionBar,"display",_938);}}dojo.attr(_939,"align","center");var _93a=dojo.query("table.actiontable",_939);if(_93a&&_93a.length>0){var i;for(i=0;i<_93a.length;i++){var _93b=_93a[i];dojo._destroyElement(_93b);}}var _93c=dojo.create("table",{"class":"actiontable"});var _93d=dojo.create("tbody",{"class":"mybody"});dojo.place(_93d,_93c,"last");var _93e="";var _93f=0;for(var j=_936;j<end;j++){_93f++;if((j+1)%3==1){var _940=dojo.create("tr",{"class":"myrow"});dojo.place(_940,_93d,"last");_93e=_940;}var _941=dojo.create("td",{"class":"mydata"});dojo.place(_941,_93e,"last");var data=this.actionItemList[j];var _942=this._createAction(data);dojo.place(_942.domNode,_941,"last");}if(_93f==2){var _941=dojo.create("td",{"class":"mydata"});dojo.place(_941,_93e,"last");}dojo.place(_93c,_939,"last");},_createAction:function(data){var _943=new dijit.form.Button({label:data.labelText,iconClass:data.iconClass,onClick:data.callback,disabled:data.disable,baseClass:"quickview"});dojo.addClass(_943.domNode,"actionAreaText");data.button=_943;_943.actionItem=data;this._qvCreatedWidgets.push(_943);return _943;},show:function(_944,_945,_946){xwtPopups.suspendPopups("9999");var _947={};var ltr=this.isLeftToRight();dojo.removeClass(this.domNode,"dijitHidden");var pos;if(this.sideAlign){_947[ltr?"BR":"BL"]=ltr?"BL":"BR";_947[ltr?"BL":"BR"]=ltr?"BR":"BL";}else{_947[ltr?"BL":"BR"]=ltr?"TL":"TR";_947[ltr?"BR":"BL"]=ltr?"TR":"TL";_947[ltr?"TL":"TR"]=ltr?"BL":"BR";_947[ltr?"TR":"TL"]=ltr?"BR":"BL";}pos=dijit.placeOnScreenAroundElement(this.domNode,_945,_947,dojo.hitch(this,this.orient));this.positionX=pos.x;this.positionY=pos.y;this._fixTipNodeArrow();if(this.animationIn.type=="fade"){dojo.style(this.domNode,"opacity",0);var _948={node:this.domNode,duration:300};dojo.fadeIn(_948).play();this.animationIn.play();}else{if(this.animationIn.type=="wipe"){dojo.style(this.domNode,"height","1px");this.animationIn.play();}}this.isShowingNow=true;this.aroundNode=_945;this._onRendered();var _949=dojo.marginBox(this.middleCenterColumn);this._fixGradient(_949.h);if(!this._contentWidth){this._contentWidth=dojo.coords(this.decoratorWidget).w;dojo.style(this.decoratorWidget,{"minWidth":"50px"});if(dojo.isIE==7){var _94a=dojo.query("div.dijitTooltip")[0];dojo.style(_94a,{"minWidth":"50px"});}}this.hookZIndex();},displayPointer:function(_94b){if(!_94b){dojo.style(this.tipNode,"display","none");}else{dojo.style(this.tipNode,"display","");}},_fixGradient:function(_94c){var _94d;if(_94c>200){_94d=_94c-200;dojo.style(this.middleLeft,{"height":_94d+"px"});dojo.style(this.middleRight,{"height":_94d+"px"});dojo.style(this.middleLeftLower,{"height":"200px"});dojo.style(this.middleRightLower,{"height":"200px"});}else{_94d=(_94c>0)?_94c:0;dojo.style(this.middleLeft,{"height":"0px"});dojo.style(this.middleRight,{"height":"0px"});dojo.style(this.middleLeftLower,{"height":_94d+"px"});dojo.style(this.middleRightLower,{"height":_94d+"px"});}},close:function(evt){if(this.isShowingNow){xwtPopups.restorePopups();}this.hide(evt);},_positionTipNode:function(_94e){dojo.style(this.tipNode,"top","");},_fixTipNodeArrow:function(){var _94f=this.containerNode;var _950=dojo.position(_94f);if(dojo.isIE<=6){this._recreateIE6PNG(this.tipNode);}if(dojo.hasClass(this.domNode,"dijitTooltipBelow")){dojo.style(this.tipNode,"top",-12);}if(dojo.hasClass(this.domNode,"dijitTooltipAbove")){dojo.style(this.tipNode,"top",(_950.h+-3));}dojo.style(this.tipNode,"left","");},checkBounds:function(evt){if(this._clickOutsideClose&&evt&&!dojo.isDescendant(evt.target,this.decoratorWidget)){this.close(evt);}},onMouseLeave:function(){this._timer=setTimeout(dojo.hitch(this,function(){this.hide();delete this._timer;}),this.fadeTime);},onMouseEnter:function(){if(this._timer){clearTimeout(this._timer);delete this._timer;}},onDestroy:function(){if(!this.destroyOnClose){return;}if(this._openedOnce){this.destroy();}},destroy:function(){if(this.pgball){this.pgball.destroy();}if(this._scrollConnect){dojo.disconnect(this._scrollConnect);delete this._scrollConnect;}if(this._targetNode){delete this._targetNode;}if(this._positionInterval){clearInterval(this._positionInterval);delete this._positionInterval;}if(this._qvCreatedWidgets){dojo.forEach(this._qvCreatedWidgets,function(w){w.destroy();if(w.actionItem&&w.actionItem.button===w){delete w.actionItem.button;}});delete this._qvCreatedWidgets;}dojo.forEach(this._topics,function(t){dojo.unsubscribe(t);});delete this._topics;this.destroyRecursive();this.inherited(arguments);},hide:function(evt){if(this.pgball){this.pgball.isOpen=false;this.pgball.stop();}if(this._positionTimer){clearTimeout(this._positionTimer);delete this._positionTimer;}if(this._scrollConnect){dojo.disconnect(this._scrollConnect);delete this._scrollConnect;}if(this._targetNode){delete this._targetNode;}this.inherited(arguments);this.onDestroy();},_onHide:function(){if(this.domNode){dojo.addClass(this.domNode,"dijitHidden");}if(this.isModal){this.underlay.hide();}if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}this.onHide();}});dojo.declare("xwt.widget.quickview.QuickViewActionItem",[dijit._Widget],{widgetsInTemplate:false,iconClass:"",labelText:"",disable:false,callback:function(){alert(this.id);},destroy:function(){if(this.button){this.button.destroy();}this.inherited(arguments);}});}if(!dojo._hasResource["xwt.widget.table.QuickView"]){dojo._hasResource["xwt.widget.table.QuickView"]=true;dojo.provide("xwt.widget.table.QuickView");xwt.widget.table.QuickView={_showOn:"onHover",_viewer:null,_delay:0,item:null,quickViewHoverDisplayDelay:500,_qvGetRowFromTarget:function(evt){if(evt&&evt.target){var node=evt.target;while(node&&node!=this.tableBody&&!dojo.hasClass(node,"row")){node=node.parentNode;}if(node&&dojo.hasClass(node,"row")){return node;}}return null;},_qvGetCellFromTarget:function(evt){if(evt&&evt.target){var node=evt.target;while(node&&node!=this.tableBody&&!dojo.hasClass(node,"cell-container")){node=node.parentNode;}if(node&&dojo.hasClass(node,"cell-container")){return node;}}return null;},__onmousemove:function(evt){if(this.__qvDismissClick){return;}var row=this._qvGetRowFromTarget(evt);if(!row){return;}if(this.__isQVLoading){return;}var _951=dojo.attr(row,"rowIndex");if(this.__qvRowNum===_951){return;}delete this.__lastQVAnchor;this.__cleanupQVHint();this.__qvRow=row;this.__qvRowNum=_951;if(!dojo.hasClass(row,"row-locked")||!dojo.hasClass(row.parentNode,"page")){var _952=dojo.query(".cell."+this._uniqueCssId,row);dojo.forEach(_952,function(cell){this._checkAndAddQV(row,cell);},this);}else{this.__qvRowNum=-1;this.__qvRow=null;}return;},__onmouseleave:function(){if(this._viewer.isShowingNow){return;}if(this.__isQVLoading){return;}this.__cleanupQVHint();this.__qvRowNum=-1;this.__qvRow=null;this.item=null;},__cleanupQVHint:function(){if(this.__isQVLoading){return;}if(this._qvDisplayTimer){clearTimeout(this._qvDisplayTimer);delete this._qvDisplayTimer;}var _953=[];dojo.forEach(this._qvAnchors,function(c){if(c.node!=this.__qvActiveAnchor){var l=c.connects;dojo.forEach(l,function(cc){dojo.disconnect(cc);});dojo.destroy(c.node);}else{_953.push(c);}},this);this._qvAnchors=_953;},openQVFromHint:function(evt){if(evt&&evt.target&&this.__qvActiveAnchor==evt.target&&this._viewer.isShowingNow){return;}var _954=0;var _955=this._qvGetCellFromTarget(evt);if(_955){_954=dojo.attr(_955,"columnIdx");if(_954!=null){_954=parseInt(_954,10);}}if(this.__isQVLoading){return;}if(!this.item){return;}dojo.stopEvent(evt);var box=dojo.position(evt.target);var cBox={min:(box.h/2)-6,max:(box.h/2)+6};var yPos=evt.layerY;if(yPos<cBox.min||yPos>cBox.max){if(this.__lastQVAnchor){delete this.__lastQVAnchor;}return;}if(this.__lastQVAnchor&&!this._viewer.isShowingNow){if(this.__lastQVAnchor.indexOf("qvCell-"+_954)>=0&&this.__lastQVAnchor.indexOf("qvRow-"+this.__qvRowNum)>=0){return;}}if(this._qvDisplayTimer){clearTimeout(this._qvDisplayTimer);delete this._qvDisplayTimer;}this._qvDisplayTimer=setTimeout(dojo.hitch(this,function(){var _956=dojo.hitch(this,function(){var _957=evt.target;this.__qvActiveAnchor=_957;var _958=this.store.getAttributes(this.item),_959={};dojo.forEach(_958,function(attr){_959[attr]=this.store.getValue(this.item,attr);},this);var lc=dojo.connect(this._viewer,"onShow",this,function(){dojo.disconnect(lc);delete this.__isQVLoading;});this._viewer.openAtNode(_957);var _95a=null;var _95b=this.getColumns();if(_95b){var col=_95b.get(_954);if(col){_95a=col.attr;}}setTimeout(dojo.hitch(this,function(){this._viewer.setValues(_959,_954,_95a);var _95c=dojo.marginBox(this._viewer.contentAP);this._viewer.collapseHeight=_95c.h;this._viewer._fixGradient(this._viewer.collapseHeight);this._viewer.openAtNode(_957);this.__lastQVAnchor=_957.className;}),10);this.onShowQuickView(this.item);this._viewer.isShowingNow=true;});if(this._viewer.isShowingNow){this.__isQVLoading=true;var con=dojo.connect(this._viewer,"onHide",this,function(){dojo.disconnect(con);_956();delete this._movingQuickView;});this._movingQuickView=true;if(this.__qvActiveAnchor){var row=this._qvGetRowFromTarget({target:this.__qvActiveAnchor});if(!row||dojo.attr(row,"rowindex")!=this.__qvRowNum){dojo.destroy(this.__qvActiveAnchor);}this.__qvActiveAnchor=evt.target;}this._viewer.hide();}else{this.__isQVLoading=true;_956();}}),this.quickViewHoverDisplayDelay);},__getItemFromTarget:function(row){var id=dojo.attr(row,"item-id");if(id){return this._idToItem[id]||this._lockedItems[id];}return;},__onrowclick:function(evt){if(evt.target&&dojo.hasClass(evt.target,"xwtQVHintHover")){var box=dojo.position(evt.target);var cBox={min:(box.h/2)-6,max:(box.h/2)+6};var yPos=evt.layerY;if(yPos<cBox.min||yPos>cBox.max){this.__onmousemove(evt);}else{if(!this.__isQVLoading){if(this._qvDisplayTimer){clearTimeout(this._qvDisplayTimer);delete this._qvDisplayTimer;}if(this._viewer.isShowingNow&&this.__qvActiveAnchor==evt.target&&!this.__isQVLoading){this.__lastQVAnchor=evt.target.className;this.__qvDismissClick=true;setTimeout(dojo.hitch(this,function(){var row=this.__qvRow||this.__lastRow;if(!row){return;}var _95d=dojo.attr(row,"rowIndex");this.__cleanupQVHint();this.__qvRow=row;this.__qvRowNum=_95d;if(!dojo.hasClass(row,"row-locked")||!dojo.hasClass(row.parentNode,"page")){var _95e=dojo.query(".cell."+this._uniqueCssId,row);dojo.forEach(_95e,function(cell){this._checkAndAddQV(row,cell);},this);}else{this.__qvRowNum=-1;this.__qvRow=null;}delete this.__qvDismissClick;}),0);delete this.__isQVLoading;return;}var _95f=dojo.hitch(this,function(){var _960=evt.target;this.__qvActiveAnchor=_960;curcell=0;var _961=this._qvGetCellFromTarget(evt);if(_961){curcell=dojo.attr(_961,"columnIdx");if(curcell!=null){curcell=parseInt(curcell,10);}}var _962=this.store.getAttributes(this.item),_963={};dojo.forEach(_962,function(attr){_963[attr]=this.store.getValue(this.item,attr);},this);var lc=dojo.connect(this._viewer,"onShow",this,function(){dojo.disconnect(lc);delete this.__isQVLoading;});this._viewer.openAtNode(_960);var _964=null;var _965=this.getColumns();if(_965){var col=_965.get(curcell);if(col){_964=col.attr;}}setTimeout(dojo.hitch(this,function(){this._viewer.setValues(_963,curcell,_964);var _966=dojo.marginBox(this._viewer.contentAP);this._viewer.collapseHeight=_966.h;this._viewer._fixGradient(this._viewer.collapseHeight);this._viewer.openAtNode(_960);this.__lastQVAnchor=_960.className;}),10);this.onShowQuickView(this.item);this._viewer.isShowingNow=true;});if(this._viewer.isShowingNow){this.__isQVLoading=true;var con=dojo.connect(this._viewer,"onHide",this,function(){dojo.disconnect(con);_95f();delete this._movingQuickView;});this._movingQuickView=true;if(this.__qvActiveAnchor){var row=this._qvGetRowFromTarget({target:this.__qvActiveAnchor});if(!row||dojo.attr(row,"rowindex")!=this.__qvRowNum){dojo.destroy(this.__qvActiveAnchor);}this.__qvActiveAnchor=evt.target;}this._viewer.hide();}else{this.__isQVLoading=true;_95f();}}}}else{this.__onmousemove(evt);}},_checkAndAddQV:function(row,cell){if(!row&&!cell){return;}this.showQuickView(this.__getItemFromTarget(row),cell);},start:function(_967){dojo.mixin(this,xwt.widget.table.QuickView);this._viewer=_967&&_967.widget||null;this._showOn=_967&&_967.onEvent||this._showOn;this._delay=_967&&_967.delay||this._delay;this.quickViewHoverDisplayDelay=("quickViewHoverDisplayDelay" in _967?_967.quickViewHoverDisplayDelay:this.quickViewHoverDisplayDelay);if(this._viewer){this.connect(this._viewer,"hide","hideQuickView");this.connect(this.tableBody,"onclick","__onrowclick");this.connect(this.tableRowTopContainer,"onclick","__onrowclick");this.connect(this.tableRowBottomContainer,"onclick","__onrowclick");this.connect(this.tableBody,"onmousemove","__onmousemove");this.connect(this.tableBody,"onmouseleave","__onmouseleave");this.connect(this.tableRowTopContainer,"onmousemove","__onmousemove");this.connect(this.tableRowTopContainer,"onmouseleave","__onmouseleave");this.connect(this.tableRowBottomContainer,"onmousemove","__onmousemove");this.connect(this.tableRowBottomContainer,"onmouseleave","__onmouseleave");this.connect(this._viewer,"onHide",function(){delete this.__isQVLoading;});this.connect(this._viewer,"displayPointer",function(_968){this.clearAnchor(!_968);});}var _969=dojo.connect(this,"destroy",function(){dojo.disconnect(_969);delete this.__qvActiveAnchor;delete this.__lastRow;delete this.__isQVLoading;delete this.__lastShownAnchor;this.__cleanupQVHint();dojo.forEach(this.actionItemList,function(_96a){if(_96a.destroy){_96a.destroy();}});});this._qvAnchors=[];},clearAnchor:function(_96b){if(!_96b){return;}var _96c=[];dojo.forEach(this._qvAnchors,function(c){if(c.node==this.__qvActiveAnchor){var l=c.connects;dojo.forEach(l,function(cc){dojo.disconnect(cc);});dojo.destroy(c.node);}else{_96c.push(c);}},this);this._qvAnchors=_96c;},showQuickView:function(item,cell){if(!item||!cell){return this;}if(cell&&this._viewer){if(this.onEdit&&!this.__qvEditBound){this.__qvEditBound=true;this.connect(this,"onEdit","_hideQuickView");}if(cell.parentNode&&dojo.hasClass(cell.parentNode,"cell-container")){var _96d=this.store.getAttributes(item),_96e={};dojo.forEach(_96d,function(attr){_96e[attr]=this.store.getValue(item,attr);},this);var _96f=dojo.attr(cell.parentNode,"columnidx");var _970=null;var _971=this.getColumns();if(_971){var col=_971.get(_96f);if(col){_970=col.attr;}}if(this.showQVHint(_96e,_96f,_970)){var _972=dojo.query(".xwtQVHintHover",cell)[0];if(!_972||_972!=this.__qvActiveAnchor){if(_972){dojo.destroy(_972);}var _973=dojo.create("span",{"class":"xwtQVHintHover"});dojo.addClass(_973,"qvCell-"+_96f);dojo.addClass(_973,"qvRow-"+this.__qvRowNum);dojo.place(_973,cell);this.item=item;var _974={node:_973,connects:[]};_974.connects.push(dojo.connect(_973,"onmousemove",this,"openQVFromHint"));_974.connects.push(dojo.connect(_973,"onmouseleave",this,"_onQVHintLeave"));this._qvAnchors.push(_974);}}}}return this;},_onQVHintLeave:function(evt){if(this._qvDisplayTimer){clearTimeout(this._qvDisplayTimer);delete this._qvDisplayTimer;}if(this.__lastQVAnchor){delete this.__lastQVAnchor;}},_hideQuickView:function(){if(this._viewer.isShowingNow){this._viewer.hide();}},hideQuickView:function(){this.onHideQuickView();if(!this._movingQuickView){delete this.__qvActiveAnchor;this.__cleanupQVHint();}this.__lastRow=this.__qvRow||this.__lastRow;this.__qvRowNum=-1;this.__qvRow=null;return this;},onShowQuickView:function(item){},onHideQuickView:function(){}};}if(!dojo._hasResource["xwt.widget.table.LoadingIndicator"]){dojo._hasResource["xwt.widget.table.LoadingIndicator"]=true;dojo.provide("xwt.widget.table.LoadingIndicator");dojo.declare("xwt.widget.table.LoadingIndicator",[dijit._Widget,dijit._Templated],{templateString:dojo.cache("xwt.widget.table","templates/LoadingIndicator.html","<div class=\"xwtTableLoadingIndicator\"><div class=\"xwtTableLoadingIndicatorVisibleContainer\"><table><tbody><tr><td><div class=\"xwtTableLoadingIndicatorImage\"></div></td><td><span class=\"xwtTableLoadingIndicatorText\">${loadingMessage}</span></td></tr></tbody></table></div><div class=\"xwtTableLoadingIndicatorDropShadow\"></div></div>\r\n"),loadingMessage:"Loading...",shown:false,_showCount:0,delay:3000,constructor:function(_975){if(_975&&"loadingMessage" in _975){this.loadingMessage=_975.loadingMessage;this._userDefinedLoadingMessage=true;}},postMixInProperties:function(){this.inherited(arguments);if(!this._userDefinedLoadingMessage){var _976=this.l10n=dojo.i18n.getLocalization("xwt.widget.table","LoadingIndicator");if(_976){this.loadingMessage=_976.loadingMessage;}}},show:function(){this._showCount++;if(!this.shown){this.shown=true;this._timeout=setTimeout(dojo.hitch(this,function(){if(this._showCount){dojo.style(this.domNode,"display","block");this.onShow();}clearTimeout(this._timeout);delete this._timeout;}),this.delay);}},hide:function(){this._showCount--;if(this.shown&&!this._showCount){if(this._timeout){clearTimeout(this._timeout);delete this._timeout;}this.shown=false;dojo.style(this.domNode,"display","none");this.onHide();}},onShow:function(){},onHide:function(){},destroy:function(){if(this._timeout){clearTimeout(this._timeout);delete this._timeout;}this._showCount=0;dojo.style(this.domNode,"display","none");this.inherited(arguments);}});}if(!dojo._hasResource["dojo.DeferredList"]){dojo._hasResource["dojo.DeferredList"]=true;dojo.provide("dojo.DeferredList");dojo.declare("dojo.DeferredList",dojo.Deferred,{constructor:function(list,_977,_978,_979,_97a){this.list=list;this.resultList=new Array(this.list.length);this.chain=[];this.id=this._nextId();this.fired=-1;this.paused=0;this.results=[null,null];this.canceller=_97a;this.silentlyCancelled=false;if(this.list.length===0&&!_977){this.callback(this.resultList);}this.finishedCount=0;this.fireOnOneCallback=_977;this.fireOnOneErrback=_978;this.consumeErrors=_979;dojo.forEach(this.list,function(d,_97b){d.addCallback(this,function(r){this._cbDeferred(_97b,true,r);return r;});d.addErrback(this,function(r){this._cbDeferred(_97b,false,r);return r;});},this);},_cbDeferred:function(_97c,_97d,_97e){this.resultList[_97c]=[_97d,_97e];this.finishedCount+=1;if(this.fired!==0){if(_97d&&this.fireOnOneCallback){this.callback([_97c,_97e]);}else{if(!_97d&&this.fireOnOneErrback){this.errback(_97e);}else{if(this.finishedCount==this.list.length){this.callback(this.resultList);}}}}if(!_97d&&this.consumeErrors){_97e=null;}return _97e;},gatherResults:function(_97f){var d=new dojo.DeferredList(_97f,false,true,false);d.addCallback(function(_980){var ret=[];dojo.forEach(_980,function(_981){ret.push(_981[1]);});return ret;});return d;}});}if(!dojo._hasResource["xwt.widget.table.Table"]){dojo._hasResource["xwt.widget.table.Table"]=true;dojo.provide("xwt.widget.table.Table");dojo.connect(dijit,"showTooltip",function(){if(!dojo.hasClass(dojo.body(),"xwtNotification")){dojo.addClass(dojo.body(),"xwtNotification");}});dojo.declare("xwt.widget.table.Table",[dijit.layout._LayoutWidget,dijit._Templated],{displayLoadingIndicator:true,loadingIndicatorMessage:"",loadingIndicatorDelay:3000,store:null,_columns:null,_css:{headContainer:"table-header-container",head:"table-header",container:"table-container",body:"table-body",footContainer:"table-footer-container",foot:"table-footer",rowLockedContainer:"table-row-locked-container",row:"row",rowTable:"row-table",odd:"row-odd",even:"row-even",hover:"hover",rowDivider:"row-divided",cell:"cell",cellContainer:"cell-container",groupCell:"group-cell",groupCellContainer:"group-cell-container",groupCellContainerLast:"group-cell-container-last",groupLabel:"group-label",groupLabelContainer:"group-label-container",hidden:"hidden",ellipsis:"ellipsis",ellipsisNotDone:"ellipsis-not-done",resizing:"table-column-resizing",readonly:"not-editable",selected:"selected",focused:"focused",columnBorders:"col-borders",columnLastBorder:"col-last-border",rowBorders:"row-borders",rowLastBorder:"row-last-border"},l10n:null,templateString:"<div class=\"table\" dojoAttachEvent=\"onkeydown: _onKeyDown, onclick: _onClick\">\r\n\t<div dojoAttachPoint=\"tableHeadNodeContainer\" class=\"table-head-node-container\" style=\"overflow:hidden;width:100%;\">\r\n\t\t<div dojoAttachPoint=\"tableHeadContainer\" style=\"overflow:hidden;\">\r\n\t\t\t<div dojoAttachPoint=\"tableLockedHeadInnerContainer\" style=\"display:none;\"></div>\r\n\t\t\t<div dojoAttachPoint=\"tableHeadInnerContainer\"></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"clear\"></div>\r\n\t<div dojoAttachPoint=\"tableRowTopNodeContainer\" style=\"overflow:hidden;width:100%;display:none;\">\r\n\t\t<div dojoAttachPoint=\"tableRowTopContainer\" style=\"overflow:hidden;\">\r\n\t\t\t<div dojoAttachPoint=\"tableLockedRowTopInnerContainer\" style=\"display:none;\"></div>\r\n\t\t\t<div dojoAttachPoint=\"tableRowTopInnerContainer\"></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div dojoAttachPoint=\"tableContainer\" style=\"overflow:auto;\" dojoAttachEvent=\"onscroll:_onContentScroll\">\r\n\t\t<div dojoAttachPoint=\"tableLockedColumnBody\" style=\"display: none;\"></div>\r\n\t\t<div dojoAttachPoint=\"tableBody\"></div>\r\n\t</div>\r\n\t<div dojoAttachPoint=\"tableRowBottomNodeContainer\" style=\"overflow:hidden;width:100%;display:none;\">\r\n\t\t<div dojoAttachPoint=\"tableRowBottomContainer\" style=\"overflow:hidden;\">\r\n\t\t\t<div dojoAttachPoint=\"tableLockedRowBottomInnerContainer\" style=\"display:none;\"></div>\r\n\t\t\t<div dojoAttachPoint=\"tableRowBottomInnerContainer\"></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div dojoAttachPoint=\"tableFootNodeContainer\" class=\"table-foot-node-container\" style=\"overflow:hidden;width:100%;display:none;\">\r\n\t\t<div dojoAttachPoint=\"tableFootContainer\" style=\"overflow:hidden;\">\r\n\t\t\t<div dojoAttachPoint=\"tableLockedFootInnerContainer\" style=\"display:none;\"></div>\r\n\t\t\t<table dojoAttachPoint=\"tableFoot\" style=\"overflow:hidden;\"\r\n\t\t\t\tcellpadding=\"0\" cellspacing=\"0\" border=\"0\"\r\n\t\t\t\t><tbody><tr dojoAttachPoint=\"tableFootRow\"></tr></tbody></table>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n",columns:[],scrollFetchDelay:333,query:{},queryOptions:{},_sortAttributes:null,rowsPerPage:25,pagesToKeep:4,rowScrollThreshold:-1,maxRows:200000,_rowsOverflow:false,_lastScrollLeft:0,_lastScrollTop:0,_avgRowHeight:-1,_totalRows:-1,_visibleLockedContainer:null,_showIndex:false,_indexToItem:[],_idToIndex:{},_lockedItems:{},_focusedNode:null,_lastRefresh:null,_cssInvalidSelectorRegExp:/([~!@\$%\^&\*()\+=,\.\/';:"\?\>\<\[\]\\\{\}|`#\s]){1}/g,constructor:function(_982){this.currentIndex=0;this._visibleRows=null;this._pageStack=[];this.columns=[];this.query={};this.queryOptions={};this._indexToItem=[];this._idToIndex={};this._idToItem={};this._lockedItems={};if(_982&&_982.index){this._showIndex=true;}if(_982&&_982.detailWidget){this._detail=_982.detailWidget;}if(_982&&_982.structure){_982.columns=_982.structure;}this._uniqueCssId=dijit.getUniqueId("xwtTable_"+(new Date()).getTime());this._lastRefresh=new Date();this._scrollLoadingPage={};},_santizeIdentityForCss:function(id){id=id+"";return id.replace(this._cssInvalidSelectorRegExp,function(c){return "_x"+c.charCodeAt(0)+"_";});},postMixInProperties:function(){this.inherited(arguments);this.l10n=dojo.i18n.getLocalization("xwt.widget.table","Table");if(!this.pagesToKeep){this.pagesToKeep=4;}else{if(this.pagesToKeep<2){this.pagesToKeep=2;}}if(!this.rowsPerPage){this.rowsPerPage=25;}else{if(this.rowsPerPage<5){this.rowsPerPage=5;}}if(!this.maxRows){this.maxRows=200000;}else{if(this.maxRows<this.rowsPerPage){this.maxRows=this.rowsPerPage;}}},_setQueryAttr:function(_983){_983=_983?_983:{};this.query=_983;this._preFilterQuery=this.query;if(this._started){if(!this._populating){if(dojo.isFunction(this.clearSelections)){this.clearSelections();}this.render();}}},setQuery:function(_984){this.attr("query",_984);},_setColumnsAttr:function(_985){if(_985){var _985=_985.slice(0),self=this;if(this._detail&&!(xwt.widget.table.TreeTable&&this instanceof xwt.widget.table.TreeTable)){_985.unshift({columnType:xwt.widget.table.ColumnTypes.EXPANDER,widget:this._detail});}if(this.select){_985.unshift({columnType:xwt.widget.table.ColumnTypes.SELECTOR,selectOptions:self.select});}if(this._showIndex){_985.unshift({columnType:xwt.widget.table.ColumnTypes.INDEX});}if(this._columns_conn){dojo.forEach(this._columns_conn,dojo.disconnect);}var conn=this._columns_conn=[];this._createColumns(_985);conn.push(dojo.connect(this._columns,"onResize",this,"_onColumnResize"));conn.push(dojo.connect(this._columns,"onMove",this,"_onColumnMove"));conn.push(dojo.connect(this._columns,"onShow",this,"_onColumnShowOrHide"));conn.push(dojo.connect(this._columns,"onHide",this,"_onColumnShowOrHide"));var _986=false,_987=-1,_988="",_989=function(_98a){if(_98a.children){_98a.children.forEach(_989);}else{if(_98a.sortable){_986=true;if(_98a.sorted){if(!_988){_987=_98a._index;_988=_98a.sorted;}else{_98a.sorted=false;}}}}};this._columns.forEach(_989);if(_986){if(!_988){xwt.widget.table.Sort.start.call(this);}else{xwt.widget.table.Sort.start.call(this,this._columns.get(_987));}}else{this._sortable=false;}this._resetColumns();}},editing:function(){return false;},expandable:function(){return false;},buildRendering:function(){this.inherited(arguments);this._resetColumns();},postCreate:function(){this.inherited(arguments);if(this.rowScrollThreshold<0){this.rowScrollThreshold=Math.floor(this.rowsPerPage/3);}var css=this._css;dojo.addClass(this.tableHead,css.head);dojo.addClass(this.tableHeadContainer,css.headContainer);dojo.addClass(this.tableContainer,css.container);dojo.addClass(this.tableBody,css.body);dojo.addClass(this.tableFoot,css.foot);dojo.addClass(this.tableFootContainer,css.footContainer);dojo.addClass(this.tableRowTopContainer,css.rowLockedContainer);dojo.addClass(this.tableRowTopContainer,css.rowLockedContainer+"-top");dojo.addClass(this.tableRowBottomContainer,css.rowLockedContainer);dojo.addClass(this.tableRowBottomContainer,css.rowLockedContainer+"-bottom");dojo.setSelectable(this.tableBody,false);dojo.attr(this.tableHeadNodeContainer,"role","presentation");dojo.attr(this.tableHeadContainer,"role","row");dojo.attr(this.tableHead,"role","presentation");dojo.attr(this.tableContainer,"role","presentation");dojo.attr(this.tableBody,"role","presentation");dojo.attr(this.tableRowTopNodeContainer,"role","presentation");dojo.attr(this.tableRowTopContainer,"role","row");dojo.attr(this.tableRowBottomNodeContainer,"role","presentation");dojo.attr(this.tableRowBottomContainer,"role","row");if(this.select){this._applySelect();}if(this.filters){xwt.widget.table.Filter.start.call(this,this.filters);}if(this.edit){xwt.widget.table.Edit.start.call(this,this.edit);}if(this.quickview){xwt.widget.table.QuickView.start.call(this,this.quickview);}this._source=new xwt.widget.table._ColumnMover(this.tableHeadInnerContainer,{table:this,singular:true});this._source.startup();this._setupDragEvents();this.connect(this.tableHeadInnerContainer,"onclick","_onHeaderClick");this._setupNotificationEvents();if(this.displayLoadingIndicator){var _98b={};if(this.loadingIndicatorMessage){_98b.loadingMessage=this.loadingIndicatorMessage;}if(this.loadingIndicatorDelay>0){_98b.delay=this.loadingIndicatorDelay;}this._loadingIndicator=new xwt.widget.table.LoadingIndicator(_98b);dojo.style(this._loadingIndicator.domNode,"display","none");dojo.place(this._loadingIndicator.domNode,this.tableBody);this._loadingIndicator.startup();this.connect(this._loadingIndicator,"onShow",function(){this._liTimer=setInterval(dojo.hitch(this,function(){try{var pos=dojo.position(this.tableContainer);dojo.style(this._loadingIndicator.domNode,"width",pos.w);if(!this._overflowY){dojo.style(this._loadingIndicator.domNode,"width",pos.w+"px");}else{var _98c=this._getScrollBarDims();dojo.style(this._loadingIndicator.domNode,"width",(pos.w-(_98c.w))+"px");}}catch(e){}}),100);});this.connect(this._loadingIndicator,"onHide",function(){if(this._liTimer){clearInterval(this._liTimer);delete this._liTimer;}});}if(!this._emptyTableHScrollControl){this._emptyTableHScrollControl=dojo.create("div",{"class":"xwtEmptyTableHScrollControl"});dojo.place(this._emptyTableHScrollControl,this.tableBody);}if(dojo.style(this.tableBody,"MozUserSelect")=="none"){dojo.style(this.tableBody,"MozUserSelect","-moz-none");}var _98d=this.quickFilterDefault||"All";if(_98d!="All"&&this.filters){var i;for(i=0;i<this.filters.length;i++){if(_98d==this.filters[i].name){this._currentFilter=this.filters[i];this._preFilterQuery=dojo.mixin({},this.query||{});var q=this._filterEngine._functions.toDojoQuery(this.filters[i].expressions,this.filterOnServer);this.query=dojo.mixin({},this._preFilterQuery,q);break;}}}},_applySelect:function(){xwt.widget.table.Select.start.call(this,this.select);},startup:function(){if(this._started){return;}this._resize();this.inherited(arguments);this._adjustSizes();this.layout();dojo.publish(this.id+"-startup",[this]);xwt.widget.table.ellipsizeCells&&xwt.widget.table.ellipsizeCells(this,this.tableBody);},getChildren:function(){return [];},layout:function(){if(!this._started){return;}this.onLayout();var _98e=this._contentBoxWidth;var _98f=this._contentBoxHeight;var _990=dojo._getBorderExtents(this.domNode);var _991=_98f-_990.h;var _992=_98e-_990.w;if(_991<0){_991=0;}if(_992<0){_992=0;}dojo.style(this.tableContainer,{width:_992+"px",height:_991+"px"});dojo.style(this.domNode,"width",_992+"px");dojo.style(this.tableHeadNodeContainer,"width",_992+"px");dojo.style(this.tableFootNodeContainer,"width",_992+"px");if(this.tableRowTopNodeContainer){dojo.style(this.tableRowTopNodeContainer,"width",_992+"px");}if(this.tableRowBottomNodeContainer){dojo.style(this.tableRowBottomNodeContainer,"width",_992+"px");}dojo.style(this.tableHeadContainer,"width","9000em");dojo.style(this.tableFootContainer,"width","9000em");dojo.style(this.tableRowTopContainer,"width","9000em");dojo.style(this.tableRowBottomContainer,"width","9000em");if(this._pageHeights!=null){this._invalidatePageHeights();}this._adjustSizes(true);var dims;if(this.tableBody){dims=dojo.position(this.tableContainer);}if(dims&&dims.h>0){var _993=this.rowsPerPage*this.pagesToKeep*22;var _994=this.rowsPerPage*22;var _995=dims.h-_993;if(_995<0){_995=Math.abs(_995);if(_995<_994){this.pagesToKeep++;}}else{this.pagesToKeep+=Math.ceil(_995/_994)+1;}}if(dojo.query(".page."+this._uniqueCssId,this.tableBody).length<1||dojo.query("."+this._css.row+"."+this._uniqueCssId,this.tableBody).length<1){if(!this._populating){this._populating=true;var def=this._fetch(0);def.addCallback(dojo.hitch(this,function(){delete this._populating;}));def.addErrback(dojo.hitch(this,function(){delete this._populating;}));}}if(this._overflowY){var _996=this._totalRows*this._avgRowHeight;if(this.scrollHeight!=_996){this.scrollHeight=_996;}}if(this._lastScrollLeft!=this.tableContainer.scrollLeft){var _997=this.tableContainer.scrollLeft;this.tableHeadNodeContainer.scrollLeft=_997;this.tableFootContainer.scrollLeft=_997;this.tableRowTopNodeContainer.scrollLeft=_997;this.tableRowBottomNodeContainer.scrollLeft=_997;this._lastScrollLeft=_997;if(dojo.isIE<8){if(dojo.style(this.tableRowTopNodeContainer,"display")!="none"){this.tableRowTopNodeContainer.className=this.tableRowTopNodeContainer.className;}if(dojo.style(this.tableRowBottomNodeContainer,"display")!="none"){if(this._ie7BottomRowFix){clearTimeout(this._ie7BottomRowFix);}this._ie7BottomRowFix=setTimeout(dojo.hitch(this,function(){this.tableRowBottomNodeContainer.className=this.tableRowBottomNodeContainer.className;}),10);}}}},_onNew:function(item,_998){this.onAdd(item,_998);if(!this.editing()){var tmpl;if(this._editor){tmpl=this._editor.addRequested;}var _999=false;if(tmpl){var _99a=this.store.getIdentityAttributes(item),_99b=this.store;var _99c=0;for(var i=0,len=_99a.length;i<len;i++){if(tmpl[_99a[i]]==_99b.getValue(item,_99a[i])){_99c++;}}if(_99c==_99a.length){_999=true;}}if(_999){this.clearSelections();this.select(item);}var def=this.render(this._totalRows>0);if(_999){var self=this;def.addCallback(function(){self.scrollToRow(self._totalRows,true).addCallback(function(){setTimeout(function(){var idx=self._idToIndex[self.store.getIdentity(item)];if(idx){self._focus(idx);}self.edit(item);},100);}).addErrback(function(ex){console.warn(ex);});});}if(this._editor){this._editor.addRequested=null;}}},onAdd:function(item,_99d){},__throttle:null,_onDelete:function(item){if(!this.editing()&&!this.deleting){if(this.selected){this.deselect(item);}if(this.__throttle){clearTimeout(this.__throttle);}this.__throttle=setTimeout(dojo.hitch(this,function(){this.render(true);}),50);}},_onSet:function(item,attr,_99e,_99f){if(!this.editing()){if(this.__throttle){clearTimeout(this.__throttle);}this.__throttle=setTimeout(dojo.hitch(this,function(){this.render(true);}),50);}},_onRevert:function(){if(!this.editing()){if(this.__throttle){clearTimeout(this.__throttle);}this.__throttle=setTimeout(dojo.hitch(this,function(){this.render(true);}),50);}},_onMoveTo:function(_9a0,_9a1,_9a2){if(!this.editing()){if(this.__throttle){clearTimeout(this.__throttle);}this.__throttle=setTimeout(dojo.hitch(this,function(){this.render(true);}),50);}},_setupNotificationEvents:function(){if(this.store.onSet){this.connect(this.store,"onNew","_onNew");this.connect(this.store,"onDelete","_onDelete");this.connect(this.store,"onSet","_onSet");this.connect(this.store,"revert","_onRevert");}this.connect(this.store,"moveTo","_onMoveTo");},_dragger:{item:null,row:null,placeholder:null,target:null,startingDrag:false,isDragging:false,targetOverHandle:null,dragHandle:null,dragEndHandle:null,trueDragStartHandle:null,selectStartHandle:null,containerBox:null,bodyBox:null,rowBox:null,position:null,scrollTimer:null,SCROLL_THRESHOLD:22,SCROLL_INTERVAL:100,SCROLL_BY:40},_setupDragEvents:function(){if(this.store.orderAttribute&&this.store.moveTo){this.connect(this.tableContainer,"onmousedown","_onDragStart");}},_resetDragger:function(){var d=this._dragger;dojo.disconnect(d.targetOverHandle);dojo.disconnect(d.dragHandle);dojo.disconnect(d.dragEndHandle);dojo.disconnect(d.trueDragStartHandle);dojo.disconnect(d.selectStartHandle);dojo.destroy(d.placeholder);if(dojo.hasClass(d.row,"dragging")){dojo.destroy(d.row);}d.startingDrag=false;d.isDragging=false;d.item=null;d.row=null;d.placeholder=null;if(d.target){dojo.removeClass(d.target,"targetOver");}dojo.style(this.tableContainer,"cursor","inherit");d.target=null;d.containerBox=null;d.bodyBox=null;d.pageBox=null;d.rowBox=null;d.position=null;d.scrollTimer&&clearTimeout(d.scrollTimer);d.scrollTimer=null;},_onDragStart:function(e){if(!dojo.hasClass(e.target,"dojoDndHandle")){return;}if(this._totalRows<=1){return;}var d=this._dragger,row=this._rowFromTarget(e);if(!row){return;}d.currentPage=dojo.attr(row.parentNode,"pageindex");if(dojo.isString(d.currentPage)){d.currentPage=parseInt(d.currentPage,10);}d.startingDrag=true;d.targetOverHandle=dojo.connect(this.tableBody,"onmouseover",this,"_onTargetOver");d.dragHandle=dojo.connect(dojo.doc,"onmousemove",this,"_onDrag");d.dragEndHandle=dojo.connect(dojo.doc,"onmouseup",this,"_onDragEnd");d.trueDragStartHandle=dojo.connect(dojo.doc,"ondragstart",dojo.stopEvent);d.selectStartHandle=dojo.connect(dojo.body(),"onselectstart",dojo.stopEvent);d.row=row;d.containerBox=dojo.coords(this.tableContainer);d.bodyBox=dojo.coords(this.tableBody);d.pageBox=dojo.coords(row.parentNode);d.rowBox=dojo.coords(row);d.position=e.pageY;},_onTargetOver:function(e){var d=this._dragger,row=this._rowFromTarget(e);if(!row){return;}if(!d.target||d.target!=row){if(d.target){dojo.removeClass(d.target,"targetOver");}d.target=row;dojo.addClass(d.target,"targetOver");}},_onDrag:function(e){var d=this._dragger;if(d.startingDrag){d.startingDrag=false;d.isDragging=true;d.placeholder=dojo.create("div",{"class":"xwtTableDndPlaceholder"});dojo.place(d.placeholder,d.row,"after");d.item=this._indexToItem[parseInt(dojo.attr(d.row,"rowindex"),10)];dojo.addClass(d.row,"dragging");dojo.style(d.row,{height:Math.max(d.rowBox.h,22)+"px"});dojo.place(d.row,this.tableContainer);dojo.style(this.tableContainer,"cursor","move");if(d.currentPage!=null){var page=this._pages[d.currentPage];var _9a3=this._calculatePageHeight(page);this._updatePageHeight(d.currentPage,_9a3,true);this._repositionPages();}}var dy=e.pageY-d.position;d.rowBox.t+=dy;dojo.style(d.row,{top:d.rowBox.t+d.pageBox.t+"px",left:(e.pageX-d.containerBox.x+2)+"px"});d.position=e.pageY;if(d.position<d.containerBox.y+d.SCROLL_THRESHOLD){d.scrollTimer&&clearInterval(d.scrollTimer);d.scrollTimer=setInterval(dojo.hitch(this,function(){var _9a4=this._lastScrollTop-d.SCROLL_BY;if(_9a4>=0){this.tableContainer.scrollTop=_9a4;d.rowBox.t-=d.SCROLL_BY;dojo.style(d.row,{top:d.rowBox.t+"px"});}else{clearInterval(d.scrollTimer);}}),d.SCROLL_INTERVAL);}else{if(d.position>(d.containerBox.y+d.containerBox.h)-d.SCROLL_THRESHOLD){d.scrollTimer&&clearInterval(d.scrollTimer);d.scrollTimer=setInterval(dojo.hitch(this,function(){var _9a5=this._lastScrollTop+d.SCROLL_BY;if(_9a5<=(d.bodyBox.h-d.containerBox.h)){this.tableContainer.scrollTop=_9a5;d.rowBox.t+=d.SCROLL_BY;dojo.style(d.row,{top:d.rowBox.t+"px"});}else{clearInterval(d.scrollTimer);}}),d.SCROLL_INTERVAL);}else{d.scrollTimer&&clearInterval(d.scrollTimer);}}},_onDragEnd:function(e){if(!this._dragger.item||!this._dragger.row){this._resetDragger();return;}var d=this._dragger,id=this.store.getIdentity(d.item),_9a6=d.target,idx=parseInt(dojo.attr(_9a6,"rowindex"),10);var _9a7=this._indexToItem[idx];if(this._sortedColumn){this._sortedColumn.sorted=false;delete this._sortedColumn;}this.store.moveTo([d.item],this._indexToItem[idx],this._indexToItem[idx+1]);this.render(true);this._resetDragger();},_fetch:function(_9a8,_9a9,_9aa){var def=new dojo.Deferred();if(this.filters&&!this.store.__checkedForWrap&&xwt.widget.table.Filters&&xwt.widget.table.Filters.FilteringWrapperStore){if(dojo.isFunction(xwt.widget.table.Filters.canFilterWrapStore)){if(xwt.widget.table.Filters.canFilterWrapStore(this.store)){this.store=new xwt.widget.table.Filters.FilteringWrapperStore(this.store);}}this.store.__checkedForWrap=true;}if(!this._fetchMap){this._fetchMap={};}var _9ab=_9a8/this.rowsPerPage;var page=this._getPage(_9ab,_9a9);if(this._loadingIndicator){this._loadingIndicator.show();def.addCallback(dojo.hitch(this,function(){this._loadingIndicator.hide();}));def.addErrback(dojo.hitch(this,function(){this._loadingIndicator.hide();}));}this._onLoadStart();def.addCallback(dojo.hitch(this,function(){this._onLoadEnd();}));def.addErrback(dojo.hitch(this,function(_9ac){this._onLoadEnd();this._onLoadError(_9ac);}));if(page&&page.firstChild&&dojo.attr(page.firstChild,"rowindex")==_9a8&&!_9aa){dojo.style(page,"visibility","visible");def.callback();return def;}if(this._currentFilter){this._currentFilter.preFilterQuery=this._preFilterQuery;}var req=this.store.fetch({query:this.query,filter:this._currentFilter,sort:this._sortable?this._getSortProps():null,start:_9a8,count:this.rowsPerPage,queryOptions:this.queryOptions,completeDeferred:def,pageNum:_9ab,onBegin:dojo.hitch(this,"_onFetchBegin"),onComplete:dojo.hitch(this,"_onFetchComplete"),onError:function(_9ad){def.errback(_9ad);}});this._fetchMap[_9ab]={storeRequest:req,deferred:def};def.addCallback(dojo.hitch(this,function(){if(this._fetchMap){delete this._fetchMap[_9ab];}}));def.addErrback(dojo.hitch(this,function(){if(this._fetchMap){delete this._fetchMap[_9ab];}}));return def;},_onFetchBegin:function(_9ae,_9af){if(_9ae==-1){return;}if(!this._numPages||_9ae!=this._totalRows){if(_9ae>this.maxRows){_9ae=this.maxRows;this._rowsOverflow=true;}else{this._rowsOverflow=false;}this._totalRows=_9ae;this._numPages=Math.ceil(_9ae/this.rowsPerPage);}this.onRowCountUpdate(_9ae);var _9b0=dojo.position(this.tableHead).w;var sb=this._getScrollBarDims(),_9b1=this._contentBoxWidth-sb.w;if(this._avgRowHeight>-1){var _9b2=this._avgRowHeight*_9ae;if(_9b2>this._contentBoxHeight){if(_9b0>_9b1){this.tableBody.style.width=_9b0+"px";}else{this.tableBody.style.width=_9b1+"px";}}else{if(_9b0>this._contentBoxWidth){this.tableBody.style.width=_9b0+"px";}else{this.tableBody.style.width=this._contentBoxWidth+"px";}}this.tableBody.style.height=_9b2+"px";}},_onFetchComplete:function(_9b3,_9b4){var def=_9b4.completeDeferred;if(this._numPages==0&&_9b4.count>0&&!_9b3.length){var page=this._getPage(0);if(page){this._lastScrollTop=0;this.tableContainer.scrollTop=0;this.tableContainer.scrollLeft=0;dojo.query(".row-editor-expandPane",page).orphan();page.innerHTML=this.l10n.noData;dojo.addClass(page,"no-results");window.setTimeout(dojo.hitch(this,function(){try{var _9b5=dojo.position(page).h;var pt=this._getPageTop(0);this._pageHeights[0]=_9b5;this._pageTops[1]=pt+_9b5;page.style.top=pt+"px";dojo.style(page,"visibility","visible");this._calculateRowHeights();def.callback();page=null;}catch(e){def.callback();}}),0);}return;}for(var i=0;i<_9b3.length;i++){var item=_9b3[i];this._indexToItem[i+_9b4.start]=item;var id=this.store.getIdentity(item);this._idToItem[id]=item;if((this._selectAllHardLimit<0||this.__allowFetchSelect)&&this._selected&&this._selected.allSelected&&this.isSelectable(item)&&!this._selectedIds[id]){var _9b6=this._selected.allSelected.except();var _9b7=true;var j;for(j=0;j<_9b6.length;j++){if(id==this.store.getIdentity(_9b6[j])){_9b7=false;break;}}if(_9b7){if(!this._selectedIds[id]&&this.isSelectable(item)){this._selected.push(item);this._selectedIds[id]=true;if(dojo.isFunction(this.onSelect)){this.onSelect(item);}}}}this._idToIndex[id]=i+_9b4.start;}if(dojo.indexOf(this._pageStack,_9b4.pageNum)==-1){def.callback();return;}var page=this._getPage(_9b4.pageNum);if(page){var _9b8=_9b4.start;if(!page.firstChild){this._columns._createRows(page,_9b3,_9b8);}else{try{dojo.query(".row-editor-expandPane",page).orphan();page.innerHTML="";this._columns._createRows(page,_9b3,_9b8);}catch(e){console.warn(e);}}window.setTimeout(dojo.hitch(this,function(){var _9b9=this._calculatePageHeight(page);var pt=this._getPageTop(_9b4.pageNum);this._pageHeights[_9b4.pageNum]=_9b9;if(_9b4.pageNum<(this._numPages-1)){this._pageTops[_9b4.pageNum+1]=pt+_9b9;}page.style.top=pt+"px";this._calculateRowHeights();var fdef=null;if((pt+_9b9)<this._contentBoxHeight&&(_9b4.pageNum<(this._numPages-1))){fdef=this._fetch(_9b4.start+this.rowsPerPage);if(fdef){fdef.addCallback(function(){def.callback();});}}dojo.style(page,"visibility","visible");page=null;if(!fdef){def.callback();}}),0);}},_calculatePageHeight:function(page){var _9ba=0;if(page){var node=page.firstChild;while(node){_9ba+=dojo.position(node).h;node=node.nextSibling;}}return Math.ceil(_9ba);},_invalidatePageHeights:function(){var _9bb={};for(var i=0,len=this._pageStack.length;i<len;i++){_9bb[this._pageStack[i]]=true;}for(var i=0,len=this._pageHeights.length;i<len;i++){if(!(i in _9bb)){this._pageHeights[i]=undefined;}}this._pageTops=[0];var h=0,_9bc=0,_9bd=this._numPages-1,_9be=this._totalRows%this.rowsPerPage;for(var i in _9bb){h+=this._pageHeights[i]=this._calculatePageHeight(this._pages[i]);_9bc+=(i==_9bd&&_9be>0?_9be:this.rowsPerPage);}var _9bf=this.tableContainer.scrollTop/this._avgRowHeight;this._calculateRowHeights(h,_9bc);var _9c0=this._avgRowHeight*this.rowsPerPage,_9c1=(_9be>0?this._avgRowHeight*_9be:_9c0);for(var i=0,len=this._pageStack.length;i<len;i++){var _9c2=this._pageStack[i],page=this._pages[_9c2];page.style.top=this._getPageTop(_9c2)+"px";page=null;}this.tableContainer.scrollTop=_9bf*this._avgRowHeight;},_calculateRowHeights:function(h,_9c3){var h=h||0,_9c3=_9c3||0;if(h<=0){var _9c4=this._numPages-1,_9c5=this._totalRows%this.rowsPerPage;for(var i=0,len=Math.min(this._pageHeights.length,this._numPages);i<len;i++){var _9c6=this._pageHeights[i];if(typeof _9c6=="undefined"){continue;}_9c3+=(i==_9c4&&_9c5>0?_9c5:this.rowsPerPage);h+=_9c6;}}var _9c7=this._avgRowHeight=Math.ceil(h/_9c3);this._bottomRowAvg=this._contentBoxHeight/_9c7;var _9c8=((_9c7*(this._totalRows-_9c3))+h);var _9c9=this._editor;if(this.editing()&&_9c9&&_9c9.detail&&_9c9.detail.domNode.style.display!="none"){_9c8+=dojo.marginBox(_9c9.inline).h-(_9c9.row_height?_9c9.row_height:_9c7);}if(dojo.isIE&&this.editing()&&_9c9&&_9c9.inline){var _9ca=dojo.query(".rowActions",_9c9.inline)[0];if(_9ca&&dojo.style(_9ca,"display")!=="none"){var rb=dojo.position(_9ca);_9c8+=rb.h;}}if(_9c8<0||isNaN(_9c8)){_9c8=0;}this.tableBody.style.height=_9c8+"px";this._adjustSizes();},_updatePageHeight:function(page,_9cb,_9cc){var ph=this._pageHeights[page],tops=this._pageTops,_9cd=_9cb-ph;for(var i=page+1,len=tops.length;i<len;i++){if(typeof tops[i]=="undefined"){continue;}tops[i]+=_9cd;}if(_9cc){this._pageHeights[page]=_9cb;}var tbh=dojo.contentBox(this.tableBody).h,_9ce=tbh+_9cd;this.tableBody.style.height=_9ce+"px";this._adjustSizes();},_repositionPages:function(){var self=this,attr=dojo.attr,_9cf=this._pageTops;dojo.query(".page"+"."+this._uniqueCssId,this.tableBody).forEach(function(n){var idx=attr(n,"pageIndex"),top=_9cf[idx];if(top>=0){n.style.top=top+"px";}});},_invalidatePageNode:function(_9d0){var page=this._pages[_9d0];if(page){delete this._pages[_9d0];}return page;},_preparePage:function(_9d1,_9d2){this._pageStack.push(_9d1);this._pageStack.sort(function(a,b){return a-b;});var _9d3=this._pageStack.length,_9d4=this.pagesToKeep&&(_9d3>this.pagesToKeep);if(_9d4){var _9d5;var _9d6=dojo.indexOf(this._pageStack,_9d1);if(_9d2>0){if(_9d6==_9d3-1){_9d5=this._pageStack.shift();}else{_9d5=this._pageStack.pop();}}else{if(_9d6==0){_9d5=this._pageStack.pop();}else{_9d5=this._pageStack.shift();}}var page=dojo.query(".page-"+_9d5+"."+this._uniqueCssId,this.tableBody)[0];this._invalidatePageNode(_9d5);dojo.style(page,"visibility","hidden");}else{var page=this._createPage(_9d1);}if(this._avgRowHeight>0){page.style.top=this._getPageTop(_9d1)+"px";}page.className="page page-"+_9d1+" "+this._uniqueCssId;dojo.attr(page,"pageindex",_9d1);if(!page.parentNode){this.tableBody.appendChild(page);if(this._loadingIndicator){this.tableBody.removeChild(this._loadingIndicator.domNode);dojo.place(this._loadingIndicator.domNode,this.tableBody);}}return page;},_getPageTop:function(_9d7){var pts=this._pageTops,top=pts[_9d7],h=0,_9d8=this._avgRowHeight*this.rowsPerPage;if(typeof top!="undefined"&&!isNaN(top)){return top;}var top=0;for(var i=_9d7;i>0;i--){if(typeof pts[i]=="undefined"){if(this._pageHeights[i-1]>0){top+=this._pageHeights[i-1];}else{top+=_9d8;}}else{top+=pts[i];break;}}return top;},_getPage:function(_9d9,_9da){if(!this._pages){this._pages=[];this._pageHeights=[];}if(!this._pageTops){this._pageTops=[0];}if(dojo.indexOf(this._pageStack,_9d9)==-1){var page=this._preparePage(_9d9,_9da);}else{if(this.tableBody){var page=dojo.query(".page-"+_9d9+"."+this._uniqueCssId,this.tableBody)[0];}}this._pages[_9d9]=page;return page;},_createPage:function(_9db){var page=dojo.create("div",{role:"presentation",style:{position:"absolute",left:"0px"}});return page;},render:function(_9dc){if(!this._started){return;}this._resetColumns();this._idToIndex={};this._indexToItem=[];this._idToItem={};this._reindexRemovedRow=0;this._scrollLoadingPage={};if(_9dc){var defs=[];var ps=this._pageStack.slice(0);for(var i=0,len=ps.length;i<len;i++){var _9dd=ps[i],page=this._pages[_9dd];dojo.query(".row-editor-expandPane",page).orphan();page.innerHTML="";var def=this._fetch(_9dd*this.rowsPerPage);if(def){defs.push(def);}page=null;}if(defs.length){defs[defs.length-1].addCallback(dojo.hitch(this,function(){this.onRender();}));return new dojo.DeferredList(defs);}else{var def=new dojo.Deferred();def.addCallback(dojo.hitch(this,function(){this.onRender();}));def.callback();return def;}}var aph=this._avgRowHeight*this.rowsPerPage;for(var i=0,len=this._pages.length;i<len;i++){var page=this._pages[i];if(typeof page=="undefined"){continue;}this._invalidatePageNode(i);dojo.query(".row-editor-expandPane",page).orphan();dojo.destroy(page);page=null;}this._pageStack=[];delete this._numPages;var def=this.scrollTo(this._lastScrollTop);def.addCallback(dojo.hitch(this,function(){this.onRender();}));return def;},_getPadBorderWidth:(function(){var gcs=dojo.getComputedStyle,px=dojo._toPixelValue,ne="none";return function(n){var s=gcs(n),be=((s.borderLeftStyle!=ne?px(n,s.borderLeftWidth):0)+(s.borderRightStyle!=ne?px(n,s.borderRightWidth):0)),w=px(n,s.paddingLeft)+px(n,s.paddingRight)+be;s=n=null;return w;};gcs=px=null;})(),_adjustSizes:function(_9de){if(!this._started){return;}var _9df=this._getScrollBarDims();var _9e0=dojo.position(this.tableContainer),box=dojo.marginBox(this.domNode),_9e1=this._contentBoxWidth-_9df.w,css=this._css;var _9e2=dojo.query("> td",this.tableHeadRow),gpbw=this._getPadBorderWidth;this._columns.forEach(function(_9e3,i){var node=_9e2[i].firstChild;if(_9e3._pwidth){_9e3.width=_9e0.w*_9e3._pwidth;}if(_9e3.children){var _9e4=dojo.query(".group-row ."+css.groupCellContainer,node);var _9e5=0;_9e3.children.forEach(function(_9e6,j){if(_9e6._pwidth){_9e6.width=_9e0.w*_9e6._pwidth;}var node=_9e4[j].firstChild,cw=_9e6._contentWidthDifference=gpbw(node),diff=_9e6.width-cw;if(diff>0){node.style.width=diff+"px";}_9e5+=(_9e6.width+gpbw(_9e4[j]));});if(!_9e3.width){_9e3.width=_9e5;}}var cw=_9e3._contentWidthDifference=gpbw(node),diff=_9e3.width-cw;if(!isNaN(_9e3.width)&&diff>0){node.style.width=diff+"px";}if(_9e3._pwidth){dojo.query(".cell-"+i+"."+this._uniqueCssId,this.domNode).style("width",_9e3.width+"px");}node=null;},this);var _9e7=dojo.position(this.tableHead).w;this._overflowY=this.tableBody.clientHeight>this._contentBoxHeight;if(!this._overflowY){if(_9e7>this._contentBoxWidth){this.tableBody.style.width=_9e7+"px";this._overflowX=true;}else{this.tableBody.style.width=this._contentBoxWidth+"px";this._overflowX=false;}dojo.style(this.tableContainer,{overflowX:"auto",overflowY:"hidden"});}else{if(_9e7>_9e1){this.tableBody.style.width=_9e7+"px";this._overflowX=true;}else{this.tableBody.style.width=_9e1+"px";this._overflowX=false;}dojo.style(this.tableContainer,{overflowX:"auto",overflowY:"scroll"});if(this._loadingIndicator){try{var _9e8=dojo.style(this.tableContainer,"width");if(!this._overflowY){dojo.style(this._loadingIndicator.domNode,"width",_9e8+"px");}else{var _9e9=this._getScrollBarDims();dojo.style(this._loadingIndicator.domNode,"width",(_9e8-(_9e9.w))+"px");}}catch(e){}}}if(this._emptyTableHScrollControl&&this.tableHeadRow){var hrw=dojo.position(this.tableHeadRow).w;if(hrw>0){dojo.style(this._emptyTableHScrollControl,"width",hrw+"px");}}},resize:function(_9ea,_9eb){this._resize(_9ea,_9eb);this.layout();},_resize:function(_9ec,_9ed){var _9ee=dojo.position(this.tableHeadNodeContainer),_9ef=dojo.position(this.tableFootContainer),_9f0=dojo.position(this.tableRowTopNodeContainer),_9f1=dojo.position(this.tableRowBottomNodeContainer);var dcb=dojo.position(this.domNode);var _9f2=0;var p=this.getParent();if(p&&p.isLayoutContainer){dcb=p._contentBox||dcb;dojo.forEach(p.getChildren(),function(_9f3){if(_9f3!=this){var _9f4=_9f3.domNode.style;if(!(_9f4&&_9f4.display=="none")){_9f2+=dojo.marginBox(_9f3.domNode).h;}}},this);}this._contentBoxWidth=dcb.w;this._contentBoxHeight=Math.max(0,dcb.h-_9ee.h-_9ef.h-_9f0.h-_9f1.h-_9f2);if(this._avgRowHeight>0){this._bottomRowAvg=this._contentBoxHeight/this._avgRowHeight;}this._adjustSizes();},getColumns:function(){return this._columns;},_createColumns:function(_9f5){this._columns=new xwt.widget.table.Columns(_9f5,this);return this;},_getScrollBarDims:function(){if(this._scrollDims){return this._scrollDims;}try{var _9f6={};var n=dojo.doc.createElement("div");n.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";dojo.body().appendChild(n);_9f6.w=(n.offsetWidth-n.clientWidth)||15;_9f6.h=(n.offsetHeight-n.clientHeight)||15;dojo.body().removeChild(n);delete n;}catch(e){console.warn(e);}this._scrollDims=_9f6;return _9f6;},_resetColumns:function(){var _9f7=this.tableHeadInnerContainer,_9f8=this;dojo.query("*",_9f7).orphan();var cols=this.getColumns();var _9f9=new dojox.string.Builder("<table style=\"overflow:hidden;\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" role=\"presentation\"><tbody><tr>");if(cols&&cols.columns&&cols.columns.length>0){cols.forEach(function(_9fa){_9fa._createCell(-1,_9f9,_9f8);});}_9f9.append("</tr></tbody></table>");_9f7.innerHTML=_9f9.toString();this.tableHead=this.tableHeadInnerContainer.firstChild;this.tableHeadRow=dojo.query("tr",this.tableHeadInnerContainer)[0];var css=this._css;dojo.addClass(this.tableHead,css.head);dojo.attr(this.tableHead,"role","presentation");if(this._hasLockedRows()){var sb=new dojox.string.Builder(),i=0;for(var id in this._lockedItems){cols._createRow(null,sb,i++,this._lockedItems[id]);}var c=(this._visibleLockedContainer=="top"?"Top":"Bottom"),_9fb=this["tableRow"+c+"InnerContainer"];_9fb.innerHTML=sb.toString();dojo.query("."+this._css.row,_9fb).forEach(function(node){var item=this._lockedItems[id];dojo.removeClass(node,this._css.row+"-"+dojo.attr(node,"rowindex"));dojo.removeClass(node,this._css.row+"-even");dojo.removeClass(node,this._css.row+"-odd");var _9fc=dojo.query(".row-index",node);dojo.forEach(_9fc,function(node){dojo.attr(node,"title","");var _9fd=dojo.query(".cell",node);dojo.forEach(_9fd,function(cell){dojo.attr(cell,"title","");});});},this);xwt.widget.table.ellipsizeCells&&xwt.widget.table.ellipsizeCells(this,_9fb,true);}if(this._source){this._source.sync();}xwt.widget.table.ellipsizeCells&&xwt.widget.table.ellipsizeCells(this,_9f7,true);},scrollTo:function(top,_9fe,_9ff){var defs=[],def=null;if(!this._avgRowHeight||this._avgRowHeight<22){this._avgRowHeight=22;}var _a00=top/this._avgRowHeight,_a01=(top+this._contentBoxHeight)/this._avgRowHeight;var _a02=this.rowScrollThreshold;var _a03=Math.floor(Math.max(_a00-_a02,0)/this.rowsPerPage),_a04=this._pages[_a03];if(!_a04||!_a04.firstChild||dojo.attr(_a04,"pageindex")!=_a03){if(!this._scrollLoadingPage[_a03]){this._scrollLoadingPage[_a03]=true;def=this._fetch(_a03*this.rowsPerPage,_9fe,_9ff);if(def){def.addCallback(dojo.hitch(this,function(){delete this._scrollLoadingPage[_a03];}));def.addErrback(dojo.hitch(this,function(){delete this._scrollLoadingPage[_a03];}));defs.push(def);}else{delete this._scrollLoadingPage[_a03];}}}var _a05=Math.min(Math.floor(Math.min(_a01+_a02,this._totalRows)/this.rowsPerPage),(this._numPages||1)-1);var _a06=_a05-_a03,_a07=_a06>1;while(_a06>1){_a06--;var _a08=_a05-_a06;if(!this._pages[_a08]){def=this._fetch(_a08*this.rowsPerPage,(_9fe<0&&!_a04)?1:_9fe,_9ff);if(def){defs.push(def);}}}if(_a05>=0&&_a05<=this._numPages){var _a09=this._pages[_a05];if(!_a09||!_a09.firstChild||dojo.attr(_a09,"pageindex")!=_a05){if(!this._scrollLoadingPage[_a05]){this._scrollLoadingPage[_a05]=true;def=this._fetch(_a05*this.rowsPerPage,(_9fe<0&&(!_a04||_a07))?1:_9fe,_9ff);if(def){def.addCallback(dojo.hitch(this,function(){delete this._scrollLoadingPage[_a05];}));def.addErrback(dojo.hitch(this,function(){delete this._scrollLoadingPage[_a05];}));defs.push(def);}else{delete this._scrollLoadingPage[_a05];}}}}if(defs.length){return new dojo.DeferredList(defs);}else{var def=new dojo.Deferred();if(_9ff){this._scrollLoadingPage[_a05]=true;def=this._fetch(_a05*this.rowsPerPage,1,_9ff);def.addCallback(dojo.hitch(this,function(){delete this._scrollLoadingPage[_a05];}));def.addErrback(dojo.hitch(this,function(){delete this._scrollLoadingPage[_a05];}));}else{def.callback();}return def;}},scrollToRow:function(_a0a,_a0b){var _a0c;if(_a0a>=this._totalRows){_a0c=dojo.marginBox(this.tableBody).h-this._contentBoxHeight;_a0c=_a0c<0?0:_a0c;}else{var node=dojo.query("."+this._css.row+"-"+_a0a+"."+this._uniqueCssId,this.tableBody)[0];if(node){_a0c=dojo.marginBox(node).t+dojo.marginBox(node.parentNode).t;}else{var _a0d=Math.floor(_a0a/this.rowsPerPage),_a0e=_a0d*this.rowsPerPage,_a0f=this._getPageTop(_a0d);if(_a0e==_a0a){_a0c=_a0f;}else{_a0c=(_a0f+((_a0a-_a0e)*this._avgRowHeight));}}}var _a10=this._lastScrollTop;this._lastScrollTop=_a0c;var self=this;var def=new dojo.Deferred();this.scrollTo(_a0c,_a0c-_a10,_a0b).addCallback(function(){setTimeout(function(){self.tableContainer.scrollTop=_a0c;setTimeout(function(){def.callback();},0);},0);});return def;},_clearDisplay:function(){dojo.query("."+this._uniqueCssId+" [tabIndex="+this.tabIndex+"]",this.tableBody).attr("tabIndex","-1");dojo.query("."+this._css.focused+"."+this._uniqueCssId,this.tableBody).removeClass(this._css.focused);dojo.query("."+this._css.selected+"."+this._uniqueCssId,this.tableBody).removeClass(this._css.selected);},_gotoRow:function(_a11){return this.scrollToRow(_a11);},_getFocusedItem:function(){if(this._focusedNode){return this._indexToItem[dojo.attr(this._focusedNode,"rowindex")];}return null;},_focus:function(idx){if(idx===undefined){return;}var _a12=Math.floor(idx/this.rowsPerPage),_a13=_a12*this.rowsPerPage,_a14=_a13,_a15=_a13+this.rowsPerPage;if(idx<_a13||idx>_a15){this.scrollToRow(idx);}var item=this._indexToItem[idx];var f;if(item){var id=this.store.getIdentity(item);f=dojo.query("."+this._css.row+"-itemid-"+this._santizeIdentityForCss(id)+"."+this._uniqueCssId,this.tableBody)[0];}else{f=dojo.query("."+this._css.row+"-"+idx+"."+this._uniqueCssId,this.tableBody)[0];}if(f&&this._focusedNode!=f){if(this._focusedNode){dojo.removeClass(this._focusedNode,this._css.focused);}this._focusedNode=f;dojo.addClass(this._focusedNode,this._css.focused);dijit.focus(f);}},_rowFromTarget:function(e){var node=e.target;while(node&&!dojo.attr(node,"item-id")&&node!=this.tableBody){node=node.parentNode;}return node;},_cellNumFromTarget:function(e){if(!e){return;}var cell=e.target;while(cell&&!dojo.hasClass(cell,"page")&&!dojo.hasClass(cell,"cell-container")&&cell!=this.tableBody){cell=cell.parentNode;}if(cell&&dojo.hasClass(cell,"cell-container")){return dojo.attr(cell,"columnidx");}return null;},_columnFromTarget:function(e){var node=e.target;while(node&&!dojo.attr(node,"columnIdx")&&node!=this.tableBody){node=node.parentNode;}return node?this.getColumns().getByNode(node):null;},_onClick:function(e){var node=this._rowFromTarget(e);if(node){var _a16=dojo.attr(node,"item-id");if(_a16!=null){if(this._lockedItems){if(this._lockedItems[_a16]){this.onClick(this._lockedItems[_a16]);return;}}}var idx=dojo.attr(node,"rowindex"),item=this._indexToItem[idx];if(this.editing()){var col=this._columnFromTarget(e);}this._focus(dojo.attr(node,"rowindex"));if(item){this.onClick(item);}}},_onKeyDown:function(e){switch(e.keyCode){case dojo.keys.ESCAPE:if(this.editing()){this.cancelEdit();}if(this._focusedNode){var idx=dojo.attr(this._focusedNode,"rowindex");this._focus(idx);}dojo.stopEvent(e);break;case dojo.keys.HOME:if(this.editing()){return;}this._focus(0);dojo.stopEvent(e);break;case dojo.keys.END:if(this.editing()){return;}this._focus(this._totalRows-1);dojo.stopEvent(e);break;case dojo.keys.PAGE_UP:if(this.editing()){return;}if(this._focusedNode){var idx=parseInt(dojo.attr(this._focusedNode,"rowindex")),_a17=Math.max(idx-this.rowsPerPage,0);this._focus(_a17);if(this.editing()){var item=this._indexToItem[_a17];if(item){this.edit(item);}}}dojo.stopEvent(e);break;case dojo.keys.PAGE_DOWN:if(this.editing()){return;}if(this._focusedNode){var idx=parseInt(dojo.attr(this._focusedNode,"rowindex")),_a17=Math.min(idx+this.rowsPerPage,this._totalRows-1);this._focus(_a17);if(this.editing()){var item=this._indexToItem[_a17];if(item){this.edit(item);}}}dojo.stopEvent(e);break;case dojo.keys.UP_ARROW:if(this.editing()){return;}if(this._focusedNode){var idx=parseInt(dojo.attr(this._focusedNode,"rowindex"));if(idx==0){break;}this._focus(idx-1);}dojo.stopEvent(e);break;case dojo.keys.DOWN_ARROW:if(this.editing()){return;}if(this._focusedNode){var idx=parseInt(dojo.attr(this._focusedNode,"rowindex"));if(idx+1>=this._totalRows){break;}this._focus(idx+1);}dojo.stopEvent(e);break;case dojo.keys.ENTER:if(this._focusedNode){var idx=dojo.attr(this._focusedNode,"rowindex"),item=this._indexToItem[idx];if(this.editing()){return;}else{if(this.selectByIndex&&item){this[(this.isSelected(item)?"deselect":"select")](item);dojo.stopEvent(e);}}}break;}},borders:function(show,last){var css=this._css;dojo.toggleClass(this.tableBody,css.rowBorders,show);dojo.toggleClass(this.tableBody,css.rowLastBorder,!!last);return this;},_lockRange:function(_a18){var show=false,_a19=false,c=(this._visibleLockedContainer=="top"?"Top":"Bottom"),_a1a=this["tableRow"+c+"NodeContainer"],_a1b=this["tableRow"+c+"InnerContainer"];dojo.forEach(_a18,function(item,i){var id=this.store.getIdentity(item),idx=this._idToIndex[id];if(this._lockedItems[id]){return;}if(!show){show=true;}this._lockedItems[id]=item;var row=dojo.query("."+this._css.row+"-"+idx+"."+this._uniqueCssId,this.tableBody)[0];if(row){this.deselect(item);dojo.removeClass(row,this._css.row+"-"+idx);dojo.removeClass(row,this._css.row+"-even");dojo.removeClass(row,this._css.row+"-odd");dojo.place(row,_a1b);if(!_a19){_a19=true;}}},this);if(show){dojo.style(_a1a,"display","");}xwt.widget.table.ellipsizeCells&&xwt.widget.table.ellipsizeCells(this,_a1a,true);return _a19;},_unlockRange:function(_a1c){if(!_a1c){_a1c=[];}var c=this._visibleLockedContainer=="top"?"Top":"Bottom",_a1d=this["tableRow"+c+"InnerContainer"];dojo.forEach(_a1c,function(item){if(this.isLocked(item)){var id=this.store.getIdentity(item);this.deselect(item);delete this._lockedItems[id];dojo.query("."+this._css.row+"-itemid-"+this._santizeIdentityForCss(id)+"."+this._uniqueCssId+".row-locked",_a1d).orphan();var rows=dojo.query("."+this._css.row+"-itemid-"+this._santizeIdentityForCss(id)+"."+this._uniqueCssId+".row-locked",this.tableBody);dojo.forEach(rows,function(row){dojo.removeClass(row,"row-locked");});}},this);return true;},_hasLockedRows:function(){return this._visibleLockedContainer!=null;},lock:function(_a1e,_a1f){if(!_a1e){return this;}if(this.expanded&&this.expanded()){this.getExpander()._collapseRow();}if(!this._visibleLockedContainer){this._visibleLockedContainer=(_a1f?"top":"bottom");}if(!dojo.isArray(_a1e)){_a1e=[_a1e];}var _a20=this._lockRange(_a1e);if(_a20){var self=this;this.render(true);this.resize();this.onLock(_a1e);}return this;},unlock:function(_a21){if(!_a21){_a21=this.lockedItems();}var _a22=this._unlockRange(_a21);if(_a22){var c=this._visibleLockedContainer=="top"?"Top":"Bottom",_a23=this["tableRow"+c+"NodeContainer"];if(_a23){var _a24=dojo.query(".row."+this._uniqueCssId,_a23);if(!_a24||!_a24.length){dojo.style(_a23,"display","none");this._visibleLockedContainer=null;}this.render(true);this.resize();this.onUnlock();}}return this;},lockedItems:function(){var _a25=[];if(this._lockedItems){var id;for(id in this._lockedItems){_a25.push(this._lockedItems[id]);}}return _a25;},isLocked:function(item){if(this._lockedItems&&this.store.isItem(item)&&this._lockedItems[this.store.getIdentity(item)]){return true;}return false;},_mapRowsToItems:function(rows){return dojo.map(rows,function(row){return this._indexToItem[dojo.attr(row,"rowindex")];},this);},_mapRowsToIndexes:function(rows){return dojo.map(rows,function(row){return dojo.attr(row,"rowindex");},this);},_mapItemsToIndexes:function(_a26){return dojo.map(_a26,function(item){return this._idToIndex[this.store.getIdentity(item)];},this);},_mapItemsToRows:function(_a27){var idxs=this._mapItemsToIndexes(_a27),qs=dojo.map(idxs,function(idx){return ".row-"+idx+"."+this._uniqueCssId;});return dojo.query(qs.join(","),this.domNode);},_mapIndexesToItems:function(arr){return dojo.map(arr,function(idx){return this._indexToItem[idx];},this);},_mapIndexesToRows:function(arr){var qs=dojo.map(arr,function(idx){return ".row-"+idx+"."+this._uniqueCssId;});return dojo.query(qs.join(","),this.domNode);},map:function(args){if(!args.type||!args.returnType||(args.type==args.returnType)){throw new Error("xwt.widget.table.Table.map: you must define the incoming and outgoing types, and they must be different.");}var dfd=args.deferred||new dojo.Deferred(),_a28=dojo.isArray(args.data),_a29,err;this.onMap(args);try{switch(args.type){case "item":if(args.returnType=="number"){_a29=this._mapItemsToIndexes(_a28?args.data:[args.data]);}else{if(args.returnType=="node"){_a29=this._mapItemsToRows(_a28?args.data:[args.data]);}}break;case "node":if(args.returnType=="number"){_a29=this._mapRowsToIndexes(_a28?args.data:[args.data]);}else{if(args.returnType=="item"){_a29=this._mapRowsToItems(_a28?args.data:[args.data]);}}break;case "number":if(args.returnType=="item"){_a29=this._mapIndexesToItems(_a28?args.data:[args.data]);}else{if(args.returnType=="node"){_a29=this._mapIndexesToRows(_a28?args.data:[args.data]);}}break;}}catch(ex){err=ex;}if(_a29){args.returnData=_a28?_a29:_a29[0];}window.setTimeout(function(){if(err){dfd.errback(err);}else{dfd.callback(args.returnData);}},10);return dfd;},moveUp:function(){return this._move(true);},moveDown:function(){return this._move(false);},_move:function(up){var self=this;var _a2a=Math[up?"min":"max"].apply(null,dojo.map(this.selected(),function(item){return self._idToIndex[self.store.getIdentity(item)];}));if(up?_a2a>0:self._indexToItem.length-1>_a2a){var _a2b=_a2a+(up?-1:1);return this.moveTo(_a2b,up);}var dfd=new dojo.Deferred();dfd.callback();return dfd;},moveTo:function(_a2c,up){_a2c=Number(_a2c);if(this._sortedColumn){this._sortedColumn.sorted=false;delete this._sortedColumn;}var _a2d=0;var self=this;var _a2e=this.selected();if(up){dojo.forEach(_a2e,function(item){var _a2f=self._idToIndex[self.store.getIdentity(item)];if(_a2f<_a2c){_a2d++;}});}else{_a2d=1;}_a2c+=_a2d;return this._fetch(Math.floor((_a2c-1)/this.rowsPerPage)*this.rowsPerPage,1).addCallback(function(){if(!self._indexToItem[_a2c-1]&&!self._indexToItem[_a2c]){throw new Error("Target moveTo location does not exist");}self.scrollToRow(Math.max(0,_a2c-(up?_a2d:_a2e.length)));self.store.moveTo(self.selected(),self._indexToItem[_a2c-1],self._indexToItem[_a2c]);self.render(true);self.onMove(_a2c);});},refresh:function(){this.render(true);this._lastRefresh=new Date();this.onRefresh(this._lastRefresh);return this._lastRefresh;},onMap:function(args){},onLayout:function(){},onRender:function(){},onHover:function(item){},onClick:function(item){},onScroll:function(_a30,_a31,_a32){},onLock:function(row){},onUnlock:function(){},onMove:function(){},onRefresh:function(dt){},showQVHint:function(row,cell){},_closeQuickView:function(_a33){if(this.quickview){this.quickview.widget.close(_a33);}},_onContentScroll:function(_a34){if(this.quickview){this._closeQuickView(_a34);}if(document.activeElement){var elem=document.activeElement;if(elem&&elem.nodeType==1){if(elem!=dojo.body()){elem.blur();}}}var _a35=_a34.target.scrollLeft,_a36=_a34.target.scrollTop,_a37=_a35-this._lastScrollLeft,_a38=_a36-this._lastScrollTop;if(_a37!=0){this.tableHeadNodeContainer.scrollLeft=_a35;this.tableFootContainer.scrollLeft=_a35;this.tableRowTopNodeContainer.scrollLeft=_a35;this.tableRowBottomNodeContainer.scrollLeft=_a35;this._lastScrollLeft=_a35;if(dojo.isIE<8){if(dojo.style(this.tableRowTopNodeContainer,"display")!="none"){this.tableRowTopNodeContainer.className=this.tableRowTopNodeContainer.className;}if(dojo.style(this.tableRowBottomNodeContainer,"display")!="none"){if(this._ie7BottomRowFix){clearTimeout(this._ie7BottomRowFix);}this._ie7BottomRowFix=setTimeout(dojo.hitch(this,function(){this.tableRowBottomNodeContainer.className=this.tableRowBottomNodeContainer.className;}),10);}}}if(this._scrollTimeout){window.clearTimeout(this._scrollTimeout);this._scrollTimeout=null;}var self=this;this._scrollTimeout=window.setTimeout(function(){if(_a38!=0){self.scrollTo(_a36,_a38);self._lastScrollTop=_a36;}self.onScroll(_a34,_a38,_a37);this._scrollTimeout=null;},this.scrollFetchDelay);},destroy:function(){if(this._liTimer){clearInterval(this._liTimer);delete this._liTimer;}if(this._loadingIndicator){this._loadingIndicator.destroy();delete this._loadingIndicator;}try{if(this._fetchMap){for(fetchNum in this._fetchMap){var _a39=this._fetchMap[fetchNum];if(_a39){var f=_a39.storeRequest;if(f&&dojo.isFunction(f.abort)){f.abort();}}}delete this._fetchMap;}}catch(e){console.log("error in stopping fetches: "+e);}this.inherited(arguments);if(this._pages){for(var i=0,len=this._pages.length;i<len;i++){this._pages[i]=null;}}dojo.forEach(this._columns_conn,dojo.disconnect);this._source.destroy();this._overTargetBox=this._currentOverColumnNode=null;if(this.store&&this.store.declaredClass=="xwt.widget.table.Filters.FilteringWrapperStore"){if(this.store.destroy){this.store.destroy();}}},_onColumnResize:function(_a3a){this._adjustSizes(false);this._invalidatePageHeights();},_onColumnMove:function(_a3b,_a3c,_a3d){this.render(true);},_onColumnShowOrHide:function(){this._invalidatePageHeights();},_onFocus:function(e){dojo.addClass(this.domNode,"focused");this.onFocus(e);},onFocus:function(e){},_onBlur:function(){this._shiftKeyDown=false;dojo.query(".focused"+"."+this._uniqueCssId,this.domNode).removeClass("focused");dojo.removeClass(this.domNode,"focused");this.onBlur();},onBlur:function(){},onDoubleClick:function(item,t,_a3e,e){},_onHeaderClick:function(e){var _a3f=this._columns.getByNode(e.target);if(!_a3f){return;}if(this._sortable){var _a40=_a3f.sorted;if(!_a40||_a40=="descending"){this.sort(_a3f,"ascending");}else{this.sort(_a3f,"descending");}}},onLoadStart:function(){},_onLoadStart:function(){if(!this._loadingPageCount){this._loadingPageCount=1;this.onLoadStart();}else{this._loadingPageCount++;}},onLoadEnd:function(){},_onLoadEnd:function(){if(this._loadingPageCount>0){this._loadingPageCount--;}if(!this._loadingPageCount){this.onLoadEnd();}},_onLoadError:function(_a41){console.log("error in getting data");var page=this._getPage(0);if(page){this._lastScrollTop=0;this.tableContainer.scrollTop=0;this.tableContainer.scrollLeft=0;dojo.query(".row-editor-expandPane",page).orphan();page.innerHTML=this.l10n.noData;dojo.addClass(page,"no-results");window.setTimeout(dojo.hitch(this,function(){var _a42=dojo.position(page).h;var pt=this._getPageTop(0);this._pageHeights[0]=_a42;this._pageTops[1]=pt+_a42;page.style.top=pt+"px";dojo.style(page,"visibility","visible");this._calculateRowHeights();page=null;}),0);}this.onLoadError(_a41);},onLoadError:function(_a43){},onRowCountUpdate:function(_a44){},onRowExpand:function(item,row){},onRowCollapse:function(item,row){}});xwt.widget.table.Table.markupFactory=function(_a45,node,ctor,_a46){var attr=dojo.attr,trim=dojo.trim,_a47=function(node,_a48,_a49){var _a4a=attr(node,_a48);if(_a4a=="true"){_a49[_a48]=true;}else{if(_a4a=="false"){_a49[_a48]=false;}}},_a4b=function(th,idx,_a4c){var _a4d={width:parseInt(attr(th,"width"),10)};var _a4e=null;for(var i=0,node;node=th.childNodes[i];i++){if(node.nodeType==3){_a4e=node;break;}}node=null;if(_a4e){_a4d.label=trim(_a4e.nodeValue);_a4d.attr=trim(attr(th,"attr")||"")||null;}_a47(th,"locked",_a4d);_a47(th,"hidden",_a4d);_a47(th,"sortable",_a4d);_a47(th,"filterable",_a4d);_a47(th,"editable",_a4d);_a47(th,"wrapping",_a4d);var _a4f=trim(attr(th,"title")||"");if(_a4f){_a4d.title=_a4f;}var _a50=attr(th,"editWidget");if(_a50){_a4d.editWidget=dijit.byId(_a50);}var _a51=trim(attr(th,"sorted")||"");if(_a51=="ascending"||_a51=="descending"){_a4d.sorted=_a51;}else{if(_a51=="false"){_a4d.sorted=false;}}var _a52=trim(attr(th,"filterType")||"");if(_a52){_a4d.filterType=_a52;}var _a53=trim(attr(th,"align")||"");if(_a53=="left"||_a53=="center"||_a53=="right"){_a4d.alignment=_a53;}var _a54=trim(attr(th,"valign")||"");if(_a54=="top"||_a54=="middle"||_a54=="bottom"){_a4d.vAlignment=_a54;}var _a55=attr(th,"formatter");if(_a55){_a4d.formatter=dojo.getObject(_a55);}if(_a46){_a46(th,idx,_a4c,_a4d);}if(!_a4c){var _a56=dojo.query("> div",th);if(_a56.length){_a4d.children=_a56.map(function(div,idx){return _a4b(div,idx,true);});}}return _a4d;};if(!_a45.columns){var _a57=attr(node,"structure");if(_a57){_a45.columns=dojo.getObject(_a57);}else{if(node.nodeName.toLowerCase()=="table"){_a45.columns=dojo.query("thead > tr > th",node).map(function(th,idx){return _a4b(th,idx,false);});}}}var _a58=attr(node,"showIndex");if(_a58&&_a58=="true"){_a45.index=true;}var _a59=attr(node,"detailWidget");if(_a59){_a45.detailWidget=dijit.byId(_a59);}var _a5a=false;dojo.forEach(_a45.columns,function(col){if(col.editable){if(col.editable===true){_a5a=true;return;}}});var _a5b=attr(node,"selectMultiple"),_a5c=attr(node,"selectAllOption"),_a5d=attr(node,"selectModel"),_a5e=attr(node,"disableSelectAllMessage"),_a5f=attr(node,"disableSelectAllHardLimitMessage"),_a60=attr(node,"disableShiftSelectWarning"),_a61=attr(node,"selectAllLimit");selectAllHardLimit=attr(node,"selectAllHardLimit");if(_a5b||_a5d||_a5c){var _a62=_a45.select={};if(_a5b=="true"){_a62.multiple=true;}else{if(_a5b=="false"){_a62.multiple=false;}}if(_a5c=="true"){_a62.selectAllOption=true;}else{if(_a5c=="false"){_a62.selectAllOption=false;}}if(_a5a){_a5d=_a62.model="input";}else{_a62.model=_a5d;}if(_a61){_a61=parseInt(_a61,10);}if(_a61){_a62.selectAllLimit=_a61;}if(selectAllHardLimit){selectAllHardLimit=parseInt(selectAllHardLimit,10);}if(selectAllHardLimit){_a62.selectAllHardLimit=selectAllHardLimit;}if(_a5e){_a62.disableSelectAllMessage=(_a5e.toLowerCase()=="true"?true:false);}if(_a5f){_a62.disableSelectAllHardLimitMessage=(_a5f.toLowerCase()=="true"?true:false);}if(_a60){_a62.disableShiftSelectWarning=(_a60.toLowerCase()=="true"?true:false);}}var _a63=attr(node,"immediateCommit"),_a64=attr(node,"defaultItem"),_a65=attr(node,"dialogEditor");if(!_a5a){_a63=null;}if(_a5a){_a63="false";if(_a63||_a64||_a65){var edit=_a45.edit={};if(_a63=="true"){edit.immediate=true;}if(_a64){edit.itemTemplate=dojo.getObject(_a64);}if(_a65){edit.dialog=dijit.byId(_a65);}}}var _a66=attr(node,"filters");if(_a66){var _a66=_a45.filters=dojo.getObject(_a66);if(!_a66){_a66=[];_a45.filters=[];}}var _a67=attr(node,"filterDelay");if(_a67){_a45.filterDelay=parseInt(_a67,10);}var _a68=attr(node,"filterOnServer");if(_a68){_a45.filterOnServer=_a68;}var _a69=attr(node,"quickFilterDefault")||"All";if(_a69){_a45.quickFilterDefault=_a69;}var _a6a=attr(node,"queryOptions");if(_a6a){try{_a45.qOptions=dojo.getObject(_a6a)||dojo.fromJson(_a6a);}catch(e){console.warn(e);}}var _a6b=attr(node,"quickViewer");if(_a6b){var qv=_a45.quickview={};qv.widget=dijit.byId(_a6b);var evt=attr(node,"quickViewEvent");if(evt){qv.onEvent=evt;}var _a6c=attr(node,"quickViewDelay");if(_a6c){qv.delay=!isNaN(parseInt(_a6c,10))&&parseInt(_a6c,10);}var _a6d=attr(node,"quickViewHoverDisplayDelay");if(_a6d){_a6d=parseInt(_a6d,10);if(!isNaN(_a6d)){qv.quickViewHoverDisplayDelay=_a6d;}}}return new ctor(_a45,node);};}if(!dojo._hasResource["dojo.data.ItemFileWriteStore"]){dojo._hasResource["dojo.data.ItemFileWriteStore"]=true;dojo.provide("dojo.data.ItemFileWriteStore");dojo.declare("dojo.data.ItemFileWriteStore",dojo.data.ItemFileReadStore,{constructor:function(_a6e){this._features["dojo.data.api.Write"]=true;this._features["dojo.data.api.Notification"]=true;this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};if(!this._datatypeMap["Date"].serialize){this._datatypeMap["Date"].serialize=function(obj){return dojo.date.stamp.toISOString(obj,{zulu:true});};}if(_a6e&&(_a6e.referenceIntegrity===false)){this.referenceIntegrity=false;}this._saveInProgress=false;},referenceIntegrity:true,_assert:function(_a6f){if(!_a6f){throw new Error("assertion failed in ItemFileWriteStore");}},_getIdentifierAttribute:function(){var _a70=this.getFeatures()["dojo.data.api.Identity"];return _a70;},newItem:function(_a71,_a72){this._assert(!this._saveInProgress);if(!this._loadFinished){this._forceLoad();}if(typeof _a71!="object"&&typeof _a71!="undefined"){throw new Error("newItem() was passed something other than an object");}var _a73=null;var _a74=this._getIdentifierAttribute();if(_a74===Number){_a73=this._arrayOfAllItems.length;}else{_a73=_a71[_a74];if(typeof _a73==="undefined"){throw new Error("newItem() was not passed an identity for the new item");}if(dojo.isArray(_a73)){throw new Error("newItem() was not passed an single-valued identity");}}if(this._itemsByIdentity){this._assert(typeof this._itemsByIdentity[_a73]==="undefined");}this._assert(typeof this._pending._newItems[_a73]==="undefined");this._assert(typeof this._pending._deletedItems[_a73]==="undefined");var _a75={};_a75[this._storeRefPropName]=this;_a75[this._itemNumPropName]=this._arrayOfAllItems.length;if(this._itemsByIdentity){this._itemsByIdentity[_a73]=_a75;_a75[_a74]=[_a73];}this._arrayOfAllItems.push(_a75);var _a76=null;if(_a72&&_a72.parent&&_a72.attribute){_a76={item:_a72.parent,attribute:_a72.attribute,oldValue:undefined};var _a77=this.getValues(_a72.parent,_a72.attribute);if(_a77&&_a77.length>0){var _a78=_a77.slice(0,_a77.length);if(_a77.length===1){_a76.oldValue=_a77[0];}else{_a76.oldValue=_a77.slice(0,_a77.length);}_a78.push(_a75);this._setValueOrValues(_a72.parent,_a72.attribute,_a78,false);_a76.newValue=this.getValues(_a72.parent,_a72.attribute);}else{this._setValueOrValues(_a72.parent,_a72.attribute,_a75,false);_a76.newValue=_a75;}}else{_a75[this._rootItemPropName]=true;this._arrayOfTopLevelItems.push(_a75);}this._pending._newItems[_a73]=_a75;for(var key in _a71){if(key===this._storeRefPropName||key===this._itemNumPropName){throw new Error("encountered bug in ItemFileWriteStore.newItem");}var _a79=_a71[key];if(!dojo.isArray(_a79)){_a79=[_a79];}_a75[key]=_a79;if(this.referenceIntegrity){for(var i=0;i<_a79.length;i++){var val=_a79[i];if(this.isItem(val)){this._addReferenceToMap(val,_a75,key);}}}}this.onNew(_a75,_a76);return _a75;},_removeArrayElement:function(_a7a,_a7b){var _a7c=dojo.indexOf(_a7a,_a7b);if(_a7c!=-1){_a7a.splice(_a7c,1);return true;}return false;},deleteItem:function(item){this._assert(!this._saveInProgress);this._assertIsItem(item);var _a7d=item[this._itemNumPropName];var _a7e=this.getIdentity(item);if(this.referenceIntegrity){var _a7f=this.getAttributes(item);if(item[this._reverseRefMap]){item["backup_"+this._reverseRefMap]=dojo.clone(item[this._reverseRefMap]);}dojo.forEach(_a7f,function(_a80){dojo.forEach(this.getValues(item,_a80),function(_a81){if(this.isItem(_a81)){if(!item["backupRefs_"+this._reverseRefMap]){item["backupRefs_"+this._reverseRefMap]=[];}item["backupRefs_"+this._reverseRefMap].push({id:this.getIdentity(_a81),attr:_a80});this._removeReferenceFromMap(_a81,item,_a80);}},this);},this);var _a82=item[this._reverseRefMap];if(_a82){for(var _a83 in _a82){var _a84=null;if(this._itemsByIdentity){_a84=this._itemsByIdentity[_a83];}else{_a84=this._arrayOfAllItems[_a83];}if(_a84){for(var _a85 in _a82[_a83]){var _a86=this.getValues(_a84,_a85)||[];var _a87=dojo.filter(_a86,function(_a88){return !(this.isItem(_a88)&&this.getIdentity(_a88)==_a7e);},this);this._removeReferenceFromMap(item,_a84,_a85);if(_a87.length<_a86.length){this._setValueOrValues(_a84,_a85,_a87,true);}}}}}}this._arrayOfAllItems[_a7d]=null;item[this._storeRefPropName]=null;if(this._itemsByIdentity){delete this._itemsByIdentity[_a7e];}this._pending._deletedItems[_a7e]=item;if(item[this._rootItemPropName]){this._removeArrayElement(this._arrayOfTopLevelItems,item);}this.onDelete(item);return true;},setValue:function(item,_a89,_a8a){return this._setValueOrValues(item,_a89,_a8a,true);},setValues:function(item,_a8b,_a8c){return this._setValueOrValues(item,_a8b,_a8c,true);},unsetAttribute:function(item,_a8d){return this._setValueOrValues(item,_a8d,[],true);},_setValueOrValues:function(item,_a8e,_a8f,_a90){this._assert(!this._saveInProgress);this._assertIsItem(item);this._assert(dojo.isString(_a8e));this._assert(typeof _a8f!=="undefined");var _a91=this._getIdentifierAttribute();if(_a8e==_a91){throw new Error("ItemFileWriteStore does not have support for changing the value of an item's identifier.");}var _a92=this._getValueOrValues(item,_a8e);var _a93=this.getIdentity(item);if(!this._pending._modifiedItems[_a93]){var _a94={};for(var key in item){if((key===this._storeRefPropName)||(key===this._itemNumPropName)||(key===this._rootItemPropName)){_a94[key]=item[key];}else{if(key===this._reverseRefMap){_a94[key]=dojo.clone(item[key]);}else{_a94[key]=item[key].slice(0,item[key].length);}}}this._pending._modifiedItems[_a93]=_a94;}var _a95=false;if(dojo.isArray(_a8f)&&_a8f.length===0){_a95=delete item[_a8e];_a8f=undefined;if(this.referenceIntegrity&&_a92){var _a96=_a92;if(!dojo.isArray(_a96)){_a96=[_a96];}for(var i=0;i<_a96.length;i++){var _a97=_a96[i];if(this.isItem(_a97)){this._removeReferenceFromMap(_a97,item,_a8e);}}}}else{var _a98;if(dojo.isArray(_a8f)){var _a99=_a8f;_a98=_a8f.slice(0,_a8f.length);}else{_a98=[_a8f];}if(this.referenceIntegrity){if(_a92){var _a96=_a92;if(!dojo.isArray(_a96)){_a96=[_a96];}var map={};dojo.forEach(_a96,function(_a9a){if(this.isItem(_a9a)){var id=this.getIdentity(_a9a);map[id.toString()]=true;}},this);dojo.forEach(_a98,function(_a9b){if(this.isItem(_a9b)){var id=this.getIdentity(_a9b);if(map[id.toString()]){delete map[id.toString()];}else{this._addReferenceToMap(_a9b,item,_a8e);}}},this);for(var rId in map){var _a9c;if(this._itemsByIdentity){_a9c=this._itemsByIdentity[rId];}else{_a9c=this._arrayOfAllItems[rId];}this._removeReferenceFromMap(_a9c,item,_a8e);}}else{for(var i=0;i<_a98.length;i++){var _a97=_a98[i];if(this.isItem(_a97)){this._addReferenceToMap(_a97,item,_a8e);}}}}item[_a8e]=_a98;_a95=true;}if(_a90){this.onSet(item,_a8e,_a92,_a8f);}return _a95;},_addReferenceToMap:function(_a9d,_a9e,_a9f){var _aa0=this.getIdentity(_a9e);var _aa1=_a9d[this._reverseRefMap];if(!_aa1){_aa1=_a9d[this._reverseRefMap]={};}var _aa2=_aa1[_aa0];if(!_aa2){_aa2=_aa1[_aa0]={};}_aa2[_a9f]=true;},_removeReferenceFromMap:function(_aa3,_aa4,_aa5){var _aa6=this.getIdentity(_aa4);var _aa7=_aa3[this._reverseRefMap];var _aa8;if(_aa7){for(_aa8 in _aa7){if(_aa8==_aa6){delete _aa7[_aa8][_aa5];if(this._isEmpty(_aa7[_aa8])){delete _aa7[_aa8];}}}if(this._isEmpty(_aa7)){delete _aa3[this._reverseRefMap];}}},_dumpReferenceMap:function(){var i;for(i=0;i<this._arrayOfAllItems.length;i++){var item=this._arrayOfAllItems[i];if(item&&item[this._reverseRefMap]){console.log("Item: ["+this.getIdentity(item)+"] is referenced by: "+dojo.toJson(item[this._reverseRefMap]));}}},_getValueOrValues:function(item,_aa9){var _aaa=undefined;if(this.hasAttribute(item,_aa9)){var _aab=this.getValues(item,_aa9);if(_aab.length==1){_aaa=_aab[0];}else{_aaa=_aab;}}return _aaa;},_flatten:function(_aac){if(this.isItem(_aac)){var item=_aac;var _aad=this.getIdentity(item);var _aae={_reference:_aad};return _aae;}else{if(typeof _aac==="object"){for(var type in this._datatypeMap){var _aaf=this._datatypeMap[type];if(dojo.isObject(_aaf)&&!dojo.isFunction(_aaf)){if(_aac instanceof _aaf.type){if(!_aaf.serialize){throw new Error("ItemFileWriteStore:  No serializer defined for type mapping: ["+type+"]");}return {_type:type,_value:_aaf.serialize(_aac)};}}else{if(_aac instanceof _aaf){return {_type:type,_value:_aac.toString()};}}}}return _aac;}},_getNewFileContentString:function(){var _ab0={};var _ab1=this._getIdentifierAttribute();if(_ab1!==Number){_ab0.identifier=_ab1;}if(this._labelAttr){_ab0.label=this._labelAttr;}_ab0.items=[];for(var i=0;i<this._arrayOfAllItems.length;++i){var item=this._arrayOfAllItems[i];if(item!==null){var _ab2={};for(var key in item){if(key!==this._storeRefPropName&&key!==this._itemNumPropName&&key!==this._reverseRefMap&&key!==this._rootItemPropName){var _ab3=key;var _ab4=this.getValues(item,_ab3);if(_ab4.length==1){_ab2[_ab3]=this._flatten(_ab4[0]);}else{var _ab5=[];for(var j=0;j<_ab4.length;++j){_ab5.push(this._flatten(_ab4[j]));_ab2[_ab3]=_ab5;}}}}_ab0.items.push(_ab2);}}var _ab6=true;return dojo.toJson(_ab0,_ab6);},_isEmpty:function(_ab7){var _ab8=true;if(dojo.isObject(_ab7)){var i;for(i in _ab7){_ab8=false;break;}}else{if(dojo.isArray(_ab7)){if(_ab7.length>0){_ab8=false;}}}return _ab8;},save:function(_ab9){this._assert(!this._saveInProgress);this._saveInProgress=true;var self=this;var _aba=function(){self._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};self._saveInProgress=false;if(_ab9&&_ab9.onComplete){var _abb=_ab9.scope||dojo.global;_ab9.onComplete.call(_abb);}};var _abc=function(err){self._saveInProgress=false;if(_ab9&&_ab9.onError){var _abd=_ab9.scope||dojo.global;_ab9.onError.call(_abd,err);}};if(this._saveEverything){var _abe=this._getNewFileContentString();this._saveEverything(_aba,_abc,_abe);}if(this._saveCustom){this._saveCustom(_aba,_abc);}if(!this._saveEverything&&!this._saveCustom){_aba();}},revert:function(){this._assert(!this._saveInProgress);var _abf;for(_abf in this._pending._modifiedItems){var _ac0=this._pending._modifiedItems[_abf];var _ac1=null;if(this._itemsByIdentity){_ac1=this._itemsByIdentity[_abf];}else{_ac1=this._arrayOfAllItems[_abf];}_ac0[this._storeRefPropName]=this;for(key in _ac1){delete _ac1[key];}dojo.mixin(_ac1,_ac0);}var _ac2;for(_abf in this._pending._deletedItems){_ac2=this._pending._deletedItems[_abf];_ac2[this._storeRefPropName]=this;var _ac3=_ac2[this._itemNumPropName];if(_ac2["backup_"+this._reverseRefMap]){_ac2[this._reverseRefMap]=_ac2["backup_"+this._reverseRefMap];delete _ac2["backup_"+this._reverseRefMap];}this._arrayOfAllItems[_ac3]=_ac2;if(this._itemsByIdentity){this._itemsByIdentity[_abf]=_ac2;}if(_ac2[this._rootItemPropName]){this._arrayOfTopLevelItems.push(_ac2);}}for(_abf in this._pending._deletedItems){_ac2=this._pending._deletedItems[_abf];if(_ac2["backupRefs_"+this._reverseRefMap]){dojo.forEach(_ac2["backupRefs_"+this._reverseRefMap],function(_ac4){var _ac5;if(this._itemsByIdentity){_ac5=this._itemsByIdentity[_ac4.id];}else{_ac5=this._arrayOfAllItems[_ac4.id];}this._addReferenceToMap(_ac5,_ac2,_ac4.attr);},this);delete _ac2["backupRefs_"+this._reverseRefMap];}}for(_abf in this._pending._newItems){var _ac6=this._pending._newItems[_abf];_ac6[this._storeRefPropName]=null;this._arrayOfAllItems[_ac6[this._itemNumPropName]]=null;if(_ac6[this._rootItemPropName]){this._removeArrayElement(this._arrayOfTopLevelItems,_ac6);}if(this._itemsByIdentity){delete this._itemsByIdentity[_abf];}}this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};return true;},isDirty:function(item){if(item){var _ac7=this.getIdentity(item);return new Boolean(this._pending._newItems[_ac7]||this._pending._modifiedItems[_ac7]||this._pending._deletedItems[_ac7]).valueOf();}else{if(!this._isEmpty(this._pending._newItems)||!this._isEmpty(this._pending._modifiedItems)||!this._isEmpty(this._pending._deletedItems)){return true;}return false;}},onSet:function(item,_ac8,_ac9,_aca){},onNew:function(_acb,_acc){},onDelete:function(_acd){},close:function(_ace){if(this.clearOnClose){if(!this.isDirty()){this.inherited(arguments);}else{throw new Error("dojo.data.ItemFileWriteStore: There are unsaved changes present in the store.  Please save or revert the changes before invoking close.");}}}});}if(!dojo._hasResource["dijit.form.NumberTextBox"]){dojo._hasResource["dijit.form.NumberTextBox"]=true;dojo.provide("dijit.form.NumberTextBox");dojo.declare("dijit.form.NumberTextBoxMixin",null,{regExpGen:dojo.number.regexp,value:NaN,editOptions:{pattern:"#.######"},_formatter:dojo.number.format,postMixInProperties:function(){var _acf=typeof this.constraints.places=="number"?this.constraints.places:0;if(_acf){_acf++;}if(typeof this.constraints.max!="number"){this.constraints.max=9*Math.pow(10,15-_acf);}if(typeof this.constraints.min!="number"){this.constraints.min=-9*Math.pow(10,15-_acf);}this.inherited(arguments);},_onFocus:function(){if(this.disabled){return;}var val=this.attr("value");if(typeof val=="number"&&!isNaN(val)){var _ad0=this.format(val,this.constraints);if(_ad0!==undefined){this.textbox.value=_ad0;}}this.inherited(arguments);},format:function(_ad1,_ad2){if(typeof _ad1!="number"){return String(_ad1);}if(isNaN(_ad1)){return "";}if(("rangeCheck" in this)&&!this.rangeCheck(_ad1,_ad2)){return String(_ad1);}if(this.editOptions&&this._focused){_ad2=dojo.mixin({},_ad2,this.editOptions);}return this._formatter(_ad1,_ad2);},parse:dojo.number.parse,_getDisplayedValueAttr:function(){var v=this.inherited(arguments);return isNaN(v)?this.textbox.value:v;},filter:function(_ad3){return (_ad3===null||_ad3===""||_ad3===undefined)?NaN:this.inherited(arguments);},serialize:function(_ad4,_ad5){return (typeof _ad4!="number"||isNaN(_ad4))?"":this.inherited(arguments);},_setValueAttr:function(_ad6,_ad7,_ad8){if(_ad6!==undefined&&_ad8===undefined){if(typeof _ad6=="number"){if(isNaN(_ad6)){_ad8="";}else{if(("rangeCheck" in this)&&!this.rangeCheck(_ad6,this.constraints)){_ad8=String(_ad6);}}}else{if(!_ad6){_ad8="";_ad6=NaN;}else{_ad8=String(_ad6);_ad6=undefined;}}}this.inherited(arguments,[_ad6,_ad7,_ad8]);},_getValueAttr:function(){var v=this.inherited(arguments);if(isNaN(v)&&this.textbox.value!==""){if(this.constraints.exponent!==false&&/\de[-+]?|\d/i.test(this.textbox.value)&&(new RegExp("^"+dojo.number._realNumberRegexp(dojo.mixin({},this.constraints))+"$").test(this.textbox.value))){var n=Number(this.textbox.value);return isNaN(n)?undefined:n;}else{return undefined;}}else{return v;}},isValid:function(_ad9){if(!this._focused||this._isEmpty(this.textbox.value)){return this.inherited(arguments);}else{var v=this.attr("value");if(!isNaN(v)&&this.rangeCheck(v,this.constraints)){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)){return true;}else{return this.inherited(arguments);}}else{return false;}}}});dojo.declare("dijit.form.NumberTextBox",[dijit.form.RangeBoundTextBox,dijit.form.NumberTextBoxMixin],{});}if(!dojo._hasResource["dojox.data.AndOrReadStore"]){dojo._hasResource["dojox.data.AndOrReadStore"]=true;dojo.provide("dojox.data.AndOrReadStore");dojo.declare("dojox.data.AndOrReadStore",null,{constructor:function(_ada){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._jsonFileUrl=_ada.url;this._ccUrl=_ada.url;this.url=_ada.url;this._jsonData=_ada.data;this.data=null;this._datatypeMap=_ada.typeMap||{};if(!this._datatypeMap["Date"]){this._datatypeMap["Date"]={type:Date,deserialize:function(_adb){return dojo.date.stamp.fromISOString(_adb);}};}this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=false;this._queuedFetches=[];if(_ada.urlPreventCache!==undefined){this.urlPreventCache=_ada.urlPreventCache?true:false;}if(_ada.hierarchical!==undefined){this.hierarchical=_ada.hierarchical?true:false;}if(_ada.clearOnClose){this.clearOnClose=true;}},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:false,urlPreventCache:false,hierarchical:true,_assertIsItem:function(item){if(!this.isItem(item)){throw new Error("dojox.data.AndOrReadStore: Invalid item argument.");}},_assertIsAttribute:function(_adc){if(typeof _adc!=="string"){throw new Error("dojox.data.AndOrReadStore: Invalid attribute argument.");}},getValue:function(item,_add,_ade){var _adf=this.getValues(item,_add);return (_adf.length>0)?_adf[0]:_ade;},getValues:function(item,_ae0){this._assertIsItem(item);this._assertIsAttribute(_ae0);return item[_ae0]||[];},getAttributes:function(item){this._assertIsItem(item);var _ae1=[];for(var key in item){if((key!==this._storeRefPropName)&&(key!==this._itemNumPropName)&&(key!==this._rootItemPropName)&&(key!==this._reverseRefMap)){_ae1.push(key);}}return _ae1;},hasAttribute:function(item,_ae2){this._assertIsItem(item);this._assertIsAttribute(_ae2);return (_ae2 in item);},containsValue:function(item,_ae3,_ae4){var _ae5=undefined;if(typeof _ae4==="string"){_ae5=dojo.data.util.filter.patternToRegExp(_ae4,false);}return this._containsValue(item,_ae3,_ae4,_ae5);},_containsValue:function(item,_ae6,_ae7,_ae8){return dojo.some(this.getValues(item,_ae6),function(_ae9){if(_ae9!==null&&!dojo.isObject(_ae9)&&_ae8){if(_ae9.toString().match(_ae8)){return true;}}else{if(_ae7===_ae9){return true;}}});},isItem:function(_aea){if(_aea&&_aea[this._storeRefPropName]===this){if(this._arrayOfAllItems[_aea[this._itemNumPropName]]===_aea){return true;}}return false;},isItemLoaded:function(_aeb){return this.isItem(_aeb);},loadItem:function(_aec){this._assertIsItem(_aec.item);},getFeatures:function(){return this._features;},getLabel:function(item){if(this._labelAttr&&this.isItem(item)){return this.getValue(item,this._labelAttr);}return undefined;},getLabelAttributes:function(item){if(this._labelAttr){return [this._labelAttr];}return null;},_fetchItems:function(_aed,_aee,_aef){var self=this;var _af0=function(_af1,_af2){var _af3=[];if(_af1.query){var _af4=dojo.fromJson(dojo.toJson(_af1.query));if(typeof _af4=="object"){var _af5=0;var p;for(p in _af4){_af5++;}if(_af5>1&&_af4.complexQuery){var cq=_af4.complexQuery;var _af6=false;for(p in _af4){if(p!=="complexQuery"){if(!_af6){cq="( "+cq+" )";_af6=true;}var v=_af1.query[p];if(dojo.isString(v)){v="'"+v+"'";}cq+=" AND "+p+":"+v;delete _af4[p];}}_af4.complexQuery=cq;}}var _af7=_af1.queryOptions?_af1.queryOptions.ignoreCase:false;if(typeof _af4!="string"){_af4=dojo.toJson(_af4);_af4=_af4.replace(/\\\\/g,"\\");}_af4=_af4.replace(/\\"/g,"\"");var _af8=dojo.trim(_af4.replace(/{|}/g,""));var pos2,i;if(_af8.match(/"? *complexQuery *"?:/)){_af8=dojo.trim(_af8.replace(/"?\s*complexQuery\s*"?:/,""));var _af9=["'","\""];var pos1,_afa;var flag=false;for(i=0;i<_af9.length;i++){pos1=_af8.indexOf(_af9[i]);pos2=_af8.indexOf(_af9[i],1);_afa=_af8.indexOf(":",1);if(pos1===0&&pos2!=-1&&_afa<pos2){flag=true;break;}}if(flag){_af8=_af8.replace(/^\"|^\'|\"$|\'$/g,"");}}var _afb=_af8;var _afc=/^,|^NOT |^AND |^OR |^\(|^\)|^!|^&&|^\|\|/i;var _afd="";var op="";var val="";var pos=-1;var err=false;var key="";var _afe="";var tok="";pos2=-1;for(i=0;i<_af2.length;++i){var _aff=true;var _b00=_af2[i];if(_b00===null){_aff=false;}else{_af8=_afb;_afd="";while(_af8.length>0&&!err){op=_af8.match(_afc);while(op&&!err){_af8=dojo.trim(_af8.replace(op[0],""));op=dojo.trim(op[0]).toUpperCase();op=op=="NOT"?"!":op=="AND"||op==","?"&&":op=="OR"?"||":op;op=" "+op+" ";_afd+=op;op=_af8.match(_afc);}if(_af8.length>0){pos=_af8.indexOf(":");if(pos==-1){err=true;break;}else{key=dojo.trim(_af8.substring(0,pos).replace(/\"|\'/g,""));_af8=dojo.trim(_af8.substring(pos+1));tok=_af8.match(/^\'|^\"/);if(tok){tok=tok[0];pos=_af8.indexOf(tok);pos2=_af8.indexOf(tok,pos+1);if(pos2==-1){err=true;break;}_afe=_af8.substring(pos+1,pos2);if(pos2==_af8.length-1){_af8="";}else{_af8=dojo.trim(_af8.substring(pos2+1));}_afd+=self._containsValue(_b00,key,_afe,dojo.data.util.filter.patternToRegExp(_afe,_af7));}else{tok=_af8.match(/\s|\)|,/);if(tok){var pos3=new Array(tok.length);for(var j=0;j<tok.length;j++){pos3[j]=_af8.indexOf(tok[j]);}pos=pos3[0];if(pos3.length>1){for(var j=1;j<pos3.length;j++){pos=Math.min(pos,pos3[j]);}}_afe=dojo.trim(_af8.substring(0,pos));_af8=dojo.trim(_af8.substring(pos));}else{_afe=dojo.trim(_af8);_af8="";}_afd+=self._containsValue(_b00,key,_afe,dojo.data.util.filter.patternToRegExp(_afe,_af7));}}}}_aff=eval(_afd);}if(_aff){_af3.push(_b00);}}if(err){_af3=[];console.log("The store's _fetchItems failed, probably due to a syntax error in query.");}_aee(_af3,_af1);}else{for(var i=0;i<_af2.length;++i){var item=_af2[i];if(item!==null){_af3.push(item);}}_aee(_af3,_af1);}};if(this._loadFinished){_af0(_aed,this._getItemsArray(_aed.queryOptions));}else{if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojox.data.AndOrReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_aed,filter:_af0});}else{this._loadInProgress=true;var _b01={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache};var _b02=dojo.xhrGet(_b01);_b02.addCallback(function(data){try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;_af0(_aed,self._getItemsArray(_aed.queryOptions));self._handleQueuedFetches();}catch(e){self._loadFinished=true;self._loadInProgress=false;_aef(e,_aed);}});_b02.addErrback(function(_b03){self._loadInProgress=false;_aef(_b03,_aed);});var _b04=null;if(_aed.abort){_b04=_aed.abort;}_aed.abort=function(){var df=_b02;if(df&&df.fired===-1){df.cancel();df=null;}if(_b04){_b04.call(_aed);}};}}else{if(this._jsonData){try{this._loadFinished=true;this._getItemsFromLoadedData(this._jsonData);this._jsonData=null;_af0(_aed,this._getItemsArray(_aed.queryOptions));}catch(e){_aef(e,_aed);}}else{_aef(new Error("dojox.data.AndOrReadStore: No JSON source data was provided as either URL or a nested Javascript object."),_aed);}}}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _b05=this._queuedFetches[i];var _b06=_b05.args;var _b07=_b05.filter;if(_b07){_b07(_b06,this._getItemsArray(_b06.queryOptions));}else{this.fetchItemByIdentity(_b06);}}this._queuedFetches=[];}},_getItemsArray:function(_b08){if(_b08&&_b08.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},close:function(_b09){if(this.clearOnClose&&this._loadFinished&&!this._loadInProgress){if(((this._jsonFileUrl==""||this._jsonFileUrl==null)&&(this.url==""||this.url==null))&&this.data==null){console.debug("dojox.data.AndOrReadStore: WARNING!  Data reload "+" information has not been provided."+"  Please set 'url' or 'data' to the appropriate value before"+" the next fetch");}this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._itemsByIdentity=null;this._loadInProgress=false;this._queuedFetches=[];}},_getItemsFromLoadedData:function(_b0a){var self=this;function _b0b(_b0c){var _b0d=((_b0c!==null)&&(typeof _b0c==="object")&&(!dojo.isArray(_b0c))&&(!dojo.isFunction(_b0c))&&(_b0c.constructor==Object)&&(typeof _b0c._reference==="undefined")&&(typeof _b0c._type==="undefined")&&(typeof _b0c._value==="undefined")&&self.hierarchical);return _b0d;};function _b0e(_b0f){self._arrayOfAllItems.push(_b0f);for(var _b10 in _b0f){var _b11=_b0f[_b10];if(_b11){if(dojo.isArray(_b11)){var _b12=_b11;for(var k=0;k<_b12.length;++k){var _b13=_b12[k];if(_b0b(_b13)){_b0e(_b13);}}}else{if(_b0b(_b11)){_b0e(_b11);}}}}};this._labelAttr=_b0a.label;var i;var item;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=_b0a.items;for(i=0;i<this._arrayOfTopLevelItems.length;++i){item=this._arrayOfTopLevelItems[i];_b0e(item);item[this._rootItemPropName]=true;}var _b14={};var key;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){if(key!==this._rootItemPropName){var _b15=item[key];if(_b15!==null){if(!dojo.isArray(_b15)){item[key]=[_b15];}}else{item[key]=[null];}}_b14[key]=key;}}while(_b14[this._storeRefPropName]){this._storeRefPropName+="_";}while(_b14[this._itemNumPropName]){this._itemNumPropName+="_";}while(_b14[this._reverseRefMap]){this._reverseRefMap+="_";}var _b16;var _b17=_b0a.identifier;if(_b17){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=_b17;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];_b16=item[_b17];var _b18=_b16[0];if(!this._itemsByIdentity[_b18]){this._itemsByIdentity[_b18]=item;}else{if(this._jsonFileUrl){throw new Error("dojox.data.AndOrReadStore:  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+_b17+"].  Value collided: ["+_b18+"]");}else{if(this._jsonData){throw new Error("dojox.data.AndOrReadStore:  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+_b17+"].  Value collided: ["+_b18+"]");}}}}}else{this._features["dojo.data.api.Identity"]=Number;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];item[this._storeRefPropName]=this;item[this._itemNumPropName]=i;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){_b16=item[key];for(var j=0;j<_b16.length;++j){_b15=_b16[j];if(_b15!==null&&typeof _b15=="object"){if(("_type" in _b15)&&("_value" in _b15)){var type=_b15._type;var _b19=this._datatypeMap[type];if(!_b19){throw new Error("dojox.data.AndOrReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+type+"'");}else{if(dojo.isFunction(_b19)){_b16[j]=new _b19(_b15._value);}else{if(dojo.isFunction(_b19.deserialize)){_b16[j]=_b19.deserialize(_b15._value);}else{throw new Error("dojox.data.AndOrReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");}}}}if(_b15._reference){var _b1a=_b15._reference;if(!dojo.isObject(_b1a)){_b16[j]=this._itemsByIdentity[_b1a];}else{for(var k=0;k<this._arrayOfAllItems.length;++k){var _b1b=this._arrayOfAllItems[k];var _b1c=true;for(var _b1d in _b1a){if(_b1b[_b1d]!=_b1a[_b1d]){_b1c=false;}}if(_b1c){_b16[j]=_b1b;}}}if(this.referenceIntegrity){var _b1e=_b16[j];if(this.isItem(_b1e)){this._addReferenceToMap(_b1e,item,key);}}}else{if(this.isItem(_b15)){if(this.referenceIntegrity){this._addReferenceToMap(_b15,item,key);}}}}}}}},_addReferenceToMap:function(_b1f,_b20,_b21){},getIdentity:function(item){var _b22=this._features["dojo.data.api.Identity"];if(_b22===Number){return item[this._itemNumPropName];}else{var _b23=item[_b22];if(_b23){return _b23[0];}}return null;},fetchItemByIdentity:function(_b24){if(!this._loadFinished){var self=this;if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojox.data.AndOrReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_b24});}else{this._loadInProgress=true;var _b25={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache};var _b26=dojo.xhrGet(_b25);_b26.addCallback(function(data){var _b27=_b24.scope?_b24.scope:dojo.global;try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;var item=self._getItemByIdentity(_b24.identity);if(_b24.onItem){_b24.onItem.call(_b27,item);}self._handleQueuedFetches();}catch(error){self._loadInProgress=false;if(_b24.onError){_b24.onError.call(_b27,error);}}});_b26.addErrback(function(_b28){self._loadInProgress=false;if(_b24.onError){var _b29=_b24.scope?_b24.scope:dojo.global;_b24.onError.call(_b29,_b28);}});}}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;var item=self._getItemByIdentity(_b24.identity);if(_b24.onItem){var _b2a=_b24.scope?_b24.scope:dojo.global;_b24.onItem.call(_b2a,item);}}}}else{var item=this._getItemByIdentity(_b24.identity);if(_b24.onItem){var _b2a=_b24.scope?_b24.scope:dojo.global;_b24.onItem.call(_b2a,item);}}},_getItemByIdentity:function(_b2b){var item=null;if(this._itemsByIdentity){item=this._itemsByIdentity[_b2b];}else{item=this._arrayOfAllItems[_b2b];}if(item===undefined){item=null;}return item;},getIdentityAttributes:function(item){var _b2c=this._features["dojo.data.api.Identity"];if(_b2c===Number){return null;}else{return [_b2c];}},_forceLoad:function(){var self=this;if(this._jsonFileUrl!==this._ccUrl){dojo.deprecated("dojox.data.AndOrReadStore: ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");this._ccUrl=this._jsonFileUrl;this.url=this._jsonFileUrl;}else{if(this.url!==this._ccUrl){this._jsonFileUrl=this.url;this._ccUrl=this.url;}}if(this.data!=null&&this._jsonData==null){this._jsonData=this.data;this.data=null;}if(this._jsonFileUrl){var _b2d={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,sync:true};var _b2e=dojo.xhrGet(_b2d);_b2e.addCallback(function(data){try{if(self._loadInProgress!==true&&!self._loadFinished){self._getItemsFromLoadedData(data);self._loadFinished=true;}else{if(self._loadInProgress){throw new Error("dojox.data.AndOrReadStore:  Unable to perform a synchronous load, an async load is in progress.");}}}catch(e){console.log(e);throw e;}});_b2e.addErrback(function(_b2f){throw _b2f;});}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;}}}});dojo.extend(dojox.data.AndOrReadStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["xwt.widget.table.Filter"]){dojo._hasResource["xwt.widget.table.Filter"]=true;dojo.provide("xwt.widget.table.Filter");dojo.declare("xwt.widget.table.Filters",null,{_store:null,_qOptions:null,constructor:function(_b30,_b31){this._store=_b30;this._qOptions=_b31;this.map=dojo.i18n.getLocalization("xwt.widget.table","Filter");},map:null,get:function(name){for(var f in this.map){if(this.map[f]==name&&(f in this)){return this[f];}}return null;},toDojoQuery:function(_b32,_b33){var q={};var _b34=_b33;var _b35=function(q,attr,val){if(attr in q){var v=q[attr];if(!dojo.isArray(v)){q[attr]=[v];}q[attr].push(val);}else{q[attr]=val;}};dojo.forEach(_b32,function(_b36){var fn=_b36.op;switch(fn){case "contains":_b35(q,_b36.attr,"*"+_b36.value+"*");break;case "starts-with":_b35(q,_b36.attr,_b36.value+"*");break;case "ends-with":_b35(q,_b36.attr,"*"+_b36.value);break;case "is-empty":_b35(q,_b36.attr,"");break;case "is-not-empty":_b35(q,_b36.attr,"*?");break;case "equals":_b35(q,_b36.attr,_b36.value);break;case "not-contains":if(_b34){_b35(q,_b36.attr,"^ "+_b36.value);}break;case "not-equals":if(_b34){_b35(q,_b36.attr,"ne "+_b36.value);}break;case "greater-than":if(_b34){_b35(q,_b36.attr,"gt"+_b36.value);}break;case "less-than":if(_b34){_b35(q,_b36.attr,"lt"+_b36.value);}break;case "greater-equals":if(_b34){_b35(q,_b36.attr,"ge"+_b36.value);}break;case "less-equals":if(_b34){_b35(q,_b36.attr,"le"+_b36.value);}break;case "is-true":if(_b34){_b35(q,_b36.attr,"is-true");}break;case "is-false":if(_b34){_b35(q,_b36.attr,"is-false");}break;}});return q;},"contains":function(data,attr,_b37){var rExp=null;if(this._qOptions){rExp=dojo.data.util.filter.patternToRegExp("*"+_b37+"*",this._qOptions.ignoreCase);}return dojo.filter(data,function(item){var _b38=false;if(this._store.hasAttribute(item,attr)){if(rExp){_b38=rExp.test(""+this._store.getValue(item,attr));}else{_b38=(""+this._store.getValue(item,attr)).indexOf(_b37)>-1;}}return _b38;},this);},"not-contains":function(data,attr,_b39){var rExp=null;if(this._qOptions){rExp=dojo.data.util.filter.patternToRegExp("*"+_b39+"*",this._qOptions.ignoreCase);}return dojo.filter(data,function(item){var _b3a=false;if(this._store.hasAttribute(item,attr)){if(rExp){_b3a=(rExp.test(""+this._store.getValue(item,attr)));_b3a=!_b3a;}else{_b3a=(""+this._store.getValue(item,attr)).indexOf(_b39)==-1;}}return _b3a;},this);},"starts-with":function(data,attr,_b3b){var rExp=null;if(this._qOptions){rExp=dojo.data.util.filter.patternToRegExp(_b3b+"*",this._qOptions.ignoreCase);}return dojo.filter(data,function(item){var _b3c=false;if(this._store.hasAttribute(item,attr)){if(rExp){_b3c=rExp.test(""+this._store.getValue(item,attr));}else{_b3c=((""+this._store.getValue(item,attr)).indexOf(_b3b)==0);}}return _b3c;},this);},"ends-with":function(data,attr,_b3d){var rExp=null;if(this._qOptions){rExp=dojo.data.util.filter.patternToRegExp("*"+_b3d,this._qOptions.ignoreCase);}return dojo.filter(data,function(item){var _b3e=false;if(this._store.hasAttribute(item,attr)){if(rExp){_b3e=rExp.test(""+this._store.getValue(item,attr));}else{var v=""+this._store.getValue(item,attr);_b3e=(v.lastIndexOf(_b3d)==(v.length-_b3d.length));}}return _b3e;},this);},"is-empty":function(data,attr,_b3f){return dojo.filter(data,function(item){return !(this._store.hasAttribute(item,attr))||(""+this._store.getValue(item,attr)).length==0;},this);},"is-not-empty":function(data,attr,_b40){return dojo.filter(data,function(item){return (this._store.hasAttribute(item,attr))&&(""+this._store.getValue(item,attr)).length>0;},this);},"equals":function(data,attr,_b41){return dojo.filter(data,function(item){var _b42=false;if(this._store.hasAttribute(item,attr)){var _b43=this._store.getValue(item,attr);var _b42=(_b43==_b41);if(!_b42&&!dojo.isObject(_b43)&&!dojo.isObject(_b41)&&(typeof _b43!=typeof _b41)){_b43+="";_b41+="";_b42=(_b43==_b41);}}return _b42;},this);},"not-equals":function(data,attr,_b44){return dojo.filter(data,function(item){var _b45=true;if(this._store.hasAttribute(item,attr)){var _b46=this._store.getValue(item,attr);var _b45=(_b46!=_b44);if(!_b45&&!dojo.isObject(_b46)&&!dojo.isObject(_b44)&&(typeof _b46!=typeof _b44)){_b46+="";_b44+="";_b45=(_b46!=_b44);}}return _b45;},this);},"greater-than":function(data,attr,_b47){return dojo.filter(data,function(item){return (this._store.hasAttribute(item,attr))&&this._store.getValue(item,attr)>_b47;},this);},"less-than":function(data,attr,_b48){return dojo.filter(data,function(item){return (this._store.hasAttribute(item,attr))&&this._store.getValue(item,attr)<_b48;},this);},"greater-equals":function(data,attr,_b49){return dojo.filter(data,function(item){return (this._store.hasAttribute(item,attr))&&this._store.getValue(item,attr)>=_b49;},this);},"less-equals":function(data,attr,_b4a){return dojo.filter(data,function(item){return (this._store.hasAttribute(item,attr))&&this._store.getValue(item,attr)<=_b4a;},this);},"is-true":function(data,attr,_b4b){return dojo.filter(data,function(item){return (this._store.hasAttribute(item,attr))&&Boolean(this._store.getValue(item,attr))===true;},this);},"is-false":function(data,attr,_b4c){return dojo.filter(data,function(item){return (this._store.hasAttribute(item,attr))&&Boolean(this._store.getValue(item,attr))===false;},this);}});xwt.widget.table.Filters.filteringFetch=function(args){if(this._features){this._features["xwt.widget.table.Filters.filteringFetch"]=true;}if(args.filter){var _b4d=dojo.toJson(args.sort);var _b4e="";if(args.filter&&args.filter.preFilterQuery){var pfq=args.filter.preFilterQuery;if(dojo.isObject(pfq)||dojo.isArray(pfq)){_b4e="_"+dojo.toJson(pfq);}else{_b4e="_"+pfq;}}var _b4f;if(!_b4f){var _b50=new xwt.widget.table.FilterEngine(this,null,args.queryOptions);var self=this;var _b51={};var _b52=0;if(this.filterOnServer){_b51.query=args.query;_b51.sort=args.sort;}else{if(args.filter.preFilterQuery){_b51.query=args.filter.preFilterQuery;}}if(this.pageOnServer){_b51.start=args.start;_b51.count=args.count;}_b51.onBegin=function(_b53,req){_b52=_b53;};_b51.onComplete=function(_b54,req){if(this.filterOnServer){_b4f=_b54||[];}else{_b4f=_b50.evaluate(_b54,args.filter);if(args.sort){_b4f=_b4f.sort(dojo.data.util.sorter.createSortFunction(args.sort,self));}}if(args.onBegin){try{var _b55=_b4f.length;if(this.pageOnServer){_b55=_b52;}args.onBegin(_b55,args);}catch(e){console.log("onBegin error: ",e);}}if(args.count&&!this.pageOnServer){_b4f=_b4f.slice(args.start,args.count+args.start);}if(args.onComplete){try{args.onComplete(_b4f,args);}catch(e){console.log("onComplete error: ",e);}}};return this.inherited("fetch",arguments,[_b51]);}else{if(args.onBegin){args.onBegin.call(scope,_b4f.length,args);}if(args.onComplete){_b4f=_b4f.slice(args.start,args.count+args.start);args.onComplete.call(scope,_b4f,args);}}}else{return this.inherited("fetch",arguments);}};xwt.widget.table.Filters._wrappbleStores={"dojo.data.ItemFileReadStore":true,"dojo.data.ItemFileWriteStore":true,"dojox.data.AndOrReadStore":true,"dojox.data.AndOrWriteStore":true,"dojox.data.CsvStore":true,"dojox.data.KeyValueStore":true,"dojox.data.HtmlStore":true,"dojox.data.AppStore":true,"dojox.data.OpmlStore":true};xwt.widget.table.Filters.canFilterWrapStore=function(_b56){var _b57=false;if(_b56){var cls=_b56.declaredClass;var _b58=_b56.getFeatures()||{};if(cls&&!_b58["xwt.widget.table.Filters.filteringFetch"]&&xwt.widget.table.Filters._wrappbleStores[cls]){_b57=true;}}return _b57;};dojo.declare("xwt.widget.table.Filters.FilteringWrapperStore",null,{_store:null,constructor:function(_b59){if(_b59){this._myConnects=[];this._store=_b59;this._buildMapperFunctions();this._customizeFetch();var f=this.getFeatures();if(f["dojo.data.api.Notification"]){this._bindNotifications();}}else{throw new Error("Data store not provided.");}},_buildMapperFunctions:function(){var i;for(i in this._store){if(i.toString().charAt(0)!=="_"&&i!=="getFeatures"&&i!=="fetch"){var _b5a=this._store[i];if(dojo.isFunction(_b5a)){this[i]=this._createFunction(i);}}}},_customizeFetch:function(){var self=this;this.fetch=function(args){var _b5b=args.scope||dojo.global;if(args.filter){var _b5c=dojo.toJson(args.sort);var _b5d="";if(args.filter&&args.filter.preFilterQuery){var pfq=args.filter.preFilterQuery;if(dojo.isObject(pfq)||dojo.isArray(pfq)){_b5d="_"+dojo.toJson(pfq);}else{_b5d="_"+pfq;}}var _b5e;if(!_b5e){var _b5f=new xwt.widget.table.FilterEngine(this,args.filters,args.queryOptions);var _b60=args.onComplete;var _b61=args.onBegin;var _b62=args.start;var _b63=args.count;delete args.start;delete args.count;if(!self._store.filterOnServer){if(args.filter.preFilterQuery){args.query=args.filter.preFilterQuery;}else{delete args.query;}}args.onBegin=function(_b64,req){};args.onComplete=function(_b65,_b66){if(!self._store.filterOnServer){_b65=_b5f.evaluate(_b65,args.filter);if(args.sort){_b65=_b65.sort(dojo.data.util.sorter.createSortFunction(args.sort,self._store));}}args.start=_b62;args.count=_b63;if(_b61){args.onBegin=_b61;args.onBegin.call(_b5b,_b65.length,args);args.onBegin=_b61;}if(_b60){_b65=_b65.slice(args.start,args.count+args.start);args.onComplete=_b60;args.onComplete.call(_b5b,_b65,args);}};return self._store.fetch(args);}else{if(args.onBegin){args.onBegin.call(_b5b,_b5e.length,args);}if(args.onComplete){_b5e=_b5e.slice(args.start,args.count+args.start);args.onComplete.call(_b5b,_b5e,args);}}}else{return self._store.fetch(args);}};},_createFunction:function(name){var self=this;return function(){return self._store[name].apply(self._store,arguments);};},_bindNotifications:function(){this.onNew=function(){};this.onDelete=function(){};this.onSet=function(){};if(!this._myConnects){this._myConnects=[];}this._myConnects.push(dojo.connect(this._store,"onNew",this,"onNew"));this._myConnects.push(dojo.connect(this._store,"onDelete",this,"onDelete"));this._myConnects.push(dojo.connect(this._store,"onSet",this,"onSet"));},getFeatures:function(){var f=this._store.getFeatures()||{};f["xwt.widget.table.Filters.filteringFetch"]=true;return f;},destroy:function(){if(this._myConnects){dojo.forEach(this._myConnects,function(c){dojo.disconnect(c);});}}});dojo.declare("xwt.widget.table.FilterEngine",null,{_filters:[],_filterMap:{},_functions:null,_qOptions:null,constructor:function(_b67,_b68,_b69){this._qOptions=_b69;this._functions=new xwt.widget.table.Filters(_b67,_b69);if(_b68!==undefined){this.load(_b68);}},get:function(name){for(var i=0,l=this._filters.length;i<l;i++){if(this._filters[i].name==name){return this._filters[i];}}return null;},add:function(_b6a){if(this._filterMap[_b6a.name]){this._filterMap[_b6a.name]=_b6a;for(var i=0;i<this._filters.length;i++){if(this._filters[i].name==_b6a.name){_b6a.editable=true;this._filters[i]=_b6a;break;}}this.onAdd(_b6a);return this;}_b6a.editable=true;this._filters.push(_b6a);this._filterMap[_b6a.name]=_b6a;this.onAdd(_b6a);return this;},remove:function(_b6b){if(this._filterMap[_b6b.name]){delete this._filterMap[_b6b.name];for(var idx=-1,i=0;i<this._filters.length;i++){if(this._filters[i].name==_b6b.name){idx=i;break;}}if(idx>-1){this._filters.splice(idx,1);}}this.onRemove(_b6b);return this;},load:function(_b6c){this._filters=_b6c;this._filterMap={};dojo.forEach(this._filters,function(item){this._filterMap[item.name]=item;if(!item.editable){item.editable=false;}},this);this.onLoad(this._filters);return this;},save:function(){this.onSave(this._filters);return this;},evaluate:function(data,_b6d){var d=data,_b6e=(_b6d.conjunction!="or"),out=_b6e?d:[];for(var i=0;i<_b6d.expressions.length;i++){var fn=this._functions[_b6d.expressions[i].op];if(fn){var tmp=fn.call(this._functions,(_b6e?out:d),_b6d.expressions[i].attr,_b6d.expressions[i].value||null);out=(_b6e?tmp:out.concat(tmp));}}if(!_b6e){var ids={};out=dojo.filter(out,function(item,idx){var id=this._functions._store.getIdentity(item);var _b6f=!ids[id];ids[id]=true;return _b6f;},this);ids=null;}this.onEvaluate(out);return out;},onAdd:function(_b70){},onRemove:function(_b71){},onLoad:function(_b72){},onSave:function(_b73){},onEvaluate:function(data){}});xwt.widget.table.Filter={_currentFilter:null,_filtering:false,_filterEngine:null,filterDelay:750,filterOnServer:false,qOptions:null,start:function(_b74){var fd=this.filterDelay||750;var _b75=this.filterOnServer;var _b76=this.qOptions;dojo.mixin(this,xwt.widget.table.Filter);this.filterDelay=fd;this.filterOnServer=_b75;this.qOptions=_b76;this._filterEngine=new xwt.widget.table.FilterEngine(this.store,this.filters,this.qOptions);this._filtering=false;this._currentFilter=null;if(this.store&&xwt.widget.table.Filters.canFilterWrapStore(this.store)){this.store=new xwt.widget.table.Filters.FilteringWrapperStore(this.store,this.qOptions);}},filtering:function(){return this._filtering;},filter:function(_b77){if(this._currentFilter==_b77){return;}if(this.expandable&&this.expandable()&&this.expanded&&this.expanded()){this.getExpander()._collapseRow();}this._currentFilter=_b77;if(typeof this["_preFilterQuery"]=="undefined"){this._preFilterQuery=this.query||null;}this._filtering=true;if(this._selected){var _b78=this._selected.allSelected;var _b79=this._filterEngine.evaluate(this._selected,_b77);if(_b78){_b79.allSelected=_b78;}this._selected=_b79;var _b7a=this.store;var ids=this._selectedIds={};dojo.forEach(_b79,function(item){ids[_b7a.getIdentity(item)]=true;});}var q=this._filterEngine._functions.toDojoQuery(_b77.expressions,this.filterOnServer);_b77.preFilterQuery=this._preFilterQuery;this.query=dojo.mixin({},this._preFilterQuery,q);this._lastScrollTop=0;this.tableContainer.scrollTop=0;this.tableContainer.scrollLeft=0;var def=this.render();def.addCallback(dojo.hitch(this,function(){this._filtering=false;this.onFilter(_b77);}));return this;},applyFilter:function(_b7b){this.filter(this._currentFilter?{name:this._currentFilter.name,conjunction:this._currentFilter.conjunction,expressions:this._currentFilter.expressions.concat(_b7b.expressions)}:_b7b);return this;},clearFilter:function(){if(this._currentFilter){this._currentFilter=null;if(dojo.isFunction(this.clearSelections)){this.clearSelections();}this.query=this._preFilterQuery;if(this.expandable&&this.expandable()&&this.expanded&&this.expanded()){this.getExpander()._collapseRow();}if(this._fetchMap){for(fetchNum in this._fetchMap){var _b7c=this._fetchMap[fetchNum];if(_b7c){var f=_b7c.storeRequest;if(f&&dojo.isFunction(f.abort)){try{f.abort();}catch(e){console.warn(e);}}}delete this._fetchMap[fetchNum];}delete this._fetchMap;}this._lastScrollTop=0;this.tableContainer.scrollTop=0;this.tableContainer.scrollLeft=0;var def=this.render();def.addCallback(dojo.hitch(this,function(){this.onClearFilter();}));}return this;},onFilter:function(_b7d){},onClearFilter:function(){},getCurrentFilterInfo:function(){if(this._currentFilter){return dojo.fromJson(dojo.toJson(this._currentFilter));}else{return null;}}};}if(!dojo._hasResource["dijit.form.DropDownButton"]){dojo._hasResource["dijit.form.DropDownButton"]=true;dojo.provide("dijit.form.DropDownButton");}if(!dojo._hasResource["xwt.widget.table.Ribbon"]){dojo._hasResource["xwt.widget.table.Ribbon"]=true;dojo.provide("xwt.widget.table.Ribbon");dojo.declare("xwt.widget.table.Ribbon",[dijit.layout._LayoutWidget,dijit._Templated],{templateString:"<div><div dojoAttachPoint=\"containerNode\" class=\"xwtRibbonWrapper\"></div></div>",baseClass:"xwtRibbon",_menuItems:[],_menuItemMap:{},_menu:null,_overflowNode:null,_overflowButton:null,_threshold:0,_childBoxes:null,_getNewDijitId:function(cls){return dijit.getUniqueId(cls.replace(/\./g,"_"));},_cloneMenu:function(menu){var m=new dijit.Menu({}),c=menu.getChildren();dojo.forEach(c,function(item){m.addChild(this._makeMenuItem(item));},this);m.startup();return m;},_setupMenuItem:function(_b7e){var item=this._makeMenuItem(_b7e);if(item){item.attr("disabled",_b7e.attr("disabled"));this._menuItems.push(item);this._menuItemMap[_b7e.attr("id")]=item;}this.connect(_b7e,"attr",function(arg,val){if(arg=="disabled"){if(item){item.attr(arg,val);}}});},_makeMenuItem:function(_b7f){if(_b7f.toMenuItem){return _b7f.toMenuItem();}var cls=_b7f.declaredClass;switch(cls){case "dijit.MenuItem":return new dijit.MenuItem({onClick:_b7f.onClick,label:_b7f.attr("label"),iconClass:_b7f.attr("iconClass")});case "dijit.MenuSeparator":return new dijit.MenuSeparator({});case "dijit.CheckedMenuItem":return new dijit.CheckedMenuItem({label:_b7f.attr("label"),onChange:_b7f.onChange,checked:_b7f.attr("checked")});case "dijit.PopupMenuItem":return new dijit.PopupMenuItem({popup:this._cloneMenu(_b7f.popup),label:_b7f.attr("label"),iconClass:_b7f.attr("iconClass")});case "dijit.ToolbarSeparator":return new dijit.MenuSeparator({});case "dijit.form.Button":return new dijit.MenuItem({onClick:_b7f.onClick,label:_b7f.attr("label"),iconClass:_b7f.attr("iconClass")});case "dijit.form.ToggleButton":var w=new dijit.CheckedMenuItem({label:_b7f.attr("label")});_b7f.connect(w,"onChange",function(){_b7f._onClick();});return w;case "dijit.form.DropDownButton":case "dijit.form.ComboButton":var m=_b7f.dropDown;if(m.declaredClass!="dijit.Menu"){return null;}return new dijit.PopupMenuItem({popup:this._cloneMenu(m),label:_b7f.attr("label"),iconClass:_b7f.attr("iconClass")});default:return null;}},getChildren:function(){return dijit.findWidgets(this.containerNode);},startup:function(){this.inherited(arguments);this._menu=new dijit.Menu({}),this._menuItems=[],this._menuItemMap={};dojo.forEach(this.getChildren(),function(_b80){this._setupMenuItem(_b80);},this);this._overflowNode=dojo.create("div",{className:"xwtRibbonOverflowButton"},this.domNode);this._overflowButton=new dijit.form.DropDownButton({id:this.id+"_overflowButton",value:"Show hidden options",dropDown:this._menu});this._overflowNode.appendChild(this._overflowButton.domNode);setTimeout(dojo.hitch(this,function(){this.layout();}),10);},layout:function(){if(!this._started){return;}var b=dojo.contentBox(this.domNode),_b81=b.w-(dojo.isIE==7?16:8);if(!this._menu){return;}if(this._overflowButton&&this._overflowButton._opened){this._overflowButton.toggleDropDown();}var _b82=this._menu.getChildren();for(var i=0,l=_b82.length;i<l;i++){this._menu.removeChild(_b82[i]);}var m=this._childBoxes||{},_b83=this._threshold||0;dojo.forEach(this.getChildren(),function(w){dojo.removeClass(w.domNode,"dijitHidden");if(!this._childBoxes){var box=dojo.marginBox(w.domNode);m[w.attr("id")]=box;_b83=Math.max(_b83,box.l+box.w);}});this._childBoxes=this._childBoxes||m;this._threshold=this._threshold||_b83;if(!dojo.hasClass(this._overflowNode,"dijitHidden")){_b81-=dojo.marginBox(this._overflowNode).w;}if(_b81<=_b83){var desc=this.getChildren(),_b84=[],_b85,_b86=null;for(var i=0,l=desc.length;i<l;i++){_b85=m[desc[i].attr("id")];if(!_b85){continue;}if(_b85.l+_b85.w<_b81){continue;}_b84.push(desc[i]);_b86=_b86||i;}if(_b86&&_b86>0&&desc[_b86-1].declaredClass=="dijit.ToolbarSeparator"){_b84.unshift(desc[_b86-1]);}dojo.forEach(_b84,function(w){dojo.addClass(w.domNode,"dijitHidden");});while(_b84.length&&_b84[0].declaredClass=="dijit.ToolbarSeparator"){_b84.shift();}while(_b84.length&&_b84[_b84.length-1].declaredClass=="dijit.ToolbarSeparator"){_b84.pop();}var _b87=0;for(var w,i=0,l=_b84.length;i<l;i++){if(!this._menuItemMap[_b84[i].attr("id")]){continue;}w=_b84[i];var item=this._menuItemMap[w.attr("id")];this._menu.addChild(item);_b87++;}if(_b87){dojo.removeClass(this._overflowNode,"dijitHidden");}}else{dojo.addClass(this._overflowNode,"dijitHidden");}},destroy:function(){if(this._menu){this._menu.destroy();}if(this._overflowButton){this._overflowButton.destroy();}if(this._menuItemMap){var id;for(id in this._menuItemMap){this._menuItemMap[id].destroyRecursive();}}this.inherited(arguments);}});}if(!dojo._hasResource["xwt.widget.table.Toolbar"]){dojo._hasResource["xwt.widget.table.Toolbar"]=true;dojo.provide("xwt.widget.table.Toolbar");dojo.declare("xwt.widget.table.Toolbar",[dijit._Widget,dijit._Templated],{l10n:null,startup:function(){if(this._started){return;}this.inherited(arguments);this.onStartup();},postMixInProperties:function(){this.inherited(arguments);this.l10n=dojo.i18n.getLocalization("xwt.widget.table","Toolbar");},onStartup:function(){}});dojo.declare("xwt.widget.table.GlobalToolbar",[xwt.widget.table.Toolbar],{templateString:"<div class=\"xwtGlobalToolbar\" wairole=\"menubar\">\r\n\t<div class=\"xwtGlobalToolbarTitle\" dojoAttachPoint=\"titleNode\">${title}</div>\r\n\t<div class=\"xwtGlobalToolbarActions\" dojoAttachPoint=\"iconsNode\">\r\n\t\t<span class=\"xwtGlobalToolbarTotalRecords\" dojoAttachPoint=\"countLabel\"><span dojoAttachPoint=\"selectionCountLabel\" class=\"selectionCountLabel\"></span><span class=\"countSeparator\" dojoAttachPoint=\"countSeparator\"><span class=\"countSeparatorBorder\"><img src=\"${_blankImage}\"></span></span><span dojoAttachPoint=\"totalCountLabel\" class=\"totalCountLabel\"></span></span>\r\n\t\t<div id=\"${tableId}_xwtTableGlobalToolbar_refreshButton\" dojoType=\"dijit.form.Button\" dojoAttachPoint=\"refreshButton\" dojoAttachEvent=\"onClick: _refreshClick\" iconClass=\"xwtGlobalToolbarIcon xwtGlobalRefresh\" showLabel=\"false\">${!l10n.refresh}</div>\r\n\t\t<div id=\"${tableId}_xwtTableGlobalToolbar_printButton\" dojoType=\"dijit.form.Button\" dojoAttachPoint=\"printButton\" dojoAttachEvent=\"onClick: _printClick\" iconClass=\"xwtGlobalToolbarIcon xwtGlobalPrint\" showLabel=\"false\">${!l10n.print}</div>\r\n\t\t<div id=\"${tableId}_xwtTableGlobalToolbar_exportButton\" dojoType=\"dijit.form.Button\" dojoAttachPoint=\"exportButton\" dojoAttachEvent=\"onClick: _exportClick\" iconClass=\"xwtGlobalToolbarIcon xwtGlobalExport\" showLabel=\"false\">${!l10n.export}</div>\r\n\t\t<div id=\"${tableId}_xwtTableGlobalToolbar_settingsButton\" dojoType=\"dijit.form.DropDownButton\" dojoAttachPoint=\"settingsButton\" iconClass=\"xwtGlobalToolbarIcon xwtGlobalSettings\" showLabel=\"false\">\r\n\t\t\t<span>${!l10n.settings}</span>\r\n\t\t\t<div id=\"${tableId}_xwtTableGlobalToolbar_settingsMenu\" dojoType=\"dijit.Menu\" class=\"dijitRTL\" dojoAttachPoint=\"settingsMenu\" dir=\"rtl\" style=\"display:none;\">\r\n\t\t\t\t<div id=\"${tableId}_xwtTableGlobalToolbar_columnsMenu\" dojoType=\"dijit.PopupMenuItem\" class=\"xwtTableColumnsMenuItem\">\r\n\t\t\t\t\t<span>${_i18n.columns}</span>\r\n\t\t\t\t\t<div dojoType=\"dijit.Menu\" dojoAttachPoint=\"columnsMenu\" style=\"display:none;\">\r\n\t\t\t\t\t\t<!-- programmatically add all columns as a CheckedMenuItem here. -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!--\r\n\t\t\t\t<div dojoType=\"dijit.PopupMenuItem\">\r\n\t\t\t\t\t<span>Fix Column</span>\r\n\t\t\t\t\t<div dojoType=\"dijit.Menu\" dojoAttachPoint=\"fixColumnMenu\" style=\"display:none;\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div dojoType=\"dijit.PopupMenuItem\">\r\n\t\t\t\t\t<span>Detach Column</span>\r\n\t\t\t\t\t<div dojoType=\"dijit.Menu\" dojoAttachPoint=\"detachColumnMenu\" style=\"display:none;\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t-->\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n",widgetsInTemplate:true,showButtons:"",iconClass:"",tableId:"",disableFixedRowsMenu:false,displayTotalRecords:false,_i18n:null,_blankImage:dojo.moduleUrl("xwt","widget/table/resources/blank.gif").toString(),_showRefresh:true,_showExport:true,_showPrint:true,_hasSettings:true,_colsOriginalHiddenState:{},destroy:function(){this.inherited(arguments);if(this._selLabelUpdateTimer){clearTimeout(this._selLabelUpdateTimer);delete this._selLabelUpdateTimer;}},postMixInProperties:function(){this._i18n=dojo.i18n.getLocalization("xwt.widget.table","Toolbar");},postCreate:function(){this.inherited(arguments);if(this.iconClass){this.titleNode.className+=" "+this.iconClass;}if(this.showButtons.length){var s=this.showButtons.toLowerCase();if(s=="none"||s.indexOf("refresh")==-1){dojo.style(this.refreshButton.domNode,"display","none");this._showRefresh=false;}if(s=="none"||s.indexOf("print")==-1){dojo.style(this.printButton.domNode,"display","none");this._showPrint=false;}if(s=="none"||s.indexOf("export")==-1){dojo.style(this.exportButton.domNode,"display","none");this._showExport=false;}if(s=="none"||s.indexOf("settings")==-1){dojo.style(this.settingsButton.domNode,"display","none");this._hasSettings=false;}}if(this.tableId){if(this.table()){this._setupMenuItems();}else{this.subscribe(this.tableId+"-startup","_setupMenuItems");}}},_setupMenuItems:function(){if(this.table()){if(dojo.isIE<8){var tBox=dojo.position(this.table().tableContainer);dojo.style(this.domNode,"width",tBox.w+"px");this.connect(this.table(),"resize",function(dims){var b;if(dims){b=dims;}else{var b=dojo.position(this.table().tableContainer);}});}var _b88=dojo.position(this.titleNode);var _b89=dojo.position(this.iconsNode);var _b8a=Math.ceil(_b89.w+_b88.w+16);dojo.style(this.domNode,"minWidth",_b8a+"px");}if(this.table()&&this.displayTotalRecords&&this.countLabel){var _b8b=this.table()._multiple;if(!_b8b){dojo.style(this.selectionCountLabel,"display","none");dojo.style(this.countSeparator,"display","none");}else{if(this.table().selected){var _b8c=this.table().selected();var sc=0;if(_b8c){sc=_b8c.length;}this.selectionCountLabel.innerHTML=dojo.string.substitute(this._i18n.selectCount+"",{0:sc});}else{dojo.style(this.selectionCountLabel,"display","none");dojo.style(this.countSeparator,"display","none");}}var _b8d=function(){if(this._selLabelUpdateTimer){clearTimeout(this._selLabelUpdateTimer);delete this._selLabelUpdateTimer;}this._selLabelUpdateTimer=setTimeout(dojo.hitch(this,function(){delete this._selLabelUpdateTimer;if(this.table().selected){var s=this.table().selected();var c=0;if(s){c=s.length;}this.selectionCountLabel.innerHTML=dojo.string.substitute(this._i18n.selectCount+"",{0:c});}}),250);};this.connect(this.table(),"select",_b8d);this.connect(this.table(),"deselect",_b8d);this.connect(this.table(),"onLoadEnd",_b8d);dojo.style(this.countLabel,"display","inline-block");this.totalCountLabel.innerHTML=dojo.string.substitute(this._i18n.rowCount+"",{0:this.table()._totalRows>0?this.table()._totalRows:0});if(this.table()._rowsOverflow){this.totalCountLabel.innerHTML+="+";this.totalCountLabel.title=dojo.string.substitute(this._i18n.maxCountTitle+"",{0:this.table().maxRows});}else{this.totalCountLabel.title="";}this.connect(this.table(),"onRowCountUpdate",function(_b8e){this.totalCountLabel.innerHTML=dojo.string.substitute(this._i18n.rowCount+"",{0:_b8e});if(this.table()._rowsOverflow){this.totalCountLabel.innerHTML+="+";this.totalCountLabel.title=dojo.string.substitute(this._i18n.maxCountTitle+"",{0:this.table().maxRows});}else{this.totalCountLabel.title="";}});}if(this.table()&&this._hasSettings){var t=this.table(),c=t._columns;dojo.forEach(c.columns,function(col){if(col.columnType!=xwt.widget.table.ColumnTypes.COLUMN){return;}var _b8f;if(col.title){_b8f=col.label+" "+col.title;}else{_b8f=col.label;}var cmi=new dijit.CheckedMenuItem({label:_b8f,checked:!col.hidden,column:col,onChange:function(_b90){c[_b90?"show":"hide"](this.column);}});this.columnsMenu.addChild(cmi);this._colsOriginalHiddenState[_b8f]=!col.hidden;},this);if(this.table()&&this.table().selected&&!this.disableFixedRowsMenu){this.fixRowsTop=new dijit.MenuItem({label:this._i18n.fixToTop});this.fixRowsBottom=new dijit.MenuItem({label:this._i18n.fixToBottom});this.fixRowsMenu=new dijit.Menu({});this.fixRowsMenu.domNode.style.display="none";this.fixRowsMenu.addChild(this.fixRowsTop);this.fixRowsMenu.addChild(this.fixRowsBottom);this.connect(this.fixRowsMenu,"onOpen",function(){var menu=dojo.position(this.fixRowsMenu.domNode,true);var from=dojo.position(this.fixRowsMenu.from_item.domNode.parentNode.parentNode,true);if(menu.x<from.x){dojo.addClass(this.fixRowsMenu.from_item.domNode,"xwtTableSettingsFixedRowMenuPointLeft");}});this.connect(this.fixRowsMenu,"onClose",function(){dojo.removeClass(this.fixRowsMenu.from_item.domNode,"xwtTableSettingsFixedRowMenuPointLeft");this._ignoreResizeEvents=true;});this.fixRowsMenuItem=new dijit.PopupMenuItem({label:this._i18n.fixRow,popup:this.fixRowsMenu});this.settingsMenu.addChild(this.fixRowsMenuItem);dojo.addClass(this.settingsMenu.domNode,"xwtTableSettingsMenu");this.detachRows=new dijit.MenuItem({label:this._i18n.detachRow,disabled:true});this.settingsMenu.addChild(this.detachRows);this.connect(this.fixRowsTop,"onClick",function(){this.table().lock(this.table().selected(),true).clearSelections();});this.connect(this.fixRowsBottom,"onClick",function(){this.table().lock(this.table().selected()).clearSelections();});this.connect(this.detachRows,"onClick",function(){var tbl=this.table();var _b91=tbl.lockedItems();if(_b91&&_b91.length){var _b92=[];dojo.forEach(_b91,function(item){if(tbl.isSelected(item)){_b92.push(item);}});this.table().unlock(_b92);}});var _b93=function(){if(this.__detachTimer){clearTimeout(this.__detachTimer);delete this.__detachTimer;}this.__detachTimer=setTimeout(dojo.hitch(this,function(){if(this.__detachTimer){delete this.__detachTimer;var _b94=this.table().lockedItems();if(_b94&&_b94.length){var i;var _b95=true;for(i=0;i<_b94.length;i++){if(this.table().isSelected(_b94[i])){_b95=false;break;}}this.detachRows.attr("disabled",_b95);}else{this.detachRows.attr("disabled",true);}}}),100);};this.detachRows.attr("disabled",true);this.connect(this.table(),"onSelect",_b93);this.connect(this.table(),"onDeselect",_b93);this.connect(this.table(),"onLock",function(_b96){var _b97=this.table();if(_b97._hasLockedRows()){var test=_b97._visibleLockedContainer;if(test=="top"){this.fixRowsBottom.attr("disabled",true);}else{this.fixRowsTop.attr("disabled",true);}this.detachRows.attr("disabled",false);}else{this.fixRowsBottom.attr("disabled",false);this.fixRowsTop.attr("disabled",false);}});this.connect(this.table(),"onUnlock",function(_b98){var _b99=this.table();if(!_b99._hasLockedRows()){this.fixRowsTop.attr("disabled",false);this.fixRowsBottom.attr("disabled",false);this.detachRows.attr("disabled",true);}});this.connect(this.table(),"onSelect",function(){this.fixRowsMenuItem.attr("disabled",false);});this.connect(this.table(),"onClearSelections",function(){this.fixRowsMenuItem.attr("disabled",true);});if(!this.table().selected().length){this.fixRowsMenuItem.attr("disabled",true);}}this.columnsMenu.onItemClick=function(item,evt){if(item.disabled){return false;}if(typeof this.isShowingNow=="undefined"){this._markActive();}this.focusChild(item);item.onClick(evt);};dojo.addClass(this.columnsMenu.domNode,"xwtTableColumnsMenu");var _b9a=this;this.__columnResetButton=new xwt.widget.form.TextButton({label:this._i18n.resetColumnsMenu,onClick:dojo.hitch(this,"_resetColumnsToDefault"),id:this.table().id+"_xwtTableGlobalToolbar_columnsMenu_reset"});this.__columnResetButton.connect(this.columnsMenu,"destroy",function(){_b9a.__columnResetButton.destroy();delete _b9a.__columnResetButton;});this.__columnCloseButton=new xwt.widget.form.TextButton({label:this._i18n.closeColumnsMenu,baseClass:"defaultButton",onClick:dojo.hitch(this,function(){this.settingsButton.toggleDropDown();}),id:this.table().id+"_xwtTableGlobalToolbar_columnsMenu_close"});this.__columnCloseButton.connect(this.columnsMenu,"destroy",function(){_b9a.__columnCloseButton.destroy();delete _b9a.__columnCloseButton;});this.connect(this.columnsMenu,"onOpen",function(){this._ignoreResizeEvents=true;var mPos=dojo.position(this.columnsMenu.from_item.domNode.parentNode.parentNode);var vp=dijit.getViewport();var _b9b=vp.h-(mPos.y+60);if(_b9b<0){_b9b=0;}var _b9c=Math.ceil(Math.min(_b9b,dojo.style(this.columnsMenu.containerNode,"height")));_b9c+=2;if(this.columnsMenu.domNode.tagName=="TABLE"&&!this.columnsMenu._scrollContainer){var _b9d=dojo.create("tbody");var tr=dojo.create("tr",null,_b9d);var td=dojo.create("td",{"class":"xwtColumnsMenuHolder"},tr);var div=dojo.create("div",{"class":"columnsContainerDiv",style:{"zoom":1,"position":"relative"}},td);var _b9e=dojo.create("table",{style:{"borderCollapse":"collapse","borderSpacing":0,"padding":0,"margin":0,"zoom":1,"width":"100%"}},div);dojo.style(div,{"overflowX":"hidden","overflowY":"auto"});tr=dojo.create("tr",null,_b9d);td=dojo.create("td",{"class":"xwtTableColumnsFooterSeparator"},tr);var _b9f=dojo.create("div",{"class":"xwtTableColumnsFooterSeparatorDiv"},td);tr=dojo.create("tr",null,_b9d);td=dojo.create("td",{"class":"xwtTableColumnsMenuFooter"},tr);td.appendChild(this.__columnCloseButton.domNode);td.appendChild(dojo.create("span",{"class":"xwtTableColumnsMenuButtonSpacer"}));td.appendChild(this.__columnResetButton.domNode);dojo.place(this.columnsMenu.containerNode,_b9e);dojo.place(_b9d,this.columnsMenu.domNode);this.columnsMenu._scrollContainer=div;this.__columnResetButton.startup();}if(this.columnsMenu._scrollContainer){dojo.style(this.columnsMenu._scrollContainer,"paddingRight","0px");dojo.style(this.columnsMenu._scrollContainer,"height",_b9c+"px");var _ba0=Math.ceil(this.columnsMenu._scrollContainer.scrollHeight);if(_ba0>_b9c){var _ba1=this.table()._getScrollBarDims();dojo.addClass(this.columnsMenu._scrollContainer.parentNode,"xwtColumnsMenuHolderScroller");if(!dojo.isIE||dojo.isIE>7){var _ba2=dojo.isWebKit?_ba1.w*2:_ba1.w;dojo.style(this.columnsMenu._scrollContainer,"width",dojo.style(this.columnsMenu._scrollContainer,"width")+_ba2+"px");}}var menu=dojo.position(this.columnsMenu.domNode,true);var from=dojo.position(this.columnsMenu.from_item.domNode.parentNode.parentNode,true);if(menu.x<from.x){var _ba3=dojo._getBorderExtents(this.columnsMenu.domNode);var left=dojo.style(this.columnsMenu.domNode.parentNode,"left");dojo.style(this.columnsMenu.domNode.parentNode,"left",(left-((menu.x+menu.w)-(from.x+_ba3.l)))+"px");dojo.addClass(this.columnsMenu.from_item.domNode,"xwtTableSettingsColumnsMenuPointLeft");}dojo.style(this.columnsMenu.domNode.parentNode,"top",(from.y)+"px");}setTimeout(dojo.hitch(this,function(){delete this._ignoreResizeEvents;}),50);});this.connect(this.columnsMenu,"onClose",function(){if(this.columnsMenu._scrollContainer){dojo.removeClass(this.columnsMenu._scrollContainer.parentNode,"xwtColumnsMenuHolderScroller");dojo.style(this.columnsMenu._scrollContainer,"width","");dojo.removeClass(this.columnsMenu.from_item.domNode,"xwtTableSettingsColumnsMenuPointLeft");}});}if("onEdit" in this.table()){this.connect(this.table(),"onEdit",function(){if(this._showRefresh){this.refreshButton.attr("disabled",true);}if(this._showPrint){this.printButton.attr("disabled",true);}if(this._showExport){this.exportButton.attr("disabled",true);}if(this._hasSettings){this.settingsButton.attr("disabled",true);}});this.connect(this.table(),"onEditorClose",function(){if(this._showRefresh){this.refreshButton.attr("disabled",false);}if(this._showPrint){this.printButton.attr("disabled",false);}if(this._showExport){this.exportButton.attr("disabled",false);}if(this._hasSettings){this.settingsButton.attr("disabled",false);}});}this.connect(this.table(),"onRefresh",function(dt){dojo.attr(this.refreshButton.titleNode,"title","Last updated: "+dojo.date.locale.format(dt,{}));});dojo.attr(this.refreshButton.titleNode,"title","Last updated: "+dojo.date.locale.format(this.table()._lastRefresh,{}));},resize:function(){if(!this._ignoreResizeEvents&&this.settingsButton&&this.settingsButton.attr("state")=="Opened"){this.settingsButton.toggleDropDown();}this.inherited(arguments);},_refreshClick:function(){if(!this.table()){return;}this.table().refresh();this.onRefreshClick();},_printClick:function(){this.onPrintClick();},_exportClick:function(){this.onExportClick();},_resetColumnsToDefault:function(){if(!this.table()){return;}dojo.forEach(this.columnsMenu.getChildren(),function(item){if(item.attr("label") in this._colsOriginalHiddenState){var b=this._colsOriginalHiddenState[item.attr("label")];if(item.attr("checked")!=b){this.table()._columns[b?"show":"hide"](item.column);}item.attr("checked",b);}},this);this.onColumnsResetClick();},table:function(){if(this.tableId){return dijit.byId(this.tableId);}return null;},setTitle:function(_ba4,_ba5){if(_ba4!=null){this.titleNode.innerHTML=_ba4;}if(_ba5){this.titleNode.className+=" "+_ba5;}console.log("Table title changed.");},onRefreshClick:function(){console.log("The refresh button was clicked.");},onPrintClick:function(){console.log("The print button was clicked.");},onExportClick:function(){console.log("The export button was clicked.");},onColumnsResetClick:function(){}});dojo.declare("xwt.widget.table._MoveToRowDropdown",[dijit._Widget,dijit._Templated],{templateString:"<div class=\"xwtContextualMoveToDropdown\">\r\n\t<span class=\"xwtContextualMoveToLabel\">${moveToDropdownLabel}</span>\r\n\t<input dojoAttachPoint=\"moveToRowInput\" dojoAttachEvent=\"onkeydown: _onKeyDown, onpaste: _onPaste\" class=\"xwtContextualMoveToValue\" type=\"text\" value=\"\" />\r\n</div>\r\n",table:null,moveToDropdownLabel:"Row #: ",_valRegExp:/^\d+$/,_onKeyDown:function(e){if(e.keyCode==dojo.keys.ENTER){var v=this.moveToRowInput.value;if(this._valRegExp.test(v)){v=parseInt(v,10);if(this.table){var _ba6=Math.min(this.table._totalRows-1,Math.max(v-1,0));var up=this._isMoveUp(_ba6);this.table.moveTo(_ba6,up);}this.moveToRowInput.value="";this._lastValue="";dojo.stopEvent(e);this.onChange(v);}}else{if(e.keyCode==dojo.keys.DELETE||e.keyCode==dojo.keys.BACKSPACE){setTimeout(dojo.hitch(this,function(){this._lastValue=this.moveToRowInput.value;}),0);return true;}else{if(!e.shiftKey&&!e.metaKey&&!e.ctrlKey){var code=String.fromCharCode(e.keyCode);if(this._valRegExp.test(code)){if(e.keyCode>31&&isNaN(parseInt(code,10))){if(this.moveToRowInput.value.length){this.moveToRowInput.value=""+parseInt(this.moveToRowInput.value,10);}this._lastValue=this.moveToRowInput.value;dojo.stopEvent(e);}else{setTimeout(dojo.hitch(this,function(){this._lastValue=this.moveToRowInput.value;}),0);}}else{dojo.stopEvent(e);}}else{dojo.stopEvent(e);}}}},_isMoveUp:function(_ba7){var _ba8=this.table.selected();var up=true;var i;for(i=0;i<_ba8.length;i++){var idx=this.table._idToIndex[this.table.store.getIdentity(_ba8[i])];if(idx<_ba7){up=false;break;}}return up;},_onPaste:function(e){setTimeout(dojo.hitch(this,function(){var v=this.moveToRowInput.value;if(this._valRegExp.test(v)){this._lastValue=v;}else{this.moveToRowInput.value=this._lastValue;}}),0);},_onValueChange:function(){var v=this.moveToRowInput.value;if(this.table){var _ba9=Math.min(this.table._totalRows-1,Math.max(v-1,0));var up=this._isMoveUp(_ba9);this.table.moveTo(_ba9,up);}this.moveToRowInput.value="";this.onChange(v);},onChange:function(_baa){}});dojo.declare("xwt.widget.table._DeleteConfirm",xwt.widget.notification.Alert,{_createButtons:function(){var tg=this.buttonGroup;var self=this;if(!this._ourButtonConnects){this._ourButtonConnects=[];}dojo.forEach(this.buttons,function(_bab){if(_bab&&_bab.label){var _bac=new xwt.widget.form.TextButton({label:_bab.label,baseClass:_bab.baseClass});self._ourButtonConnects.push(dojo.connect(_bac,"onClick",function(){self.updateOptions();if(_bab.onClick){_bab.onClick();}self.hide();}));tg.addChild(_bac);}});if(this.messageNumber){dojo.create("div",{className:"xwtMessageNumber",innerHTML:"Message Number: "+"<span>"+this.messageNumber+"</span>"},tg.domNode);}},uninitialize:function(){if(this._ourButtonConnects){dojo.forEach(this._ourButtonConnects,function(cn){dojo.disconnect(cn);});delete this._ourButtonConnects;}this.inherited(arguments);}});dojo.declare("xwt.widget.table.ContextualButtonGroup",[dijit._Widget],{showButtons:"",deleteConfirm:null,editLabel:"Edit",deleteLabel:"Delete",moveToLabel:"Move to",moveDownLabel:"Move down",moveUpLabel:"Move up",addRowLabel:"Add Row",editButton:null,deleteButton:null,moveToButton:null,moveUpButton:null,moveDownButton:null,separator:null,addRowButton:null,_toolbar:null,startup:function(){if(this._started){return;}this.inherited(arguments);var _bad=this.domNode.parentNode.parentNode.parentNode.parentNode;var _bae=this._toolbar=dijit.getEnclosingWidget(_bad);var _baf=_bae&&_bae.tableId;this.tableId=_baf;if(_bae&&_bae.table()){this._onTableStartup();}else{if(_baf){this.subscribe(_baf+"-startup","_onTableStartup");}}},_createDeleteAlert:function(_bb0){this.deleteConfirm=new xwt.widget.table._DeleteConfirm({messageType:"warning",dontShowAgainOption:true,buttons:[{label:"OK",baseClass:"defaultButton",onClick:function(){_bb0.deleting=true;if(_bb0._selected.allSelected&&_bb0.store.deleteAllItems){if(_bb0.expandable()&&_bb0.expanded()){_bb0.getExpander()._collapseRow();}_bb0.store.deleteAllItems();}else{var s=_bb0.selected(),test=_bb0.expandable()&&_bb0.expanded();dojo.forEach(s,function(item){if(_bb0.store.isItem(item)&&!_bb0.isLocked(item)){if(test&&_bb0.getExpander()._item==item){_bb0.getExpander()._collapseRow();}_bb0.store.deleteItem(item);}});}_bb0.store.save({onComplete:function(){_bb0.clearSelections();_bb0.render(true);delete _bb0.deleting;},onError:function(e){console.warn(e);_bb0.clearSelections();_bb0.render(true);delete _bb0.deleting;}});}},{label:"Cancel",baseClass:"xwt-TextButton",onClick:dojo.hitch(this,function(){this.deleteConfirm.hide();})}]});this.deleteConfirm.setDialogContent("<div>Are you sure you would like to delete the selected item(s)?</div>");},_onTableStartup:function(){var _bb1=this._toolbar&&this._toolbar.table();if(!_bb1){return;}var _bb2=this._toolbar;var _bb3=_bb2&&_bb2.tableId;var _bb4=_bb1&&_bb1.selected&&!_bb1.selected().length;var _bb5=_bb1.quickFilterDefault||"All";this.connect(_bb2,"destroy",this.destroy);if(this.showButtons.length){this.showButtons=this.showButtons.toLowerCase();}if(this.showButtons=="none"){return;}var _bb6=true,_bb7=true,_bb8=true,_bb9=true;if(this.showButtons.length&&this.showButtons!="all"){_bb6=this.showButtons.indexOf("add")>-1;_bb7=this.showButtons.indexOf("move")>-1;_bb8=this.showButtons.indexOf("delete")>-1;_bb9=this.showButtons.indexOf("edit")>-1;}var _bba=(xwt.widget.table.TreeTable&&_bb1 instanceof xwt.widget.table.TreeTable);if(_bb6&&_bb1&&_bb1.edit&&!_bba){this.addRowButton=new dijit.form.Button({id:this.tableId+"_xwtTableContextualToolbar_addRowButton",label:this.addRowLabel,iconClass:"xwtContextualIcon xwtContextualAddRow",showLabel:true,onClick:function(){if(_bb1&&_bb1.edit){if(_bb1.editing()){_bb1.cancelEdit();}var tmpl=_bb1._editor.addRequested=_bb1._templateForItem();var ni=_bb1.store.newItem(tmpl);}}});dojo.place(this.addRowButton.domNode,this.domNode,"after");}if((_bb6)&&_bb1&&(_bb1.filter||(_bb1.edit&&!_bba))){if((_bb7&&_bb1&&_bb1.store.moveTo&&_bb1.store.orderAttribute&&!_bba)||(_bb8&&_bb1&&_bb1.store.deleteItem)||(_bb9&&_bb1&&_bb1.edit)){this.separator=new dijit.ToolbarSeparator({});dojo.place(this.separator.domNode,this.domNode,"after");}}if(_bb7&&_bb1&&_bb1.store.moveTo&&_bb1.store.orderAttribute&&!_bba){this.moveUpButton=new dijit.form.Button({id:this.tableId+"_xwtTableContextualToolbar_moveUpButton",label:this.moveUpLabel,"class":"xwtTableMoveUpButton",iconClass:"xwtContextualIcon xwtContextualMoveUp",showLabel:false,disabled:_bb4,onClick:function(){_bb1.moveUp();}});dojo.place(this.moveUpButton.domNode,this.domNode,"after");this.moveDownButton=new dijit.form.Button({id:this.tableId+"_xwtTableContextualToolbar_moveDownButton",label:this.moveDownLabel,"class":"xwtTableMoveDownButton",iconClass:"xwtContextualIcon xwtContextualMoveDown",showLabel:false,disabled:_bb4,onClick:function(){_bb1.moveDown();}});dojo.place(this.moveDownButton.domNode,this.domNode,"after");var _bbb=new xwt.widget.table._MoveToRowDropdown({table:_bb1});this.moveToButton=new dijit.form.DropDownButton({id:this.tableId+"_xwtTableContextualToolbar_moveToButton",label:this.moveToLabel,iconClass:"xwtContextualIcon xwtContextualMoveTo",disabled:_bb4,showLabel:true,dropDown:_bbb});this.moveToButton.toMenuItem=function(){return new dijit.PopupMenuItem({popup:new xwt.widget.table._MoveToRowDropdown({table:_bb1}),label:this.label,iconClass:"xwtContextualIcon xwtContextualMoveTo"});};dojo.place(this.moveToButton.domNode,this.domNode,"after");this.moveToButton.startup();}if(_bb8&&_bb1&&_bb1.store.deleteItem){this.deleteButton=new dijit.form.Button({id:this.tableId+"_xwtTableContextualToolbar_deleteButton",label:this.deleteLabel,iconClass:"xwtContextualIcon xwtContextualDelete",showLabel:true,disabled:_bb4,onClick:dojo.hitch(this,function(){if(!this.deleteConfirm){this._createDeleteAlert(_bb1);}if(this.deleteConfirm.dontShowAgain){_bb1.deleting=true;if(_bb1._selected.allSelected&&_bb1.store.deleteAllItems){_bb1.store.deleteAllItems();}else{var s=_bb1.selected();dojo.forEach(s,function(item){if(!_bb1.isLocked(item)){_bb1.store.deleteItem(item);}});}_bb1.store.save({onComplete:function(){_bb1.clearSelections();_bb1.render(true);delete _bb1.deleting;},onError:function(e){console.warn(e);_bb1.clearSelections();_bb1.render(true);delete _bb1.deleting;}});}else{this.deleteConfirm.show();}})});dojo.place(this.deleteButton.domNode,this.domNode,"after");}if(_bb9&&_bb1&&_bb1.edit){this.editButton=new dijit.form.ToggleButton({id:this.tableId+"_xwtTableContextualToolbar_editButton",label:this.editLabel,iconClass:"xwtContextualIcon xwtContextualEdit",showLabel:true,disabled:_bb4,onChange:function(_bbc){if(_bbc){var s=_bb1.selected();if(!s.length){if(dojo.isFunction(_bb1.editing)){if(!_bb1.editing()){this.attr("checked",false);}else{this.attr("disabled",true);}}else{this.attr("checked",false);}return;}if(s.length==1){if(_bb1.expandable()&&_bb1.expanded()){_bb1.getExpander()._collapseRow();}if(_bb1.store.isItem(s[0])&&!_bb1.editing()){_bb1.edit(s[0]);this.attr("disabled",true);}else{try{if(!_bb1.store.isItem(s[0])){_bb1.deselect(s[0]);}if(!_bb1.editing()){this.attr("checked",false);}}catch(e){}}}else{var _bbd=[];var i;for(i=0;i<s.length;i++){if(!_bb1.isLocked(s[i])&&_bb1.store.isItem(s[i])){_bbd.push(s[i]);}}if(!_bbd.length){this.attr("checked",false);}if(_bbd.length){if(_bbd.length==1){_bb1.edit(_bbd[0]);}else{_bb1.edit(_bbd);}this.attr("disabled",true);}}}}});this.editButton.connect(_bb1,"edit",function(_bbe){if(_bb1.store.isItem(_bbe)){this.attr("disabled",true);}else{this.attr("disabled",false);}});this.editButton.connect(_bb1,"cancelEdit",function(){this.attr("checked",false);var sel=_bb1.selected();if(sel&&sel.length){var _bbf=true;if(sel&&sel.length){var i;for(i=0;i<sel.length;i++){if(!_bb1.isLocked(sel[i])){_bbf=false;break;}}}if(!_bbf){this.attr("disabled",false);}else{this.attr("disabled",true);}}else{this.attr("disabled",true);}});this.editButton.connect(_bb1,"commit",function(){var sel=_bb1.selected();if(sel&&sel.length){var _bc0=true;if(sel&&sel.length){var i;for(i=0;i<sel.length;i++){if(!_bb1.isLocked(sel[i])){_bc0=false;break;}}}if(!_bc0){this.attr("disabled",false);}else{this.attr("disabled",true);}}else{this.attr("disabled",true);}});dojo.place(this.editButton.domNode,this.domNode,"after");}this.domNode.parentNode.removeChild(this.domNode);if("onSelect" in _bb1){this.connect(_bb1,"onSelect",dojo.hitch(this,function(){if(_bb1&&_bb1.edit){if(_bb1.editing()){return;}}if(this.__onSelectTimer){clearTimeout(this.__onSelectTimer);delete this.__onSelectTimer;}this.__onSelectTimer=setTimeout(dojo.hitch(this,function(){var _bc1=_bb1.selected();var _bc2=true;if(_bc1&&_bc1.length){var i;for(i=0;i<_bc1.length;i++){if(!_bb1.isLocked(_bc1[i])){_bc2=false;break;}}}if(_bb9&&_bb1&&_bb1.edit&&!_bc2){this.editButton.attr("disabled",false);}if(_bb8&&_bb1&&_bb1.store.deleteItem&&!_bc2){this.deleteButton.attr("disabled",false);}if(_bb7&&_bb1&&_bb1.store.moveTo&&_bb1.store.orderAttribute&&!_bba&&!_bc2){var j;var _bc3=false;var _bc4=[];dojo.forEach(_bb1.selected(),function(item){if(_bb1.isLocked(item)){_bc3=true;}_bc4.push(parseInt(_bb1._idToIndex[_bb1.store.getIdentity(item)]));});if(_bc3){this.moveToButton.attr("disabled",true);this.moveUpButton.attr("disabled",true);this.moveDownButton.attr("disabled",true);return;}_bc4.sort(function(a,b){return a-b;});while(_bc4.length>1){var _bc5=_bc4.shift();if(_bc5+1!=_bc4[0]){this.moveToButton.attr("disabled",true);this.moveUpButton.attr("disabled",true);this.moveDownButton.attr("disabled",true);return;}}this.moveToButton.attr("disabled",false);this.moveUpButton.attr("disabled",false);this.moveDownButton.attr("disabled",false);dojo.forEach(_bb1.selected(),function(item){if(!_bb1.isLocked(item)){var idx=_bb1._idToIndex[_bb1.store.getIdentity(item)];if(idx==0){this.moveUpButton.attr("disabled",true);}if(idx==_bb1._totalRows-1){this.moveDownButton.attr("disabled",true);}}},this);}}),100);}));this.connect(_bb1,"onSelectAll",dojo.hitch(this,function(){if(_bb1&&_bb1.edit){if(_bb1.editing()){return;}}if(_bb7&&_bb1.store.moveTo&&_bb1.store.orderAttribute&&!_bba){this.moveToButton.attr("disabled",true);this.moveUpButton.attr("disabled",true);this.moveDownButton.attr("disabled",true);}}));this.connect(_bb1,"onDeselect",dojo.hitch(this,function(){if(_bb1&&_bb1.edit){if(_bb1.editing()){return;}}if(this.__onDeselectTimer){clearTimeout(this.__onDeselectTimer);delete this.__onDeselectTimer;}this.__onDeselectTimer=setTimeout(dojo.hitch(this,function(){var _bc6=_bb1.selected();var _bc7=true;if(_bc6&&_bc6.length){var i;for(i=0;i<_bc6.length;i++){if(!_bb1.isLocked(_bc6[i])){_bc7=false;break;}}}if(_bb8&&_bb1&&_bb1.store.deleteItem&&!_bc7){this.deleteButton.attr("disabled",false);}else{if(_bb8&&_bb1&&_bb1.store.deleteItem){this.deleteButton.attr("disabled",true);}}if(_bb9&&_bb1&&_bb1.edit&&!_bc7){this.editButton.attr("disabled",false);}else{if(_bb9&&_bb1&&_bb1.edit){this.editButton.attr("disabled",true);}}if(_bb7&&_bb1&&_bb1.store.moveTo&&_bb1.store.orderAttribute&&!_bba&&!_bc7){var j;var _bc8=false;var _bc9=[];dojo.forEach(_bb1.selected(),function(item){if(_bb1.isLocked(item)){_bc8=true;}_bc9.push(parseInt(_bb1._idToIndex[_bb1.store.getIdentity(item)]));});if(_bc8){this.moveToButton.attr("disabled",true);this.moveUpButton.attr("disabled",true);this.moveDownButton.attr("disabled",true);return;}_bc9.sort(function(a,b){return a-b;});while(_bc9.length>1){var _bca=_bc9.shift();if(_bca+1!=_bc9[0]){this.moveToButton.attr("disabled",true);this.moveUpButton.attr("disabled",true);this.moveDownButton.attr("disabled",true);return;}}this.moveUpButton.attr("disabled",false);this.moveDownButton.attr("disabled",false);this.moveToButton.attr("disabled",false);dojo.forEach(_bb1.selected(),function(item){if(!_bb1.isLocked(item)){var idx=_bb1._idToIndex[_bb1.store.getIdentity(item)];if(idx==0){this.moveUpButton.attr("disabled",true);}if(idx==_bb1._totalRows-1){this.moveDownButton.attr("disabled",true);}}},this);}else{if(_bb7&&_bb1&&_bb1.store.moveTo&&_bb1.store.orderAttribute&&!_bba){this.moveToButton.attr("disabled",true);this.moveUpButton.attr("disabled",true);this.moveDownButton.attr("disabled",true);}}}),100);}));this.connect(_bb1,"onClearSelections",dojo.hitch(this,function(){if(_bb1&&_bb1.edit){if(_bb1.editing()){return;}}if(_bb9&&_bb1&&_bb1.edit){this.editButton.attr("disabled",true);}if(_bb8&&_bb1&&_bb1.store.deleteItem){this.deleteButton.attr("disabled",true);}if(_bb7&&_bb1&&_bb1.store.moveTo&&_bb1.store.orderAttribute&&!_bba){this.moveToButton.attr("disabled",true);this.moveUpButton.attr("disabled",true);this.moveDownButton.attr("disabled",true);}}));}if(_bb7&&_bb1.store.moveTo&&_bb1.store.orderAttribute&&!_bba){this.connect(_bb1,"onMove",dojo.hitch(this,function(){var _bcb=false,_bcc=false;dojo.forEach(_bb1.selected(),function(item){var idx=_bb1._idToIndex[_bb1.store.getIdentity(item)];if(idx==0){_bcb=true;}if(idx==_bb1._totalRows-1){_bcc=true;}},this);this.moveUpButton.attr("disabled",_bcb);this.moveDownButton.attr("disabled",_bcc);}));}if("onEdit" in _bb1){this.connect(_bb1,"onEdit",dojo.hitch(this,function(){if(_bb9){this.editButton.attr("checked",true);}if(_bb8&&_bb1&&_bb1.store.deleteItem){this.deleteButton.attr("disabled",true);}if(_bb7&&_bb1&&_bb1.store.moveTo&&_bb1.store.orderAttribute){this.moveToButton.attr("disabled",true);this.moveUpButton.attr("disabled",true);this.moveDownButton.attr("disabled",true);}if(_bb6&&_bb1&&_bb1.edit&&!_bba){this.addRowButton.attr("disabled",true);}if(this._toolbar.quickFilterSelect){this._toolbar.quickFilterSelect.attr("disabled",true);}if(this._toolbar.newFilterButton){this._toolbar.newFilterButton.attr("disabled",true);}}));this.connect(_bb1,"onEditorClose",dojo.hitch(this,function(){var _bcd=_bb1.selected();var _bce=true;if(_bcd&&_bcd.length){var i;for(i=0;i<_bcd.length;i++){if(!_bb1.isLocked(_bcd[i])){_bce=false;break;}}}if(_bb9){this.editButton.attr("checked",false);}if(_bb1.selected&&_bb1.selected().length&&!_bce){if(_bb1.store.deleteItem&&_bb8){this.deleteButton.attr("disabled",false);}if(_bb9&&_bb1&&_bb1.edit){this.editButton.attr("disabled",false);}if(_bb7&&_bb1&&_bb1.store.moveTo&&_bb1.store.orderAttribute&&!_bba){this.moveToButton.attr("disabled",false);this.moveUpButton.attr("disabled",false);this.moveDownButton.attr("disabled",false);dojo.forEach(_bb1.selected(),function(item){if(!_bb1.isLocked(item)){var idx=_bb1._idToIndex[_bb1.store.getIdentity(item)];if(idx==0){this.moveUpButton.attr("disabled",true);}if(idx==_bb1._totalRows-1){this.moveDownButton.attr("disabled",true);}}},this);}}else{if(_bb9){this.editButton.attr("disabled",true);}}if(_bb6&&_bb1&&_bb1.edit&&!_bba){this.addRowButton.attr("disabled",false);}if(this._toolbar.quickFilterSelect){this._toolbar.quickFilterSelect.attr("disabled",false);}if(this._toolbar.newFilterButton){this._toolbar.newFilterButton.attr("disabled",false);}}));}},destroy:function(){if(!this.__destroyed){this.__destroyed=true;if(this.__onDeselectTimer){clearTimeout(this.__onDeselectTimer);delete this.__onDeselectTimer;}if(this.__onSelectTimer){clearTimeout(this.__onSelectTimer);delete this.__onSelectTimer;}if(this.deleteConfirm){this.deleteConfirm.destroyRecursive();delete this.deleteConfirm;}this.inherited(arguments);}}});dojo.declare("xwt.widget.table.ManageFilterDialog",xwt.widget.layout.Dialog,{button1Label:"Edit",button2Label:"Remove",button3Label:"Cancel",button1:null,button2:null,button3:null,title:"Manage Preset Filters",filterSelectLabel:"Select a filter  ",noFiltersLabel:"(No filters defined)",filterSelect:null,tableId:null,postCreate:function(){this.inherited(arguments);var bm=dojox.html.metrics.getTextBox(this.filterSelectLabel,{"whiteSpace":"nowrap"});var _bcf=230-(bm.w+(dojo.isIE?20:0));this.filterSelect=new xwt.widget.form.DropDown({style:{"width":_bcf+"px"}});var _bd0=dojo.create("div",{className:"xwtManageFilterDialogContainer",style:"width: 240px; padding:5px; margin:5px"});var _bd1=dojo.create("table",{style:{"borderCollapse":"separate"}});var _bd2=dojo.create("tbody",null,_bd1);var tr=dojo.create("tr",null,_bd2);var td=dojo.create("td",{style:{"whiteSpace":"nowrap"},innerHTML:this.filterSelectLabel},tr);td=dojo.create("td",{style:{"paddingLeft":"5px"}},tr);td.appendChild(this.filterSelect.domNode);dojo.place(_bd1,_bd0);this.setDialogContent(_bd0);this.filterSelect.startup();this.connect(this,"show","_populateFilters");},table:function(){if(this.tableId){return dijit.byId(this.tableId);}return null;},_createButtons:function(){var tg=this.buttonGroup;this.button1=new xwt.widget.form.TextButton({label:this.button1Label,baseClass:this.button1BassClass});this.button2=new xwt.widget.form.TextButton({label:this.button2Label});this.button3=new xwt.widget.form.TextButton({label:this.button3Label});tg.addChild(this.button1);tg.addChild(this.button2);tg.addChild(this.button3);this.connect(this.button1,"onClick","_editFilter");this.connect(this.button2,"onClick","_removeFilter");this.connect(this.button3,"onClick","hide");},_hookEvents:function(){return;},_populateFilters:function(){var t=this.table(),fs=this.filterSelect;if(!t){return;}while(this.filterSelect.options.length){this.filterSelect.removeOption(0);}var _bd3=[];dojo.forEach(t.filters,function(f){if(f&&f.editable){_bd3[_bd3.length]={value:f.name,label:dojox.html.entities.encode(dojox.html.entities.decode(f.name,dojox.html.entities.html),dojox.html.entities.html)};}});if(_bd3.length>0){this.filterSelect.addOption(_bd3);}var _bd4=this.filterSelect.getOptions();if(_bd4.length<=0){this.filterSelect.addOption({value:"!!!!!noVal!!!!",label:this.noFiltersLabel});this.button1.attr("disabled",true);this.button2.attr("disabled",true);}else{this.button1.attr("disabled",false);this.button2.attr("disabled",false);}},_getSelected:function(){var f=this.filterSelect.getValue(),t=this.table(),_bd5=t._filterEngine.get(f);return _bd5;},_editFilter:function(){var _bd6=this._getSelected();this.onEdit(_bd6);this.hide();},_removeFilter:function(){var _bd7=this._getSelected(),t=this.table();if(!_bd7){return;}this.onRemove(_bd7);t._filterEngine.remove(_bd7);t._filterEngine.save();this._populateFilters();},onEdit:function(_bd8){},onRemove:function(_bd9){}});dojo.declare("xwt.widget.table.SaveFilterDialog",xwt.widget.layout.Dialog,{button1Label:"Save",title:"Save a Preset Filter",filterInputLabel:"Filter Name  ",tableId:null,filterInput:null,postCreate:function(){this.inherited(arguments);var _bda=this.filterInput=dojo.create("input",{className:"xwtSaveFilterDialogInput",type:"text","class":"dialogInputElement","style":"margin:5px"});this.connect(_bda,"onkeypress",function(evt){if(evt.charOrCode==dojo.keys.ENTER){dojo.stopEvent(evt);var val=dojo.trim(dojo.attr(this.filterInput,"value"));if(val){this._saveFilter();}}});var _bdb=dojo.create("div",{className:"xwtManageFilterDialogContainer",innerHTML:this.filterInputLabel,style:{"width":"300px","whiteSpace":"nowrap","padding":"6px","margin":"5px"}});dojo.place(_bda,_bdb);this.setDialogContent(_bdb);},table:function(){if(this.tableId){return dijit.byId(this.tableId);}return null;},_createButtons:function(){var tg=this.buttonGroup;var _bdc=new xwt.widget.form.TextButton({label:this.button1Label,baseClass:this.button1BassClass});var _bdd=new xwt.widget.form.TextButton({label:this.button2Label});tg.addChild(_bdc);tg.addChild(_bdd);this.connect(_bdc,"onClick","_saveFilter");this.connect(_bdd,"onClick","hide");},_hookEvents:function(){return;},_saveFilter:function(){var name=dojo.trim(this.filterInput.value);if(!name){alert("Enter a valid filter name");return;}if(this.table()._filterEngine._filterMap[name]){if(!this.table()._filterEngine._filterMap[name].editable){alert("Name belongs to pre-defined filter which cannot be edited. \nPls provide another name and save again.");return;}}this.onSave(name);this.filterInput.value="";this.hide();},onSave:function(_bde){}});dojo.declare("xwt.widget.table.ContextualToolbar",[xwt.widget.table.Toolbar,dijit._Container],{templateString:"<div class=\"dijitToolbar xwtContextualToolbar\" wairole=\"menubar\">\r\n\t<table class=\"xwtContextualToolbarRibbonContainer\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n\t\t<tbody class=\"xwtContextualToolbarRibbonContainerTB\">\r\n\t\t\t<tr class=\"xwtContextualToolbarRibbonContainerTR\">\r\n\t\t\t\t<td>\r\n\t\t\t\t\t<span class=\"xwtContextualPadding\"></span>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td class=\"xwtContextualToolbarRibbonContainerTD\" cellpadding=\"0\" cellspacing=\"0\" vertical-align=\"top\">\r\n\t\t\t\t\t<div dojoType=\"xwt.widget.table.Ribbon\" id=\"${tableId}_xwtTableContextualToolbarRibbon\" dojoAttachPoint=\"ribbon\" class=\"xwtRibbon xwtContextualToolbarRibbon\">\r\n\t\t\t\t\t\t<div dojoAttachPoint=\"containerNode\"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</td>\r\n\t\t\t\t<td vertical-align=\"top\">\r\n\t\t\t\t\t<div dojoAttachPoint=\"quickFilterNode\" class=\"xwtQuickFilter\">\r\n\t\t\t\t\t\t<table cellpadding=\"0\" cellspacing=\"0\" border=\"0\">\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td class=\"xwtQuickFilterLabel\"><span>${quickFilterLabel}</span></td>\r\n\t\t\t\t\t\t\t\t<td width=\"120\">\r\n\t\t\t\t\t\t\t\t\t<select id=\"${tableId}_xwtTableContextualToolbar_quickFilterSelect\" dojoType=\"xwt.widget.form.DropDown\" class=\"xwtQuickFilterSelect\" sortByLabel=\"false\"\r\n\t\t\t\t\t\t\t\t\t\tdojoAttachPoint=\"quickFilterSelect\" width=\"150\" dojoAttachEvent=\"onChange: _onQuickFilterChange\">\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td width=\"10\"><span dojoType=\"dijit.ToolbarSeparator\"></span></td>\r\n\t\t\t\t\t\t\t\t<td width=\"30\">\r\n\t\t\t\t\t\t\t\t\t<span dojoType=\"dijit.form.ToggleButton\" iconClass=\"xwtContextualIcon xwtContextualFilterExpand\" class=\"xwtFilterStateButton\"\r\n\t\t\t\t\t\t\t\t\t\tshowLabel=\"false\" dojoAttachPoint=\"newFilterButton\" dojoAttachEvent=\"onClick: _onFilterButtonClick\">\r\n                        \t\t\t\tFilter\r\n                    \t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t</tbody>\r\n\t</table>\r\n</div>\r\n",widgetsInTemplate:true,tableId:"",_selectionState:true,quickFilterLabel:"Show",quickFilter:null,needFilter:true,manageFilterLabel:"Manage Preset Filters",_allFilterLabel:"Show All",_quickFilterLabel:"Quick Filter",_advanceFilterLabel:"Advanced Filter",filterManager:null,disableManageFilters:false,disableDefaultFilters:false,disableQuickFilter:false,disableAdvancedFilter:false,_filterButton:null,filterToolbar:null,postCreate:function(){this.inherited(arguments);if(this.tableId){if(this.table()){this._onTableStartup();}else{this.subscribe(this.tableId+"-startup","_onTableStartup");}}if(this.quickFilter!=null){this.needFilter=this.quickFilter;}if(this.disableAdvancedFilter===true||this.disableDefaultFilters===true){this.disableManageFilters=true;}if(!this.needFilter){dojo.style(this.quickFilterNode,"display","none");dojo.style(this.ribbon.domNode,"margin-right","0px");}else{this.filterManager=new xwt.widget.table.ManageFilterDialog({tableId:this.tableId});this.connect(this.filterManager,"onRemove",function(_bdf){if(_bdf==this.table()._currentFilter){this.table().clearFilter();var _be0=this.table().quickFilterDefault||"All";this.quickFilterSelect.attr("value",_be0);}var s=this.quickFilterSelect;s.store.fetchItemByIdentity({identity:_bdf.name,onItem:function(item){s.store.deleteItem(item);}});});this.connect(this.filterManager,"onEdit",function(_be1){var c=this.getChildren(),fb=this._filterButton;if(fb){fb._showAdvancedToolbar(_be1);}else{console.warn("A FilterButton was not found, we can't edit anything!");}});}},resize:function(){if(this.ribbon){this.ribbon.resize();}},_onTableStartup:function(){var _be2=this.table();if(!_be2){return;}if(this.needFilter){this.filterToolbar=new (xwt.widget.table.FilteringToolbar)({tableId:this.tableId});this.filterToolbar.startup();dojo.place(this.filterToolbar.domNode,this.domNode,"after");this._filterButton=new xwt.widget.table.FilterButton({id:this.tableId+"_xwtTableContextualToolbar_filterButton",toolbarId:this.filterToolbar.id});}var i18n=dojo.i18n.getLocalization("xwt.widget.table","Toolbar");if(this.needFilter){var s=this.quickFilterSelect;if(s.dropDown){dojo.addClass(s.dropDown.domNode,"xwtTableQuickFilterMenu");}s.disableManageFilters=this.disableManageFilters;s.disableDefaultFilters=this.disableDefaultFilters;s.disableQuickFilter=this.disableQuickFilter;s.disableAdvancedFilter=this.disableAdvancedFilter;var _be3=[];if(!this.disableDefaultFilters){if(!this.disableQuickFilter){_be3.push({name:"Quick Filter",label:"<div>"+i18n.quickFilter+"</div>"});}if(!this.disableAdvancedFilter){_be3.push({name:"Advanced Filter",label:"<div>"+i18n.advancedFilter+"</div>"});}if(!this.disableQuickFilter&&!this.disableAdvancedFilter){_be3.push({name:"Advanced Filter Separator",label:"<div></div>",separator:true});}}_be3.push({name:"All",label:"<div>"+i18n.allFilter+"</div>"});if(!this.disableManageFilters){_be3.push({name:this.manageFilterLabel,label:"<div>"+this.manageFilterLabel+"</div>"});}_be3.push({name:this.manageFilterLabel+" Separator",label:"<div></div>",separator:true});if((_be2.filters!=null)&&(_be2.filters.length>0)){_be3=_be3.concat(dojo.map(_be2.filters,function(f,idx){return {name:f.name,label:"<div>"+dojox.html.entities.encode(dojox.html.entities.decode(f.name,dojox.html.entities.html),dojox.html.entities.html)+"</div>"};}));}var _be4=new dojo.data.ItemFileWriteStore({data:{identifier:"name",label:"label",items:_be3}});var _be5=_be2.quickFilterDefault||"All";var _be6=false;if(_be5!="All"){var i;for(i=0;i<_be2.filters.length;i++){if(_be5==_be2.filters[i].name){_be6=true;break;}}}if(!_be6){_be5="All";_be2.quickFilterDefault=_be5;}if(!s.__oldGetMenuItemForOption){s.__oldGetMenuItemForOption=s._getMenuItemForOption;s._getMenuItemForOption=function(_be7){var item=_be7.item;if(item){var sep=s.store.getValue(item,"separator");if(sep){return new dijit.MenuSeparator();}else{return s.__oldGetMenuItemForOption(_be7);}}else{return s.__oldGetMenuItemForOption(_be7);}};}s.setStore(_be4,_be5);if(!this.disableManageFilters){this.connect(this.filterToolbar.saveFilterDialog,"onSave",dojo.hitch(this,function(name){console.log("changing advanced filter to the new name: "+name);this.quickFilterSelect._setValueAttr(name,false);}));}this.connect(this._filterButton,"_showAdvancedToolbar",dojo.hitch(this,function(){if(this.quickFilterSelect.disableManageFilters){dojo.style(this.filterToolbar.saveButton.domNode,"visibility","hidden");this.filterToolbar.disableManageFilters=true;}else{dojo.style(this.filterToolbar.saveButton.domNode,"visibility","");delete this.filterToolbar.disableManageFilters;}}));this.connect(this.table(),"onFilter",dojo.hitch(this,function(){var val=this.quickFilterSelect.attr("value");if((val=="Quick Filter")||(val=="Advanced Filter")){this._setFilterButtonState(false,true);}}));this.connect(this.table(),"onClearFilter",dojo.hitch(this,function(){var val=this.quickFilterSelect.attr("value");if((val=="Quick Filter")||(val=="Advanced Filter")){this._setFilterButtonState(false,false);}}));}if(dojo.isIE<8){var _be8=dojo.hitch(this,function(){var box=dojo.position(this.table().domNode);dojo.style(this.domNode,"width",box.w+"px");this.resize();});this.connect(this.table(),"resize",_be8);_be8();}},_onFilterButtonClick:function(_be9){if(!this.table()){return;}var c=this.getChildren(),fb=this._filterButton;var _be9=this.quickFilterSelect.attr("value");var _bea=true,_beb=false;if(_be9==this.manageFilterLabel){return;}else{if(_be9=="All"){if(this.disableDefaultFilters||this.disableQuickFilter){var _bec=new xwt.widget.notification.Alert({messageType:"information",buttons:[{label:"OK"}]});_bec.setDialogContent("Select a filter from the filter list to see the details.");}else{this.quickFilterSelect.attr("value","Quick Filter");_bea=false;_beb=false;this._lastQuickFilter=_be9;}}else{if(_be9=="Quick Filter"){if(this.table()._currentFilter){this.table().clearFilter();}if(fb.isShown){fb._hideFilterBar();}_beb=false;_bea=true;this.quickFilterSelect.attr("value","All");}else{if(_be9=="Advanced Filter"){if(this.table()._currentFilter){_beb=true;if(fb.isShown){fb._hideFilterBar();_bea=true;}else{_bea=false;fb._showAdvancedToolbar(this.table()._currentFilter);}}else{_beb=false;if(fb.isShown){fb._hideFilterBar();_bea=true;}else{_bea=false;fb._showAdvancedToolbar();}}}else{var f=this.table()._filterEngine.get(_be9);if(f){this.table().filter(f);}this._lastQuickFilter=_be9;_beb=true;if(fb.isShown){fb._hideFilterBar();_bea=true;}else{_bea=false;fb._showAdvancedToolbar(f);if(!f.editable){this.filterToolbar._disable(true);}}}}}}this._setFilterButtonState(_bea,_beb);},_lastQuickFilter:"All",_onQuickFilterChange:function(_bed){if(!this.table()){return;}_table=this.table();if(_table.expandable&&_table.expandable()&&_table.expanded&&_table.expanded()){_table.getExpander()._collapseRow();}var c=this.getChildren(),fb=this._filterButton;var _bee=false,_bef=true;if(_bed==this.manageFilterLabel){this.filterManager.show();this.quickFilterSelect.attr("value",this._lastQuickFilter);}else{if(_bed=="All"){if(this.table()._currentFilter){this.table().clearFilter();}if(fb){fb._hideFilterBar();}this._lastQuickFilter=_bed;}else{if(_bed=="Quick Filter"){if(this.table()._currentFilter){this.table().clearFilter();}this._lastQuickFilter=_bed;if(fb){fb._hideFilterBar();fb._showExamples();}_bee=false;_bef=false;}else{if(_bed=="Advanced Filter"){if(this.table()._currentFilter){this.table().clearFilter();}this._lastQuickFilter=_bed;if(fb){fb._hideFilterBar();fb._showAdvancedToolbar();}_bee=false;_bef=false;}else{if(fb){fb._hideFilterBar();}var f=this.table()._filterEngine.get(_bed);if(f){this.table().filter(f);}this._lastQuickFilter=_bed;_bee=true;_bef=true;}}}}console.log("Selected filter Option: "+_bed);this._setFilterButtonState(_bef,_bee);},_setFilterButtonState:function(_bf0,_bf1){if(_bf0&&!_bf1){this.newFilterButton.attr("iconClass","xwtContextualIcon xwtContextualFilterExpand");}if(!_bf0&&!_bf1){this.newFilterButton.attr("iconClass","xwtContextualIcon xwtContextualFilterCollapse");}if(_bf0&&_bf1){this.newFilterButton.attr("iconClass","xwtContextualIcon xwtContextualFilterExpandApplied");}if(!_bf0&&_bf1){this.newFilterButton.attr("iconClass","xwtContextualIcon xwtContextualFilterCollapseApplied");}},_setSelectionState:function(_bf2){if(_bf2!=this._selectionState){this._selectionState=_bf2;this._setButtonStates(!_bf2);}},_setButtonStates:function(_bf3){},table:function(){if(this.tableId){return dijit.byId(this.tableId);}return null;},destroy:function(){this.inherited(arguments);if(this.filterManager){this.filterManager.destroyRecursive();delete this.filterManager;}if(this.filterToolbar&&this.filterToolbar.domNode.parentNode){this.filterToolbar.destroyRecursive();delete filterToolbar;}if(this._filterButton){this._filterButton.destroyRecursive();delete _filterButton;}}});xwt.widget.table.FilteringWidgetMap={"string":dijit.form.TextBox,"numeric":dijit.form.NumberTextBox,"alphanumeric":dijit.form.TextBox,"enumeration":xwt.widget.form.DropDown};dojo.declare("xwt.widget.table._FilterWidget",[dijit._Widget,dijit._Templated],{templateString:dojo.cache("xwt.widget.table","templates/_FilterWidget.html","<table class=\"xwtNotification xwtFilterWidget\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\">\r\n\t<tbody><tr>\r\n\t\t<td class=\"column-cell\">\r\n\t\t\t<select dojoType=\"xwt.widget.form.DropDown\" dojoAttachPoint=\"column\" searchAttr=\"name\"\r\n\t\t\t\tdojoAttachEvent=\"onChange: _onColumnChange\" style=\"width:175px;\"></select>\r\n\t\t</td>\r\n\t\t<td class=\"operator-cell\">\r\n\t\t\t<select dojoType=\"xwt.widget.form.DropDown\" dojoAttachPoint=\"operator\" searchAttr=\"name\" style=\"width:175px;\"></select>\r\n\t\t</td>\r\n\t\t<td dojoAttachPoint=\"criteriaCell\" class=\"criteria-cell\">\r\n\t\t\t<input type=\"text\" dojoType=\"dijit.form.TextBox\" dojoAttachPoint=\"criteria\" />\r\n\t\t</td>\r\n\t\t<td class=\"action-cell\">\r\n\t\t\t<button type=\"button\" dojoType=\"xwt.widget.form.TextButton\" dojoAttachPoint=\"removeButton\" dojoAttachEvent=\"onClick: onRemove\" iconClass=\"removeButton\" showLabel=\"false\"></button>\r\n\t\t\t<button type=\"button\" dojoType=\"xwt.widget.form.TextButton\" dojoAttachPoint=\"addButton\" dojoAttachEvent=\"onClick: onAdd\" iconClass=\"addButton\" showLabel=\"false\"></button>\r\n\t\t</td>\r\n\t\t<td>\r\n\t\t</td>\r\n\t</tr></tbody>\r\n</table>\r\n"),widgetsInTemplate:true,postCreate:function(){this.inherited(arguments);this.column.setStore(this.columnStore);},onAdd:function(){},onRemove:function(){this.destroy();},getFilterExpression:function(){if(this.column.attr("value")!=null){var attr=this.column.attr("value");attr=attr.substr(0,attr.indexOf("-"));return {op:this.operator.attr("value"),attr:attr,value:this.criteria&&this.criteria.attr("value")};}},_onColumnChange:function(_bf4){var _bf5=this.column,_bf6=this.columnStore,self=this;if(_bf4){_bf6.fetchItemByIdentity({identity:_bf4,onItem:function(item){self._setFilterType(item);}});}},_setSelectStore:function(_bf7,_bf8,_bf9){_bf7.store=_bf8;_bf7.attr("displayedValue","");},_setFilterType:function(item){var id=this.columnStore.getIdentity(item);this.operator.sortByLabel=false;this.operator.setStore(this.opsStores[id]);var _bfa=false;if(this.criteria){_bfa=this.criteria.attr("disabled");this.criteria.destroyRecursive();this.criteria=null;}if(this.widgetTypeMap[id]){var _bfb=this.criteria=new this.widgetTypeMap[id]({});var type=this.columnStore.getValue(item,"filterType");var opts=this.columnStore.getValue(item,"filterOptions");if(type=="enumeration"&&opts&&opts.autoSuggestValues){var data={identifier:"name",label:"name",items:[]};var i;for(i=0;i<opts.autoSuggestValues.length;i++){data.items.push({"name":opts.autoSuggestValues[i]});}_bfb.searchAttr="name";_bfb.store=new dojo.data.ItemFileReadStore({data:data});if("sortAutoSuggestValues" in opts){if(!opts.sortAutoSuggestValues){_bfb.sortByLabel=false;}}}if(_bfa){_bfb.attr("disabled",_bfa);}_bfb.placeAt(this.criteriaCell);dojo.style(_bfb.domNode,{"width":160+"px"});if(this._started){_bfb.startup();}this.connect(this.operator,"onChange",function(_bfc){if(_bfb&&_bfb.domNode){if(_bfc=="is-empty"||_bfc=="is-not-empty"){dojo.style(_bfb.domNode,"display","none");}else{if(dojo.style(_bfb.domNode,"display")=="none"){dojo.style(_bfb.domNode,"display","");}}}});}},destroy:function(){this.inherited(arguments);if(this.criteria){this.criteria.destroyRecursive();}}});dojo.declare("xwt.widget.table.FilteringToolbar",xwt.widget.table.ContextualToolbar,{templateString:dojo.cache("xwt.widget.table","templates/FilteringToolbar.html","<div class=\"dijitToolbar xwtContextualToolbar xwtFilteringToolbar\" wairole=\"menubar\" style=\"display: none;\">\r\n\t<div class=\"labels\">\r\n\t\t<span dojoAttachPoint=\"oneLabel\">${!l10n.matchOne}:</span>\r\n\t\t<span dojoAttachPoint=\"manyLabel\" style=\"display: none;\">\r\n\t\t\t${!l10n.matchManyStart}<select dojoType=\"xwt.widget.form.DropDown\" dojoAttachPoint=\"manySelect\">\r\n\t\t\t\t<option value=\"and\">${!l10n.all}</option>\r\n\t\t\t\t<option value=\"or\">${!l10n.any}</option>\r\n\t\t\t</select>${!l10n.matchManyEnd}:\r\n\t\t</span>\r\n\t\t<button type=\"button\" dojoType=\"dijit.form.ToggleButton\" dojoAttachPoint=\"filterOverflowButton\" iconClass=\"xwtFilteringToolbarOverflowButtonIcon\" showLabel=\"false\" class=\"xwtFilteringToolbarOverflowButton\">${!l10n.slideRight}</button>\r\n\t</div>\r\n\t<span class=\"filter-container\">\r\n\t\t<span class=\"label-cell\">${!l10n.filter}</span>\r\n\t\t<table cellpadding=\"0\" cellspacing=\"0\" border=\"0\" class=\"filter-table\">\r\n\t\t\t<tbody><tr>\r\n\t\t\t<td dojoAttachPoint=\"containerNode\" class=\"filter-cell\"></td>\r\n\t\t\t<td class=\"button-cell\">\r\n\t\t\t\t<button type=\"button\" dojoType=\"xwt.widget.form.TextButton\" dojoAttachPoint=\"goButton\" dojoAttachEvent=\"onClick: _onGo\" disabled>${!l10n.go}</button>\r\n\t\t\t\t<button type=\"button\" dojoType=\"xwt.widget.form.TextButton\" dojoAttachPoint=\"clearButton\" dojoAttachEvent=\"onClick: _onClear\" disabled>${!l10n.clearFilter}</button\r\n\t\t\t\t><button type=\"button\" dojoType=\"dijit.form.Button\" dojoAttachPoint=\"saveButton\" iconClass=\"saveButton\" showLabel=\"false\" dojoAttachEvent=\"onClick: _onSave\" disabled class=\"buttonNoBackground\">${!l10n.save}</button>\r\n\t\t\t</td>\r\n\t\t\t</tr></tbody>\r\n\t\t</table>\r\n\t</span>\r\n</div>\r\n"),hidden:true,saveFilterDialog:null,currentFilter:null,filterOverflowButton:null,postMixInProperties:function(){this.inherited(arguments);var _bfd=this.l10n.matchMany.split("${0}");this.l10n.matchManyStart=_bfd[0];this.l10n.matchManyEnd=_bfd[1];},postCreate:function(){if(!xwt.widget.table.FilteringOperatorMap){var _bfe={};var _bff={},_c00={},map=dojo.i18n.getLocalization("xwt.widget.table","Filter");dojo.forEach(["contains","not-contains","starts-with","ends-with","is-empty","is-not-empty","equals","not-equals"],function(key){_bff[key]=map[key];});dojo.forEach(["equals","not-equals","greater-than","less-than","greater-equals","less-equals"],function(key){_c00[key]=map[key];});var _c01={"is-true":map["is-true"],"is-false":map["is-false"]};var _c02={"equals":map["equals"],"not-equals":map["not-equals"]};xwt.widget.table.FilteringOperatorMap={"empty":_bfe,"string":_bff,"numeric":_c00,"alphanumeric":dojo.mixin({},_bff,_c00),"boolean":_c01,"enumeration":_c02};}var _c03=xwt.widget.table.FilteringOperatorMap;function _c04(type){var map=_c03[type],ops=[];for(var i in map){ops.push({id:i,name:map[i]});}return new dojo.data.ItemFileReadStore({data:{identifier:"id",label:"name",items:ops}});};this._emptyOpStore=_c04("empty");this._stringOpStore=_c04("string");this._numericOpStore=_c04("numeric");this._alphanumericOpStore=_c04("alphanumeric");this._booleanOpStore=_c04("boolean");this._enumerationOpStore=_c04("enumeration");this.inherited(arguments);this.saveFilterDialog=new xwt.widget.table.SaveFilterDialog({tableId:this.tableId});this.connect(this.saveFilterDialog,"onSave",dojo.hitch(this,"_save"));this.connect(this.domNode,"onscroll",function(e){if(!this.__allowScroll){this.domNode.scrollLeft=this.__scrollLeft;}});this.connect(this.filterOverflowButton,"onChange",function(_c05){var self=this;if(_c05){var pos=dojo.position(this.domNode);var _c06=this.domNode.scrollWidth;if(pos.w<_c06){var _c07=_c06-pos.w;var _c08={node:this.filterOverflowButton.domNode,properties:{right:{start:0,end:-_c07,units:"px"}},onBegin:function(){self.__allowScroll=true;},onAnimate:function(l){var move=l.right;move=move.substring(0,move.indexOf("px"));move=Math.abs(parseInt(move,10));self.domNode.scrollLeft=move;},onEnd:function(){setTimeout(function(){self.__scrollLeft=self.domNode.scrollLeft;delete self.__allowScroll;},0);}};var _c09=dojo.animateProperty(_c08);_c09.play();}}else{if(this.domNode.scrollLeft!=0){var _c0a={node:this.filterOverflowButton.domNode,properties:{right:{start:-this.domNode.scrollLeft,end:0,units:"px"}},onBegin:function(){self.__allowScroll=true;},onAnimate:function(l){var move=l.right;move=move.substring(0,move.indexOf("px"));move=Math.abs(parseInt(move,10));self.domNode.scrollLeft=move;},onEnd:function(){dojo.style(self.filterOverflowButton.domNode,"dummy","");dojo.style(self.filterOverflowButton.domNode,"right","0px");setTimeout(function(){self.__scrollLeft=self.domNode.scrollLeft;delete self.__allowScroll;},0);}};var _c0b=dojo.animateProperty(_c0a);_c0b.play();}}});},resize:function(){this.inherited(arguments);var pos=dojo.position(this.domNode);var _c0c=this.domNode.scrollWidth;this.filterOverflowButton.attr("checked",false,false);dojo.style(this.filterOverflowButton.domNode,"right","0px");this.domNode.scrollLeft=0;if(pos.w<_c0c){dojo.style(this.filterOverflowButton.domNode,"display","");}else{dojo.style(this.filterOverflowButton.domNode,"display","none");}},onStartup:function(){dojo.publish(this.id+"-startup",[this]);},_onGo:function(){if(!this.table()){return;}var f=this.getFilter();if(dojo.isFunction(this.table().clearSelections)){this.table().clearSelections();}this.table().filter(f);this.clearButton.attr("disabled",false);if(this.disableManageFilters===false){this.saveButton.attr("disabled",false);}else{this.saveButton.attr("disabled",true);}},_onClear:function(){if(!this.table()){return;}this._clearFilters();this.table().clearFilter();this._addFilterRule();this.goButton.attr("disabled",true);this.clearButton.attr("disabled",true);},_load:function(_c0d){var last=null;var _c0e=_c0d.expressions.length;dojo.forEach(_c0d.expressions,function(exp){last=this._addFilterRule(last,exp);},this);if(_c0e>1){this.manySelect.attr("value",_c0d.conjunction);}this._currentFilter=_c0d;return (_c0d!==undefined);},_onSave:function(){if(this.disableManageFilters){return;}if(this._currentFilter){this.saveFilterDialog.filterInput.value=this._currentFilter.name;}this.saveFilterDialog.show();},_save:function(name){var f=this.getFilter();if(this.table()){f.name=name;this.table()._filterEngine.add(f);this.table()._filterEngine.save();var _c0f=dijit.byNode(this.domNode.previousSibling);if(_c0f){var s=_c0f.quickFilterSelect;s.store.fetchItemByIdentity({identity:name,onItem:function(item){if(!s.store.isItem(item)){s.store.newItem({name:name,label:"<div>"+dojox.html.entities.encode(dojox.html.entities.decode(name,dojox.html.entities.html),dojox.html.entities.html)+"</div>"});}},onError:function(){console.warn("An error occurred when trying to find the saved filter in the Preset Filter list.");}});}}},show:function(_c10){if(!this.hidden){return;}dojo.style(this.domNode,"display","");this._clearFilters();if(_c10&&_c10.expressions){this._load(_c10);}else{this._addFilterRule();}this.hidden=false;},hide:function(){if(this.hidden){return;}dojo.style(this.domNode,"display","none");this._clearFilters();this.hidden=true;},getFilter:function(){return {conjunction:this.manySelect.attr("value"),expressions:dojo.map(this.getChildren(),function(_c11){return _c11.getFilterExpression();})};},_setupMappings:function(){var cols=this.columns,_c12=xwt.widget.table.FilteringWidgetMap,_c13=[],_c14={},_c15={},self=this;this._widgetTypeMap=_c14;this._opsStoreMap=_c15;var _c16=function(_c17){var id=_c17.attr+"-"+_c17.label,_c18=_c17.filterType||"alphanumeric";var _c19;if(_c17.title){_c19=_c17.label+" "+_c17.title;}else{_c19=_c17.label;}if(_c17.filterable){_c13.push({id:id,name:_c19,filterType:_c18,filterOptions:_c17.filterOptions});}_c14[id]=_c17.filterWidgetType||_c12[_c18];_c15[id]=self["_"+_c18+"OpStore"];};cols.forEach(function(col,i){if(col.columnType!=xwt.widget.table.ColumnTypes.COLUMN){return;}if(col.children){col.children.forEach(_c16);}else{_c16(col);}});var id="!!!!!noVal!!!!";var _c1a="empty";_c13.push({id:id,name:"&nbsp",filterType:_c1a,filterOptions:""});_c14[id]=_c12[_c1a];_c15[id]=self["_"+_c1a+"OpStore"];this._columnStore=new dojo.data.ItemFileReadStore({data:{identifier:"id",label:"name",items:_c13},hierarchical:false});this._columnStore.comparatorMap={};this._columnStore.comparatorMap["name"]=function(a,b){var ret=0;if(a=="&nbsp"){ret=-1;}else{if(b=="&nbsp"){ret=1;}else{if(a<b){ret=-1;}else{if(a>b){ret=1;}else{ret=0;}}}}return ret;};},_onColumnsChange:function(){this._setupMappings();},_onTableStartup:function(_c1b){_c1b=_c1b||this.table();var cols=this.columns=_c1b._columns;this._setupMappings();this.connect(cols,"onMove","_onColumnsChange");this.connect(cols,"onShow","_onColumnsChange");this.connect(cols,"onHide","_onColumnsChange");this.connect(this,"_addFilterRule",function(){var p=_c1b.getParent();if(p&&p.isLayoutContainer){_c1b.resize();}});},_clearFilters:function(){dojo.forEach(this.getChildren(),function(_c1c){_c1c.destroyRecursive();});this.saveButton.attr("disabled",true);if(dojo.isFunction(this.table.clearSelections)){this.table.clearSelections();}},_addFilterRule:function(_c1d,_c1e){var _c1f=this.domNode.scrollLeft;var self=this;this.goButton.attr("disabled",true);this.saveButton.attr("disabled",true);var w=new xwt.widget.table._FilterWidget({opsStores:this._opsStoreMap,columnStore:this._columnStore,widgetTypeMap:this._widgetTypeMap,onAdd:function(){self._addFilterRule(w);}});w.placeAt(_c1d?_c1d.domNode:this.containerNode,_c1d?"after":"first");this.connect(w.column,"onChange",dojo.hitch(this,function(_c20){if(_c20==="!!!!!noVal!!!!"){this.goButton.attr("disabled",true);this.saveButton.attr("disabled",true);}else{if(!w.column.attr("disabled")&&(this.getFilter()!=null)){var _c21=this.getFilter();var _c22=true;dojo.forEach(_c21.expressions,function(el){if((el==null)||(el.attr==="")||(el.op="")){_c22=false;}});this.goButton.attr("disabled",!_c22);}}}));this.connect(w,"onRemove","_checkRemoveButton");this.connect(w,"onRemove",function(){var _c23=this.table();if(_c23){var p=_c23.getParent();if(p&&p.isLayoutContainer){_c23.resize();}}if(dojo.isIE){this.goButton.domNode.parentNode.className=this.goButton.domNode.parentNode.className;this.goButton.domNode.className=this.goButton.domNode.className;this.clearButton.domNode.className=this.clearButton.domNode.className;this.saveButton.domNode.className=this.saveButton.domNode.className;setTimeout(dojo.hitch(this,function(){this.goButton.domNode.parentNode.className=this.goButton.domNode.parentNode.className;this.goButton.domNode.className=this.goButton.domNode.className;this.clearButton.domNode.className=this.clearButton.domNode.className;this.saveButton.domNode.className=this.saveButton.domNode.className;}),0);}});w.startup();if(dojo.isIE){this.goButton.domNode.parentNode.className=this.goButton.domNode.parentNode.className;this.goButton.domNode.className=this.goButton.domNode.className;this.clearButton.domNode.className=this.clearButton.domNode.className;this.saveButton.domNode.className=this.saveButton.domNode.className;setTimeout(dojo.hitch(this,function(){this.goButton.domNode.parentNode.className=this.goButton.domNode.parentNode.className;this.goButton.domNode.className=this.goButton.domNode.className;this.clearButton.domNode.className=this.clearButton.domNode.className;this.saveButton.domNode.className=this.saveButton.domNode.className;}),0);}if(_c1e){var c=this.table()&&this.table().getColumns().getByAttribute(_c1e.attr);if(c){var h=dojo.connect(w,"_setFilterType",function(item){dojo.disconnect(h);w.operator.attr("value",_c1e.op);if(w.criteria&&_c1e.value!==undefined){w.criteria.attr("value",_c1e.value);}});w.column.attr("value",_c1e.attr+"-"+c.label);}}this.domNode.scrollLeft=_c1f;this._checkRemoveButton();return w;},_checkRemoveButton:function(){var _c24=this.getChildren(),len=_c24.length;if((this.getFilter()!=null)){var _c25=this.getFilter();var _c26=true;dojo.forEach(_c25.expressions,function(el){if((el==null)||(el.attr==="")||(el.op="")){_c26=false;}});this.goButton.attr("disabled",!_c26);}if(len==1){_c24[0].removeButton.attr("disabled",true);}else{for(var i=0,_c27;_c27=_c24[i];i++){_c27.removeButton.attr("disabled",i==0&&len==1);}}dojo.style(this.oneLabel,"display",len==1?"":"none");dojo.style(this.manyLabel,"display",len==1?"none":"");if(len==1){this.manySelect.attr("value","and");}},_disable:function(_c28){console.log("disabling filterbar");var _c29=this.domNode;var q=dojo.query(".xwtFilterWidget",_c29);dojo.query(".xwtFilterWidget",_c29).forEach(function(node){var x=dijit.findWidgets(node);for(i=0;i<x.length;i++){x[i].attr("disabled",true);}});this.goButton.attr("disabled",true);this.clearButton.attr("disabled",true);this.saveButton.attr("disabled",true);},destroy:function(){if(!this._nDestroyed){this._nDestroyed=true;this.inherited(arguments);if(this.saveFilterDialog){this.saveFilterDialog.destroyRecursive();delete this.saveFilterDialog;}}},destroyRecursive:function(){if(!this._rDestroyed){this._rDestroyed=true;this.inherited(arguments);}}});dojo.declare("xwt.widget.table.FilterButton",[dijit.form.ToggleButton,dijit._Container,dijit._HasDropDown],{l10n:null,isShown:false,postCreate:function(){this.inherited(arguments);if(this.toolbarId){if(this.toolbar()){this._setupMenuItems();}else{this.subscribe(this.toolbarId+"-startup","_setupMenuItems");}}},toolbar:function(){if(this.toolbarId){return dijit.byId(this.toolbarId);}return null;},_onTableStartup:function(_c2a){var _c2b=this.example=new xwt.widget.table.FilterByExample({table:_c2a});_c2b.placeAt(_c2a.tableHeadContainer);_c2b.startup();var cl=dojo.connect(_c2a,"destroy",function(){dojo.disconnect(cl);_c2b.destroy();});},_showAdvancedToolbar:function(_c2c){this._onChangeActive=false;var _c2d=this.toolbar();if(!this.attr("checked")){this.attr("checked",true);}if(!_c2d.table()){return;}if(_c2d.getFilter().expressions.length>0){this._onChangeActive=true;return;}if(_c2d.getFilter()!==_c2c){if(this.example){this.example.hide();}}_c2d.show(_c2c);_c2d.resize();_c2d.table().resize();this._onChangeActive=true;this.isShown=true;},_showExamples:function(_c2e){this._onChangeActive=false;var _c2f=this.toolbar();if(!this.attr("checked")){this.attr("checked",true);}if(!_c2f.table()){return;}if((this.example)&&(this.example.getFilter())){this._onChangeActive=true;return;}if(_c2f.getFilter()!==_c2e){}if(this.example){this.example.show(_c2e);}_c2f.table().resize();this._onChangeActive=true;this.isShown=true;},_hideFilterBar:function(){if(this.example){this.example.hide();}if(this.toolbar()){this.toolbar().hide();this.toolbar().table().resize();}this.isShown=false;},_setupMenuItems:function(_c30){_c30=_c30||this.toolbar();if(_c30===undefined){return;}if(_c30.table()&&_c30.table()._started){this._onTableStartup(_c30.table());}else{this.subscribe(_c30.tableId+"-startup","_onTableStartup");}}});dojo.declare("xwt.widget.table._ByExampleWidget",dijit.form.ComboBox,{templateString:dojo.cache("xwt.widget.table","templates/_ByExampleWidget.html","<div class=\"dijit dijitReset dijitInlineTable dijitLeft xwtByExampleWidget\"\r\n\tid=\"widget_${id}\"\r\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\" dojoAttachPoint=\"comboNode\" waiRole=\"presentation\" tabIndex=\"-1\"\r\n\t><div style=\"overflow:hidden;\"\r\n\t\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton xwtByExampleDownArrowButton'\r\n\t\t\tdojoAttachPoint=\"downArrowNode\" waiRole=\"presentation\"\r\n\t\t\tdojoAttachEvent=\"onmousedown:_onArrowMouseDown,onmouseup:_onMouse,onmouseenter:_onMouse,onmouseleave:_onMouse\"\r\n\t\t\t><div class=\"dijitArrowButtonInner\">&thinsp;</div\r\n\t\t\t><div class=\"dijitArrowButtonChar\">&#9660;</div\r\n\t\t></div\r\n\t\t><div class=\"dijitReset dijitValidationIcon xwtByExampleWidgetButton\" dojoAttachEvent=\"onclick:_onButtonClick\"><br></div\r\n\t\t><div class=\"dijitReset dijitValidationIconText\">&Chi;</div\r\n\t\t><div class=\"dijitReset dijitInputField\"\r\n\t\t\t><input ${nameAttrSetting} type=\"text\" autocomplete=\"off\" class='dijitReset'\r\n\t\t\tdojoAttachEvent=\"onkeypress:_onKeyPress,compositionend\"\r\n\t\t\tdojoAttachPoint=\"textbox,focusNode\" waiRole=\"textbox\" waiState=\"haspopup-true,autocomplete-list\"\r\n\t\t/></div\r\n\t></div\r\n></div>\r\n"),hasDownArrow:false,enableAutoSuggest:false,typePauseSearchDelay:1000,_filtered:false,queryExpr:"*${0}*",highlightMatch:"all",autoComplete:false,isEnum:false,_setFilteredAttr:function(_c31){this._filtered=_c31;dojo.toggleClass(this.domNode,"filtered",_c31);},_getFilteredAttr:function(){return this._filtered;},postCreate:function(){this.inherited(arguments);this.connect(this.focusNode,"onkeydown",this._onExecute);this.connect(this,"onChange","_onChangeFiltering");},_onFocus:function(){this.inherited(arguments);if(this.enableAutoSuggest){this._startSearchAll();}},_onBlur:function(){if(this._inputFilterTimer){clearTimeout(this._inputFilterTimer);delete this._inputFilterTimer;}var val=this.attr("value");val=val?val:"";if(val){if(val!==this._lastFilteredValue){this._doFilter(true);}}else{if(this.attr("filtered")!==false){this._doFilter(false);}}this.inherited(arguments);},doHighlight:function(_c32,find){var _c33="i"+(this.highlightMatch=="all"?"g":"");var _c34=this._escapeHtml(_c32);find=dojo.regexp.escapeString(find);var ret=_c34.replace(new RegExp("(^|\\s)("+find+")",_c33),"$1<span class=\"xwtByExampleWidgetHighlightMatch\">$2</span>");return ret;},_openResultList:function(_c35,_c36){var seen=[],self=this;_c35=dojo.filter(_c35,function(item,idx){var _c37=self.store.getValue(item,self.searchAttr);if(dojo.indexOf(seen,_c37)>-1){return false;}seen.push(_c37);return true;});if(this.isEnum){var _c38=this.attr("value");if(_c38){var _c39=[];var _c3a=[];this.autoComplete=false;dojo.forEach(_c35,function(item,idx){var _c3b=self.store.getValue(item,self.searchAttr);if(_c3b!=null){_c3b=_c3b+"";_c3b=_c3b.toLowerCase();_c38=_c38.toLowerCase();if(_c3b.indexOf(_c38)==0){_c39.push(item);self.autoComplete=true;}else{_c3a.push(item);}}else{_c3a.push(item);}});_c35=_c39.concat(_c3a);}}this.inherited(arguments,[_c35,_c36]);},onFilter:function(){},_doFilter:function(_c3c){if(this.attr("disabled")){return;}if(this.isEnum){var val=this.attr("value");var item=this.attr("item");var _c3d;if(item){_c3d=this.store.getValue(item,this.searchAttr);if(_c3d!=null){_c3d+="";}}}this.attr("filtered",_c3c);this._lastFilteredValue=this.attr("value");this.onFilter(_c3c);if(dojo.isIE){this.textbox.className=this.textbox.className;}},_onButtonClick:function(){var f=this.attr("filtered");if(f){this.attr("value","");this._doFilter(false);if(this._focused&&this.enableAutoSuggest){this._startSearchAll();}}},_onExecute:function(e){if((e.keyCode==dojo.keys.ENTER||e.keyCode==dojo.keys.RETURN)&&!(e.ctrlKey||e.altKey||e.metaKey)){dojo.stopEvent(e);var _c3e=this.attr("filtered");if(!_c3e||this._lastFilteredValue!==this.attr("value")){this._doFilter(!!this.attr("value"));}}},getFilterExpression:function(){var expr={op:"contains",attr:this.searchAttr,value:this.attr("displayedValue")};if(this.isEnum){expr.op="equals";}return expr;},_onChangeFiltering:function(_c3f){if(this._inputFilterTimer){clearTimeout(this._inputFilterTimer);}this._inputFilterTimer=setTimeout(dojo.hitch(this,function(){var _c40=this.attr("filtered");if(_c3f){if(_c3f!==this._lastFilteredValue||!_c40){this._doFilter(true);}}else{if(_c40!==false){this._doFilter(false);}}delete this._inputFilterTimer;}),this.typeSearchDelay);},_startSearch:function(){if(this.enableAutoSuggest){return this.inherited(arguments);}},destroy:function(){this.inherited(arguments);if(this._inputFilterTimer){clearTimeout(this._inputFilterTimer);delete this._inputFilterTimer;}}});dojo.declare("xwt.widget.table.FilterByExample",[dijit._Widget,dijit._Templated,dijit._Container],{templateString:"<div style=\"overflow:hidden;display:none;\" class=\"xwtFilterByExample\"></div>",hidden:true,searchDelay:800,postMixInProperties:function(){this.inherited(arguments);this.columns=this.table._columns;},postCreate:function(){this.inherited(arguments);this.__i18n=dojo.i18n.getLocalization("xwt.widget.table","Filter");this.__children=[];var cols=this.columns;this._createTable();this._setupMappings();this._createWidgets();var _c41=this._cols_conns=[];_c41.push(dojo.connect(cols,"onMove",this,"_onColumnsChange"));_c41.push(dojo.connect(cols,"onShow",this,"_onColumnsChange"));_c41.push(dojo.connect(cols,"onHide",this,"_onColumnsChange"));_c41.push(dojo.connect(cols,"onResize",this,"_resizeWidgets"));},startup:function(){if(this._started){return;}this.inherited(arguments);dojo.forEach(this.getChildren(),function(w){w.startup();});this._source=new xwt.widget.table._ColumnMover(this.domNode,{table:this.table,singular:true,additionalNodes:[this.domNode]});this._source.startup();},_createTable:function(){if(!this.table){return;}var cols=this.columns,_c42=this.table,_c43=new dojox.string.Builder("<table cellpadding=\"0\" cellspacing=\"0\" border=\"0\"><tbody><tr>");var _c44=null;cols.forEach(function(_c45){if(_c44==null&&_c45.columnType==xwt.widget.table.ColumnTypes.SELECTOR){_c44=_c45._index;}_c45._createCell(0,_c43,_c42);});_c43.append("</tr></tbody></table>");this.domNode.innerHTML=_c43.toString();dojo.addClass(this.domNode.firstChild,_c42._css.head);this.tableHeadRow=this.containerNode=dojo.query("tr",this.domNode.firstChild)[0];if(_c44!=null){var _c46=dojo.query(".cell-container-"+_c44,_c42.tableHeadInnerContainer)[0],scb=dojo.contentBox(_c46);selectorCell=dojo.query(".cell-container-"+_c44,this.domNode)[0];if(scb.w>=0){selectorCell.style.width=scb.w+"px";}else{this._delayedSelectorWidth=true;}}},getChildren:function(){return this.__children;},getFilter:function(){var _c47=dojo.filter(this.getChildren(),function(_c48){return _c48.attr("filtered");});if(_c47.length){return {conjunction:"and",expressions:dojo.map(_c47,function(_c49){return _c49.getFilterExpression();})};}else{return null;}},onWidgetFilter:function(){if(!this.table){return;}var f=this.getFilter();if(dojo.isFunction(this.table.clearSelections)){this.table.clearSelections();}if(f){this.table.filter(f);}else{this.table.clearFilter();}},_createWidgets:function(){var _c4a=this.mappings,self=this,_c4b=this.table,_c4c=_c4b.store,_c4d=_c4b._getPadBorderWidth;var _c4e=this._widget_conns=[];var _c4f=this.searchDelay=_c4b.filterDelay;var _c50=this.columns.columns;dojo.query(this.column_query,this.domNode).forEach(function(node,_c51){var _c52=_c4a[_c51];var _c53=false;var _c54=null;if(_c52.groupIndex>0){var _c55=_c50[_c52.groupIndex]||{};var _c56=_c55.children||{};var cols=_c56._columns||{};_c54=cols[_c52.index]||{};}else{_c54=_c50[_c52.index];}var _c57=_c54.filterOptions||{};_c57=dojo.clone(_c57);var _c58=_c4c;if(!_c57.autoSuggestValues&&_c54.filterType=="boolean"){_c57.autoSuggestValues=[true,false];if(!("enableAutoSuggest" in _c57)){_c57.enableAutoSuggest=true;}if(!("autoSuggestDelay" in _c57)){_c57.autoSuggestDelay=300;}}if(_c57.autoSuggestValues){var eNum=_c57.autoSuggestValues;if("sortAutoSuggestValues" in _c57){if(_c57.sortAutoSuggestValues){eNum.sort();}}else{eNum.sort();}var data={label:_c52.attr,items:[]};for(i=0;i<eNum.length;i++){var item={};item[_c52.attr]=eNum[i];data.items.push(item);}_c58=new dojo.data.ItemFileReadStore({data:data});if(!("enableAutoSuggest" in _c57)){_c57.enableAutoSuggest=true;}_c53=true;}var w=new xwt.widget.table._ByExampleWidget({searchAttr:_c52.attr,searchDelay:_c57.autoSuggestDelay||_c4f||750,enableAutoSuggest:_c57.enableAutoSuggest?true:false,intermediateChanges:true,typeSearchDelay:_c57.typePauseSearchDelay||1000,store:_c58,isEnum:_c53});if(!_c54.filterable){w.attr("disabled",true);w.attr("value",self.__i18n.notFilterable);}self.__children.push(w);w.placeAt(node);var _c59=(dojo.contentBox(node).w-_c4d(w.domNode));if(_c59>0){w.domNode.style.width=_c59+"px";}_c4e.push(dojo.connect(w,"onFilter",self,"onWidgetFilter"));});},_destroyWidgets:function(){dojo.forEach(this.getChildren(),function(w){w.destroyRecursive();});this.__children=[];if(this._widget_conns){dojo.forEach(this._widget_conns,dojo.disconnect);}},_setupMappings:function(){var _c5a=this.mappings=[],_c5b=xwt.widget.table.FilteringWidgetMap,_c5c=[];function _c5d(_c5e,_c5f){var _c60={index:_c5e._index,groupIndex:_c5e._groupIndex,attr:_c5e.attr};if(_c5e._groupIndex>-1){_c5c.push(".cell-"+_c5e._groupIndex+" .group-cell-"+_c5e._index);}else{_c5c.push(".cell-"+_c5e._index);}_c5a.push(_c60);};this.columns.forEach(function(col,i){if(col.columnType!=xwt.widget.table.ColumnTypes.COLUMN){return;}if(col.children){col.children.forEach(_c5d);}else{_c5d(col);}});this.column_query=_c5c.join(", ");},_onColumnsChange:function(){if(!this.table){return;}this._destroyWidgets();var _c61=this.tableHeadRow,_c62=this.table;dojo.query("*",this.domNode).orphan();this._createTable();this._setupMappings();this._createWidgets();},_resizeWidgets:function(){var _c63=this.table._getPadBorderWidth;dojo.query(this.column_query,this.domNode).forEach(function(node,_c64){if(!node.firstChild){return;}var fc=node.firstChild;var _c65=dojo.contentBox(node).w-_c63(fc);if(_c65>0){fc.style.width=_c65+"px";}fc=null;});},show:function(){if(!this.hidden){return;}if(!this.table){return;}if(this._delayedSelectorWidth){var cols=this.columns;var _c66=null;var _c67=this.table;cols.forEach(function(_c68){if(_c66==null&&_c68.columnType==xwt.widget.table.ColumnTypes.SELECTOR){_c66=_c68._index;}});if(_c66!=null){var _c69=dojo.query(".cell-container-"+_c66,_c67.tableHeadInnerContainer)[0];var scb=dojo.contentBox(_c69);var _c6a=dojo.query(".cell-container-"+_c66,this.domNode)[0];if(scb.w>=0){_c6a.style.width=scb.w+"px";delete this._delayedSelectorWidth;}else{this._delayedSelectorWidth=true;}}}dojo.style(this.domNode,"display","");this._resizeWidgets();dojo.addClass(this.table.tableHeadContainer,"filter-by-example");this.hidden=false;},hide:function(){if(this.hidden){return;}if(!this.table){return;}dojo.style(this.domNode,"display","none");dojo.removeClass(this.table.tableHeadContainer,"filter-by-example");dojo.forEach(this.getChildren(),function(_c6b){_c6b.attr("filtered",false);if(!_c6b.attr("disabled")){_c6b.attr("value","");}});this.hidden=true;},destroy:function(){this.inherited(arguments);if(this._cols_conns&&this._cols_conns){dojo.forEach(this._cols_conns,dojo.disconnect);}if(this._source){this._source.destroy();}this._destroyWidgets();}});}if(!dojo._hasResource["xwt.widget._ConfigureTheme"]){dojo._hasResource["xwt.widget._ConfigureTheme"]=true;dojo.provide("xwt.widget._ConfigureTheme");var themeInUse="";(function(){var d=dojo,_c6c=false,_c6d=null,_c6e="reboot2";var _c6f=["kubricklite","reboot2"];var _c70=["kubricklite-base","kubricklite-xwt","kubricklite-explorer"];var _c71=["reboot2-base","reboot2-xwt","reboot2-explorer"];if(window.location.href.indexOf("?")>-1){var str=window.location.href.substr(window.location.href.indexOf("?")+1).split(/#/);var ary=str[0].split(/&/);for(var i=0;i<ary.length;i++){var _c72=ary[i].split(/=/),key=_c72[0],_c73=_c72[1].replace(/[^\w]/g,"");switch(key){case "locale":dojo.config.locale=locale=_c73;break;case "dir":document.getElementsByTagName("html")[0].dir=_c73;break;case "theme":_c6c=_c73;break;case "a11y":if(_c73){_c6d="dijit_a11y";}}}}if(_c6c||_c6d){var _c74="";var _c75=dojo.query("head link",dojo.doc.documentElement);var _c76=null;if(_c6c=="kubricklite"){_c76=_c70;}else{_c76=_c71;}for(var m=0;m<_c75.length;m++){var l=_c75[m];if(l&&l.rel=="stylesheet"&&l.href){if(l.href.indexOf("kubricklite.css")>0||l.href.indexOf("reboot2.css")>0){console.log("DESTROYED LINK::"+l.href);dojo.destroy(l);}}}for(var k=0;k<_c75.length;k++){var link=_c75[k];if(link&&link.rel=="stylesheet"){for(var l=0;l<_c76.length;l++){if(link.href&&link.href.indexOf(_c76[l]+".css")>0){console.log("DESTROYED LINK::"+link.href);dojo.destroy(link);}}}}var _c77;if(_c6c){if(_c6c=="kubricklite"){_c77=_c70;}else{_c77=_c71;}for(var i=0;i<_c77.length;i++){var _c78=d.moduleUrl("xwt.themes",_c6c+"/"+_c77[i]+".css");document.write("<link rel=\"stylesheet\" type=\"text/css\" href=\""+_c78+"\">");console.log("ADDED LINK::"+_c78);}}dojo.parser._xwtOldParse=dojo.parser.parse;dojo.parser.parse=function(_c79,args){var b=dojo.body();if(_c6c){if(!dojo.hasClass(b,_c6c)){dojo.removeClass(b,_c6e);if(!d.hasClass(b,_c6c)){d.addClass(b,_c6c);}var n=d.byId("themeStyles");if(n){d.destroy(n);}}if(_c6d){d.addClass(b,_c6d);}}return dojo.parser._xwtOldParse(_c79,args);};d.addOnLoad(function(){themeInUse=_c6c;console.log("_conftheme-- themeInUse:: "+themeInUse);});}})();}if(!dojo._hasResource["xwt.widget.TooltipDialog"]){dojo._hasResource["xwt.widget.TooltipDialog"]=true;dojo.provide("xwt.widget.TooltipDialog");dojo.declare("xwt.widget.TooltipDialog",[dojox.layout.ContentPane,dijit._Templated,dijit.form._FormMixin,dijit._DialogMixin],{title:"",doLayout:false,autofocus:true,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:null,templateString:"<div waiRole=\"presentation\">\r\n\t<div class=\"dijitTooltipContainer\" waiRole=\"presentation\">\r\n\t\t<div class =\"dijitTooltipContents dijitTooltipFocusNode\" dojoAttachPoint=\"containerNode\" tabindex=\"-1\" waiRole=\"dialog\"></div>\r\n\t</div>\r\n\t<div class=\"dijitTooltipConnector\" waiRole=\"presentation\"></div>\r\n</div>\r\n",postCreate:function(){this.inherited(arguments);this.connect(this.containerNode,"onkeypress","_onKey");this.containerNode.title=this.title;},orient:function(node,_c7a,_c7b){var c=this._currentOrientClass;if(c){dojo.removeClass(this.domNode,c);}c="dijitTooltipAB"+(_c7b.charAt(1)=="L"?"Left":"Right")+" dijitTooltip"+(_c7b.charAt(0)=="T"?"Below":"Above");dojo.addClass(this.domNode,c);this._currentOrientClass=c;},onOpen:function(pos){this.orient(this.domNode,pos.aroundCorner,pos.corner);this._onShow();if(this.autofocus){this._getFocusItems(this.containerNode);dijit.focus(this._firstFocusItem);}},_onKey:function(evt){var node=evt.target;var dk=dojo.keys;if(evt.charOrCode===dk.TAB){this._getFocusItems(this.containerNode);}var _c7c=(this._firstFocusItem==this._lastFocusItem);if(evt.charOrCode==dk.ESCAPE){this.onCancel();dojo.stopEvent(evt);}else{if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===dk.TAB){if(!_c7c){dijit.focus(this._lastFocusItem);}dojo.stopEvent(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===dk.TAB&&!evt.shiftKey){if(!_c7c){dijit.focus(this._firstFocusItem);}dojo.stopEvent(evt);}else{if(evt.charOrCode===dk.TAB){evt.stopPropagation();}}}}}});}if(!dojo._hasResource["xwt.widget.layout.En_ScrollPane"]){dojo._hasResource["xwt.widget.layout.En_ScrollPane"]=true;dojo.provide("xwt.widget.layout.En_ScrollPane");dojo.declare("xwt.widget.layout.En_ScrollPane",[dijit._Widget,dijit._Templated,dijit._Container,dijit._Contained],{templateString:"<div class=\"scrollPane\">\r\n\t<div class=\"parentContainer\" dojoAttachPoint=\"parentContainerAP\">\r\n\t\t<div class=\"containerNode\" dojoAttachPoint=\"containerNode\">\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"vslider\" dojoAttachPoint=\"vsliderAP\">\r\n\t\t<div class=\"scrollUp\" dojoAttachPoint=\"scrollUpAP\"></div>\r\n\t\t<div class=\"vScrollBar\" dojoAttachPoint=\"vScrollBarAP\">\r\n\t\t\t<div class=\"vScroll\" dojoAttachPoint=\"vScrollAP\">\r\n\t\t\t\t<div class=\"vScrollTop\" dojoAttachPoint=\"vScrollTopAP\"></div>\r\n\t\t\t\t<div class=\"vScrollMid\" dojoAttachPoint=\"vScrollMidAP\"><span></span></div>\r\n\t\t\t\t<div class=\"vScrollBottom\" dojoAttachPoint=\"vScrollBottomAP\"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"scrollDown\" dojoAttachPoint=\"scrollDownAP\"></div>\r\n\t</div>\r\n\t<div class=\"hslider\" dojoAttachPoint=\"hsliderAP\">\r\n\t\t<div class=\"scrollLeft\" dojoAttachPoint=\"scrollLeftAP\"></div>\r\n\t\t<div class=\"hScrollBar\" dojoAttachPoint=\"hScrollBarAP\">\r\n\t\t\t<div class=\"hScroll\" dojoAttachPoint=\"hScrollAP\">\r\n\t\t\t\t<div class=\"hScrollBottom\" dojoAttachPoint=\"hScrollLeftAP\"></div>\r\n\t\t\t\t<div class=\"hScrollMid\" dojoAttachPoint=\"hScrollMidAP\"></div>\r\n\t\t\t\t<div class=\"hScrollTop\" dojoAttachPoint=\"hScrollRightAP\"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"scrollRight\" dojoAttachPoint=\"scrollRightAP\"></div>\r\n\t</div>\r\n</div>\r\n",_contentHeight:0,_visibleContentHeight:0,_scrollActive:false,_scrollHandleObj:null,_scrollHandleHeight:0,_scrollbarTop:0,_eventYPos:0,_scrollbuttonActive:false,_scrollbuttonDirection:0,_scrollbuttonSpeed:1,_scrollTimer:10,_scrollMoveToActive:false,_scrollMoveToYPosition:false,_tconnects:null,_connects:null,_visibleContentWidth:0,_contentWidth:0,_hscrollHandleObj:null,_scrollHandleWidth:0,_scrollbarLeft:0,_fontHeight:0,_fontSize:0,_stopPos:0,_lineHeight:0,_rowHeight:23,_endRow:0,_verticalScrollHandleHeight:16,_verticalScrollHandleMoving:0,_waitTimer:250,_isScrollPaneNeed:true,postCreate:function(){this._tconnects=[];this._connects=[];},startup:function(){if(this._started){return;}this._hideScrollpane();this._initScroll();this.inherited(arguments);},setScrollContentTopPosition:function(_c7d){this.parentContainerAP.scrollTop=_c7d;},_startScroll:function(e){this._scrollbarTop=this.vScrollAP.style.top.replace("px","");this._eventYPos=e.clientY;this._scrollActive=true;if(this._scrollHandleHeight>0){this._tconnects.push(dojo.connect(this.vScrollBarAP,"onmousemove",this,"_scroll"));}},_stopScroll:function(e){this._scrollActive=false;this._scrollbuttonActive=false;this._scrollMoveToActive=false;dojo.forEach(this._tconnects,dojo.disconnect);},_scroll:function(e){if(this._scrollHandleHeight<0){return;}if(!this._scrollActive){return;}if(e.button!=1&&document.all){return;}dojo.addClass(this.vScrollBarAP,"xwtScroll");var _c7e=this.vScrollAP.style.top.replace("px","");_c7e=((_c7e/1)+((this._eventYPos-e.clientY)*-1));this._eventYPos=e.clientY;if(_c7e<0){_c7e=0;}if((_c7e/1)>(this._visibleContentHeight-(this._verticalScrollHandleHeight+0)/1)){_c7e=this._visibleContentHeight-(this._verticalScrollHandleHeight+0);}this.vScrollAP.style.top=_c7e+"px";this.setScrollContentTopPosition(Math.floor((this._contentHeight)*((_c7e)/(this._visibleContentHeight-this._verticalScrollHandleHeight))));},_scrollMoveToInit:function(e){if(this._scrollHandleHeight<=-1){return;}this._scrollMoveToActive=true;this._scrollMoveToYPosition=e.pageY;if(this.vScrollBarAP.offsetTop===10||(this.vScrollBarAP.offsetTop-this.parentContainerAP.offsetTop)===10){this._scrollMoveToYPosition=e.layerY;}if((this.vScrollAP.offsetTop/1)>this._scrollMoveToYPosition){this._scrollbuttonDirection=this._scrollbuttonSpeed*-1;}else{this._scrollbuttonDirection=this._scrollbuttonSpeed*1;}this._scrollbuttonDirection=this._scrollbuttonDirection*(this.vsliderAP.offsetHeight>0?this.vsliderAP.offsetHeight-this._rowHeight:1);this._scrollMoveToYPosition=this._scrollMoveToYPosition-this.vScrollBarAP.offsetTop;this._scrollMoveTo();},_scrollMoveTo:function(){if(!this._scrollMoveToActive||this._scrollActive){return;}var _c7f=this.vScrollAP.style.top.replace("px","");if(!this.parentContainerAP.scrollTop){this.parentContainerAP.scrollTop=0;}if(this.parentContainerAP.scrollTop+this._scrollbuttonDirection>0){_c7f=Math.floor((this.parentContainerAP.scrollTop+this._scrollbuttonDirection)/this._verticalScrollHandleMoving);}var _c80=this.parentContainerAP.scrollTop;if(!this._scrollMoveToActive){return;}_c7f=_c7f/1;if(_c7f<0){_c7f=0;this._scrollMoveToActive=false;}if((_c7f/1)>(this._visibleContentHeight-((this._verticalScrollHandleHeight+0)/1))){_c7f=this._visibleContentHeight-(this._verticalScrollHandleHeight+0);this._scrollMoveToActive=false;}if(_c7f>0&&(_c80+this._scrollbuttonDirection)<=0){_c7f=0;}this.vScrollAP.style.top=_c7f+"px";this.setScrollContentTopPosition(_c80+this._scrollbuttonDirection);},_scrollButton:function(e){this._waitTimer=260;if(this._scrollHandleHeight<=0){return;}this._stopPos=this.vScrollAP.style.top.replace("px","");this._stopPos=this._stopPos+this._fontHeight;this._scrollbuttonSpeed=1;if(e.target==this.scrollUpAP){this._scrollbuttonDirection=this._scrollbuttonSpeed*-1;}else{this._scrollbuttonDirection=this._scrollbuttonSpeed;}this._scrollbuttonDirection=this._scrollbuttonDirection*this._rowHeight;this._scrollbuttonActive=true;this._scrollButtonScroll();},_scrollButtonScroll:function(){this._waitTimer=this._waitTimer-20;if(this._waitTimer<=0){this._waitTimer=20;}if(!this._scrollbuttonActive){return;}var _c81=this.vScrollAP.style.top.replace("px","");if(this.parentContainerAP.scrollTop+this._scrollbuttonDirection>0){_c81=Math.floor((this.parentContainerAP.scrollTop+this._scrollbuttonDirection)/this._verticalScrollHandleMoving);}else{if(this.parentContainerAP.scrollTop<=0){_c81=0;}else{_c81=0;}}if(!this._scrollbuttonActive){return;}_c81=_c81/1;if(_c81<0){_c81=0;this._scrollbuttonActive=false;}if((_c81/1)>(this._visibleContentHeight-(this._scrollHandleHeight+0)/1)){_c81=this._visibleContentHeight-(this._scrollHandleHeight+0);this._scrollbuttonActive=false;}this.vScrollAP.style.top=(_c81)+"px";this.setScrollContentTopPosition(this.parentContainerAP.scrollTop+this._scrollbuttonDirection);setTimeout(dojo.hitch(this,"_scrollButtonScroll"),this._waitTimer);},_wheel:function(_c82){if(!_c82){_c82=window.event;}var _c83=0;if(_c82.wheelDelta){_c83=_c82.wheelDelta;}else{if(_c82.detail){_c83=_c82.detail;}}if(_c83!==0){this._scrollbuttonSpeed=1;if(dojo.isIE){if(_c83<0){this._scrollbuttonDirection=1;}else{this._scrollbuttonDirection=-1;}}else{if(_c83<0){this._scrollbuttonDirection=-1;}else{this._scrollbuttonDirection=1;}}this._scrollbuttonDirection=this._scrollbuttonDirection*this._rowHeight;this._scrollbuttonActive=true;this._scrollButtonScrollMouseWheel();dojo.stopEvent(_c82);}},_scrollButtonScrollMouseWheel:function(){if(this._scrollHandleHeight<=0){return;}if(!this._scrollbuttonActive){return;}var _c84=this.vScrollAP.style.top.replace("px","");if(this.parentContainerAP.scrollTop+this._scrollbuttonDirection>0){_c84=Math.floor((this.parentContainerAP.scrollTop+this._scrollbuttonDirection)/this._verticalScrollHandleMoving);}if(!this._scrollbuttonActive){return;}_c84=_c84/1;if(_c84<0){_c84=0;this._scrollbuttonActive=false;}if((_c84/1)>(this._visibleContentHeight-(this._scrollHandleHeight+0)/1)){_c84=this._visibleContentHeight-(this._scrollHandleHeight+0);this._scrollbuttonActive=false;}if(_c84>0&&(this.parentContainerAP.scrollTop+this._scrollbuttonDirection)<=0){_c84=0;}this.vScrollAP.style.top=(_c84)+"px";this.setScrollContentTopPosition(this.parentContainerAP.scrollTop+this._scrollbuttonDirection);},_scrollButtonStop:function(){this._scrollbuttonActive=false;},_scrollHButton:function(e){if(this._scrollHandleWidth<=0){return;}this._stopPos=this.hScrollAP.style.left.replace("px","");this._stopPos=this._stopPos+this._fontSize;if(e.target==this.scrollLeftAP){this._scrollbuttonDirection=this._scrollbuttonSpeed*-1;}else{this._scrollbuttonDirection=this._scrollbuttonSpeed;}this._scrollbuttonActive=true;this._scrollHButtonScroll();},_scrollHButtonScroll:function(){if(!this._scrollbuttonActive){return;}var _c85=this.hScrollAP.style.left.replace("px","");if(!this._scrollbuttonActive){return;}_c85=_c85/1+(this._scrollbuttonDirection*this._fontSize);if(_c85<0){_c85=0;this._scrollbuttonActive=false;}if((_c85/1)>(this._visibleContentWidth-(this._scrollHandleWidth+0)/1)){_c85=this._visibleContentWidth-(this._scrollHandleWidth+0);this._scrollbuttonActive=false;}this.hScrollAP.style.left=(_c85)+"px";this.parentContainerAP.scrollLeft=Math.floor((this._contentWidth)*((_c85)/(this._visibleContentWidth-this._scrollHandleWidth)));setTimeout(dojo.hitch(this,"_scrollHButtonScroll"),this._scrollTimer);},_scrollHButtonStop:function(){this._scrollbuttonActive=false;},_scrollHButtonScrollMoveToResizePos:function(){if(this._scrollHandleWidth<=0){return;}var _c86=this.hScrollAP.style.left.replace("px","");_c86=_c86/1;if(_c86<0){_c86=0;this._scrollbuttonActive=false;}if((_c86/1)>(this._visibleContentWidth-(this._scrollHandleWidth+0)/1)){_c86=this._visibleContentWidth-(this._scrollHandleWidth+0);this._scrollbuttonActive=false;}this.hScrollAP.style.left=(_c86)+"px";this.parentContainerAP.scrollLeft=Math.floor((this._contentWidth)*((_c86)/(this._visibleContentWidth-this._scrollHandleWidth)));},_hscrollMoveToInit:function(e){if(this._scrollHandleWidth<=0){return;}this._scrollMoveToActive=true;this._scrollMoveToYPosition=e.layerX-this.parentContainerAP.offsetLeft;if(dojo.isIE&&this.parentContainerAP.offsetLeft+10==(e.pageX-e.layerX)){this._scrollMoveToYPosition=e.pageX;}else{if(!dojo.isIE&&e.pageX==e.layerX){this._scrollMoveToYPosition=e.pageX;}}if((this.hScrollAP.offsetLeft/1)>this._scrollMoveToYPosition){this._scrollbuttonDirection=this._scrollbuttonSpeed*-1;}else{this._scrollbuttonDirection=this._scrollbuttonSpeed*1;}this._scrollMoveToYPosition=this._scrollMoveToYPosition-this.hScrollBarAP.offsetLeft;this._hscrollMoveTo();},_hscrollMoveTo:function(){if(!this._scrollMoveToActive||this._scrollActive){return;}var _c87=this.hScrollAP.style.left.replace("px","");var _c88=this.parentContainerAP.scrollLeft;var dir=this._scrollbuttonDirection;var _c89=(this.parentContainerAP.scrollLeft/1)+(this._scrollbuttonDirection*this._visibleContentWidth);_c87=Math.floor((_c89*(this._visibleContentWidth-this._scrollHandleWidth))/this._contentWidth);if(!this._scrollMoveToActive){return;}if(_c87<0){_c87=0;this._scrollMoveToActive=false;}if((_c87/1)>(this._visibleContentWidth-((this._scrollHandleWidth+0)/1))){_c87=this._visibleContentWidth-(this._scrollHandleWidth+0);this._scrollMoveToActive=false;}this.hScrollAP.style.left=_c87+"px";this.parentContainerAP.scrollLeft=Math.floor((this._contentWidth)*((_c87)/(this._visibleContentWidth-this._scrollHandleWidth)));},_starthScroll:function(e){if(this._scrollHandleWidth<=0){return;}this._scrollbarTop=this.vScrollAP.style.left.replace("px","");this._eventYPos=e.clientX;this._scrollActive=true;this._tconnects.push(dojo.connect(dojo.doc,"onmousemove",this,"_hscroll"));},_stophScroll:function(e){this._scrollActive=false;this._scrollbuttonActive=false;this._scrollMoveToActive=false;dojo.forEach(this._tconnects,dojo.disconnect);},_hscroll:function(e){if(this._scrollHandleWidth<=0){return;}if(!this._scrollActive){return;}if(e.button!=1&&document.all){return;}var _c8a=this.hScrollAP.style.left.replace("px","");_c8a=((_c8a/1)+((this._eventYPos-e.clientX)*-1));this._eventYPos=e.clientX;if(_c8a<0){_c8a=0;}if((_c8a/1)>(this._visibleContentWidth-(this._scrollHandleWidth+0)/1)){_c8a=this._visibleContentWidth-(this._scrollHandleWidth+0);}this.hScrollAP.style.left=_c8a+"px";this.parentContainerAP.scrollLeft=Math.floor((this._contentWidth)*((_c8a)/(this._visibleContentWidth-this._scrollHandleWidth)));},_assignHorizontal:function(){this._visibleContentWidth=this.hScrollBarAP.offsetWidth;this._contentWidth=(this.parentContainerAP.scrollWidth-10)-this._visibleContentWidth;this._hscrollHandleObj=this.hScrollAP;this._scrollHandleWidth=this.hScrollAP.offsetWidth;this._scrollbarLeft=this.hScrollBarAP.offsetLeft;this._fontSize=dojo.style(this.containerNode,"fontSize").replace("px","");console.log("this._fontSize : "+this._fontSize);if(isNaN(this._fontSize)){this._fontSize=12;}var _c8b=Math.floor(((this.parentContainerAP.scrollWidth-0)/1)/(this._fontSize/1));var _c8c=Math.floor(this._visibleContentWidth/this._fontSize);var _c8d=(_c8b-_c8c);var _c8e=0;if(isNaN(_c8d)){_c8d=0;}if(_c8d<=1){this._fontSize=this.hScrollBarAP.offsetWidth;_c8e=0;}else{this._fontSize=this.hScrollBarAP.offsetWidth/_c8b;_c8e=this._visibleContentWidth-(this._fontSize*_c8d);}if(_c8e===0){this._scrollHandleWidth=0;dojo.style(this.hsliderAP,"visibility","hidden");}else{dojo.style(this.hsliderAP,"visibility","visible");this._fontSize=Math.floor(this._fontSize);dojo.style(this.hScrollMidAP,"width",(_c8e-6)+"px");dojo.style(this.hScrollAP,"width",_c8e+"px");this._scrollHandleWidth=this.hScrollAP.offsetWidth;}},_assignVetical:function(){var _c8f=this.domNode.offsetHeight;this.parentContainerAP.style.height=_c8f-10+"px";this.vsliderAP.style.height=_c8f-10+"px";this.vScrollBarAP.style.height=(_c8f-(20+10)>0?_c8f-(20+10):0)+"px";this._visibleContentHeight=this.vScrollBarAP.offsetHeight;this._contentHeight=(this.parentContainerAP.scrollHeight-20)-this._visibleContentHeight;this._scrollHandleObj=this.vScrollAP;this._scrollHandleHeight=this.vScrollAP.offsetHeight;this._scrollbarTop=this.vScrollBarAP.offsetTop;this._lineHeight=this._rowHeight;if(this._lineHeight===0){this._lineHeight=15;}var _c90=Math.floor(((this.parentContainerAP.scrollHeight-20)/1)/(this._lineHeight/1));var _c91=Math.floor(this._visibleContentHeight/this._lineHeight);var diff=(_c90-_c91);var _c92=0;if(isNaN(diff)){diff=0;}if(diff<1){this._fontHeight=this.vScrollBarAP.offsetHeight;_c92=0;}else{this._fontHeight=this.vScrollBarAP.offsetHeight/_c90;_c92=this._visibleContentHeight-(this._fontHeight*diff);}if(_c92===0){dojo.style(this.vsliderAP,"visibility","hidden");this._scrollHandleHeight=0;}else{dojo.style(this.vsliderAP,"visibility","visible");dojo.style(this.vScrollMidAP,"height",(_c92-6)+"px");dojo.style(this.vScrollAP,"height",_c92+"px");this._scrollHandleHeight=this.vScrollAP.offsetHeight;this._verticalScrollHandleHeight=this.vScrollAP.offsetHeight>16?this.vScrollAP.offsetHeight:16;this._verticalScrollHandleMoving=this._contentHeight/(this.vScrollBarAP.offsetHeight-this._verticalScrollHandleHeight);}},assignValue:function(){var _c93=this.domNode.offsetWidth;var _c94=this.domNode.offsetHeight;if(_c93===0||_c94===0){dojo.style(this.parentContainerAP,"height","");dojo.style(this.parentContainerAP,"width","");dojo.style(this.vsliderAP,"visibility","hidden");this._scrollHandleHeight=0;this._scrollHandleWidth=0;dojo.style(this.hsliderAP,"visibility","hidden");return;}this.parentContainerAP.style.width=((_c93-(10+0))>0?(_c93-(10+0)):0)+"px";this.hScrollBarAP.style.width=(_c93-20>0?_c93-20:0)+"px";this.parentContainerAP.style.height=(_c94-10>0?_c94-10:0)+"px";this.vsliderAP.style.height=(_c94-10>0?_c94-10:0)+"px";this.vScrollBarAP.style.height=(_c94-(20+10)>0?_c94-(20+10):0)+"px";this._visibleContentHeight=this.vScrollBarAP.offsetHeight;this._contentHeight=(this.parentContainerAP.scrollHeight>20?this.parentContainerAP.scrollHeight-20:0)-this._visibleContentHeight;this._scrollHandleObj=this.vScrollAP;this._scrollHandleHeight=this.vScrollAP.offsetHeight;this._scrollbarTop=this.vScrollBarAP.offsetTop;this._visibleContentWidth=this.hScrollBarAP.offsetWidth;var _c95=this.parentContainerAP.scrollWidth-0;this._contentWidth=(this.parentContainerAP.scrollWidth-10)-this._visibleContentWidth;this._hscrollHandleObj=this.hScrollAP;this._scrollHandleWidth=this.hScrollAP.offsetWidth;this._scrollbarLeft=this.hScrollBarAP.offsetLeft;this._lineHeight=this._rowHeight;if(this._lineHeight===0){this._lineHeight=15;}var _c96=Math.floor(((this.parentContainerAP.scrollHeight-20)/1)/(this._lineHeight/1));var _c97=Math.floor(this._visibleContentHeight/this._lineHeight);var diff=(_c96-_c97);var _c98=0;if(isNaN(diff)){diff=0;}if(diff<1){this._fontHeight=this.vScrollBarAP.offsetHeight;_c98=0;}else{this._fontHeight=this.vScrollBarAP.offsetHeight/_c96;_c98=this._visibleContentHeight-(this._fontHeight*diff);}if(_c98===0){dojo.style(this.vsliderAP,"visibility","hidden");this._scrollHandleHeight=0;this._assignHorizontal();}else{dojo.style(this.vsliderAP,"visibility","visible");dojo.style(this.vScrollMidAP,"height",""+(_c98-6)+"px");dojo.style(this.vScrollAP,"height",_c98+"px");this._scrollHandleHeight=this.vScrollAP.offsetHeight;this._verticalScrollHandleHeight=this.vScrollAP.offsetHeight>16?this.vScrollAP.offsetHeight:16;this._verticalScrollHandleMoving=this._contentHeight/(this.vScrollBarAP.offsetHeight-this._verticalScrollHandleHeight);}this._fontSize=dojo.style(this.containerNode,"fontSize").replace("px","");console.log("this._fontSize : "+this._fontSize);if(isNaN(this._fontSize)){this._fontSize=12;}var _c99=Math.floor(((this.parentContainerAP.scrollWidth-10)/1)/(this._fontSize/1));var _c9a=Math.floor(this._visibleContentWidth/this._fontSize);var _c9b=(_c99-_c9a);if(isNaN(_c9b)){_c9b=0;}var _c95=0;if(_c9b<=1){this._fontSize=this.hScrollBarAP.offsetWidth;_c95=0;}else{this._fontSize=this.hScrollBarAP.offsetWidth/_c99;_c95=this._visibleContentWidth-(this._fontSize*_c9b);}if(_c95===0){this._scrollHandleWidth=0;dojo.style(this.hsliderAP,"visibility","hidden");this._assignVetical();}else{dojo.style(this.hsliderAP,"visibility","visible");this._fontSize=Math.floor(this._fontSize);dojo.style(this.hScrollMidAP,"width",(_c95-6)+"px");dojo.style(this.hScrollAP,"width",_c95+"px");this._scrollHandleWidth=this.hScrollAP.offsetWidth;}},_hideScrollpane:function(){dojo.style(this.hsliderAP,"visibility","hidden");dojo.style(this.vsliderAP,"visibility","hidden");},_initScroll:function(){if(this._isScrollPaneNeed){this.assignValue();this._connects.push(dojo.connect(window,"onresize",dojo.hitch(this,"setScrollPosition")));this._connects.push(dojo.connect(this.containerNode,(!dojo.isMozilla?"onmousewheel":"DOMMouseScroll"),dojo.hitch(this,"_wheel")));this._connects.push(dojo.connect(this.vsliderAP,(!dojo.isMozilla?"onmousewheel":"DOMMouseScroll"),dojo.hitch(this,"_wheel")));this._connects.push(dojo.connect(this.vScrollAP,"onmousedown",dojo.hitch(this,"_startScroll")));this._connects.push(dojo.connect(this.vScrollAP,"onmouseup",dojo.hitch(this,"_stopScroll")));if(document.all){this._connects.push(dojo.connect(dojo.body(),"onmouseup",dojo.hitch(this,"_stopScroll")));}else{this._connects.push(dojo.connect(dojo.doc,"onmouseup",dojo.hitch(this,"_stopScroll")));}this._connects.push(dojo.connect(this.scrollDownAP,"onmousedown",dojo.hitch(this,"_scrollButton")));this._connects.push(dojo.connect(this.scrollUpAP,"onmousedown",dojo.hitch(this,"_scrollButton")));this._connects.push(dojo.connect(this.scrollDownAP,"onmouseup",dojo.hitch(this,"_scrollButtonStop")));this._connects.push(dojo.connect(this.scrollUpAP,"onmouseup",dojo.hitch(this,"_scrollButtonStop")));this._connects.push(dojo.connect(this.vScrollBarAP,"onmousedown",dojo.hitch(this,"_scrollMoveToInit")));this._connects.push(dojo.connect(this.hScrollAP,"onmousedown",dojo.hitch(this,"_starthScroll")));this._connects.push(dojo.connect(this.hScrollAP,"onmouseup",dojo.hitch(this,"_stophScroll")));this._connects.push(dojo.connect(this.scrollLeftAP,"onmousedown",dojo.hitch(this,"_scrollHButton")));this._connects.push(dojo.connect(this.scrollRightAP,"onmousedown",dojo.hitch(this,"_scrollHButton")));this._connects.push(dojo.connect(this.scrollLeftAP,"onmouseup",dojo.hitch(this,"_scrollHButtonStop")));this._connects.push(dojo.connect(this.scrollRightAP,"onmouseup",dojo.hitch(this,"_scrollHButtonStop")));this._connects.push(dojo.connect(this.hScrollBarAP,"onmousedown",dojo.hitch(this,"_hscrollMoveToInit")));}},_destroyAction:function(){dojo.forEach(this._connects,dojo.disconnect);},_contentClicked:function(e){setTimeout(dojo.hitch(this,"_contentOnClicked"),500);},_contentOnClicked:function(){this.resizeScroll();},connectClickEvent:function(){dojo.connect(this.containerNode,"onmouseup",dojo.hitch(this,"_contentClicked"));},setScrollPosition:function(e){this.resizeScroll();},resizeScroll:function(){if(this._isScrollPaneNeed){this.assignValue();this._scrollHButtonScrollMoveToResizePos();}},resize:function(_c9c,_c9d){if(_c9c){dojo.marginBox(this.domNode,_c9c);}else{if(_c9d){}else{}}this.resizeScroll();},disableScrollPane:function(){this._isScrollPaneNeed=false;this._destroyAction();},enablecrollPane:function(){this._isScrollPaneNeed=true;this._initScroll();},setRowHeight:function(_c9e){this._rowHeight=_c9e;},getRowHeight:function(){return this._rowHeight;},setColor:function(_c9f){},setContentWidth:function(_ca0){this.containerNode.style.width=_ca0+"px";},getContentWidth:function(){return this.containerNode.style.width;},setWidth:function(_ca1){this.domNode.style.width=_ca1+"px";this.parentContainerAP.style.width=(_ca1-(10+2))+"px";this.hScrollBarAP.style.width=_ca1-20+"px";dojo.style(this.domNode,"width","");},getWidth:function(){console.log(this.domNode.style.width+" :: width :: "+dojo.style(this.domNode,"width"));if(this.domNode.style.width){return this.domNode.style.width;}else{return dojo.style(this.domNode,"width")+"px";}},setHeight:function(_ca2){this.domNode.style.height=_ca2+"px";this.parentContainerAP.style.height=_ca2-10+"px";this.vsliderAP.style.height=_ca2-10+"px";this.vScrollBarAP.style.height=_ca2-(20+10)+"px";dojo.style(this.domNode,"height","");},getHeight:function(){if(this.domNode.style.height){return this.domNode.style.height;}else{return dojo.style(this.domNode,"height")+"px";}},setSliderBgColor:function(_ca3){this.vScrollBarAP.style.backgroundColor=_ca3;this.scrollUpAP.style.backgroundColor=_ca3;this.scrollDownAP.style.backgroundColor=_ca3;this.hScrollBarAP.style.backgroundColor=_ca3;this.scrollLeftAP.style.backgroundColor=_ca3;this.scrollRightAP.style.backgroundColor=_ca3;},setContentBgColor:function(_ca4){this.parentContainerAP.style.backgroundColor=_ca4;},setScrollButtonSpeed:function(_ca5){this._scrollbuttonSpeed=_ca5;},setScrollTimer:function(_ca6){this._scrollTimer=_ca6;}});}if(!dojo._hasResource["xwt.widget.anchoredoverlay._Overlay"]){dojo._hasResource["xwt.widget.anchoredoverlay._Overlay"]=true;dojo.provide("xwt.widget.anchoredoverlay._Overlay");dojo.declare("xwt.widget.anchoredoverlay._Overlay",[xwt.widget.TooltipDialog,xwt.widget._ZIndexMixin],{templateString:"<div waiRole=\"presentation\">\r\n\t\r\n\t\r\n\t<!--   Commented out to REMOVE overflow: hidden\r\n\t\r\n\t\t<div class=\"dijitTooltipContainer tokenFieldContentPanel\" dojoAttachPoint=\"tokenContentPanel\" waiRole=\"presentation\" style=\"overflow:hidden\">\r\n\t\r\n\t-->\t\t\r\n\t\t\t\r\n\t\t<div class=\"dijitTooltipContainer tokenFieldContentPanel\" dojoAttachPoint=\"tokenContentPanel\" waiRole=\"presentation\">\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t<!--<div dojoAttachPoint=\"scrollNode\" dojoType='xwt.widget.layout.En_ScrollPane'>\r\n\t\t\t\t<div class =\"dijitTooltipContents dijitTooltipFocusNode\" dojoAttachPoint=\"containerNode\" tabindex=\"-1\" waiRole=\"dialog\"></div>\r\n\t\t\t</div> -->\r\n\t\t\t<div class =\"dijitTooltipContents dijitTooltipFocusNode\" dojoAttachPoint=\"containerNode\" tabindex=\"-1\" waiRole=\"dialog\"></div>\r\n\t\t</div>\r\n\t\t<!--\r\n\t\t<div class=\"_dijitTooltipConnector_\" dojoAttachPoint=\"connector\" waiRole=\"presentation\">\r\n\t\t\t<div class=\"d1\" dojoAttachPoint=\"left\"></div>\r\n\t\t\t<div class=\"d2\" dojoAttachPoint=\"right\"></div>\t\t\r\n\t\t</div>\r\n\t\t\r\n\t\t-->\r\n</div>\r\n",baseClass:"xwtOverlay dijitTooltipDialog",widgetsInTemplate:true,parentId:null,startup:function(){this.inherited(arguments);this._setIndex();},postCreate:function(){this.inherited(arguments);},_isLeft:function(){if(this._currentOrientClass.search("dijitTooltipABLeft")!=-1){return true;}return false;},_isBelow:function(){if(this._currentOrientClass.search("dijitTooltipBelow")!=-1){return true;}return false;},orient:function(node,_ca7,_ca8){var c=this._currentOrientClass;if(c){dojo.removeClass(this.domNode,c);}c="dijitTooltipAB"+(_ca8.charAt(1)=="L"?"Left":"Right")+" dijitTooltip"+(_ca8.charAt(0)=="T"?"Below_":"Above_");dojo.addClass(this.domNode,c);this._currentOrientClass=c;},getLabel:function(){},getParentId:function(){return this.parentId;}});}if(!dojo._hasResource["xwt.widget.anchoredoverlay.AnchoredOverlay"]){dojo._hasResource["xwt.widget.anchoredoverlay.AnchoredOverlay"]=true;dojo.provide("xwt.widget.anchoredoverlay.AnchoredOverlay");dojo.declare("xwt.widget.anchoredoverlay.AnchoredOverlay",dijit.form.DropDownButton,{templateString:null,templateString:"<span class=\"dijit dijitReset dijitLeft dijitInline \"\r\n\t\r\n\t><span class='dijitReset dijitRight dijitInline'\r\n\t\t><span dojoAttachEvent=\"onmouseenter:onMouseEnter,onmouseleave:onMouseLeave\" class='dijitReset dijitInline dijitButtonNode tokenField' dojoAttachPoint=\"tokenFieldNode\"\r\n\t\t\t><button class=\"dijitReset dijitStretch dijitButtonContents tokenFieldDropDown\" \r\n\t\t\t\t${nameAttrSetting} type=\"${type}\" value=\"${value}\"\r\n\t\t\t\tdojoAttachPoint=\"focusNode,titleNode\" \r\n\t\t\t\twaiRole=\"button\" waiState=\"haspopup-true,labelledby-${id}_label\"\r\n\t\t\t\t><span class=\"dijitReset dijitInline\" \r\n\t\t\t\t\tdojoAttachPoint=\"iconNode\"\r\n\t\t\t\t></span\r\n\t\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"  \r\n\t\t\t\t\tdojoAttachPoint=\"containerNode,popupStateNode\" \r\n\t\t\t\t\tid=${id}\"_label\"\r\n\t\t\t\t></span\r\n\t\t\t\t></button>\r\n\t\t<span id=\"${id}_hoverIcon\" class=\"tokenfieldHovering\" dojoAttachPoint=\"hoverIcon\" dojoAttachEvent=\"onmouseenter:_hoverOnQVArrow, onmouseleave:_hoverOffQVArrow, onclick: _onClickQV\">&thinsp;</span>\t\t\t\t\r\n\t\t<span class=\"dijitReset dijitInline dijitArrowButtonInner tokenFieldExpand\" dojoAttachEvent=\"onmouseenter: _discloseHover,onkeydown:_onKeyPress,onkeypress:_onKey\" dojoAttachPoint=\"tokenIcon\">&thinsp;</span>\r\n\t\t<span class=\"dijitReset dijitInline dijitArrowButtonChar\" dojoAttachEvent=\"onmouseenter: _discloseHover,onkeydown:_onKeyPress,onkeypress:_onKey\" dojoAttachPoint=\"a11ytokenIcon\">&#9660;</span>\t\t\t\t\r\n\t\t</span\r\n\t></span\r\n></span>\r\n",content:"",animationDuration:250,contentUrl:"",labelValue:"",quickviewPanel:null,autoWidth:false,timer:"",fixedWidth:null,contentPanelMinHeight:null,initDropDownMinWidth:0,qvOpened:false,baseClass:"xwtAnchoredOverlay dijitButton",startup:function(){if(!this._started){if(!this.dropDown){this.dropDown=this._createDropDown();}if(this.labelValue===""){this.labelValue=this.attr("label");var _ca9=this._trimLabel(this.labelValue);this.attr("label",_ca9);}this.inherited(arguments);}if(dojo.isIE<8){this.ie7Hack_buttonLabelInterval=setInterval(dojo.hitch(this,function(){if(this.domNode){this.domNode.className=this.domNode.className;}}),100);}},postCreate:function(){this.inherited(arguments);if(this.fixedWidth){if(this.fixedWidth<64){this.fixedWidth=100;}else{if(this.fixedWidth>464){this.fixedWidth=500;}}}this._hookEventHandlers();this._connectToShowTooltip();this.tapeNode=dojo.create("div",{style:{"position":"absolute","zIndex":"-1000","top":"-1000px"}});var _caa=dojo.body();_caa.appendChild(this.tapeNode);this._subscribeHandle=dojo.subscribe(this.ANCHOREDOVERLAY_TOPIC,this,"handleAnotherAOopen");},ANCHOREDOVERLAY_TOPIC:"xwt/widget/anchoredoverlay/dropdownopen",forecCloseDropdown:false,handleAnotherAOopen:function(ao){if(ao&&ao.id!=this.id&&this._opened){if(this.checkWhetherToCloseDropdown(ao)&&(!this.isAnchoredOverlayNested(ao))){this.forecCloseDropdown=true;this.closeDropDown(true);this.forecCloseDropdown=false;}}return;},checkWhetherToCloseDropdown:function(ao){return true;},isAnchoredOverlayNested:function(ao){var _cab=false;if(!this.dropDown){return false;}if(!this.dropDown.domNode){return false;}var _cac=ao.domNode;while((!_cab)&&(_cac!=dojo.body())){_cab=(_cac==this.dropDown.domNode)?true:false;_cac=_cac.parentNode;}return _cab;},destroy:function(){if(this._subscribeHandle){dojo.unsubscribe(this._subscribeHandle);}if(this.onMouseOverShowTokenFieldTooltipConnect){dojo.disconnect(this.onMouseOverShowTokenFieldTooltipConnect);}if(this.expandCollapseConnection){dojo.disconnect(this.expandCollapseConnection);}if(this.onBlurEventConnection){dojo.disconnect(this.onBlurEventConnection);}if(this.expandCollapseConnection2){dojo.disconnect(this.expandCollapseConnection2);}if(this.onBlurEventConnection2){dojo.disconnect(this.onBlurEventConnection2);}var _cad=this.getContent();if(dojo.isArray(_cad)){dojo.forEach(_cad,function(_cae){if(_cae.destroy){_cae.destroy();}});}else{if(dojo.isFunction(_cad.destroy)){console.log("AnchoredOverlay destroy content ",_cad);_cad.destroy();}}if(this.dropDown){this.dropDown.destroy();delete this.dropDown;}if(this._rsHandler){dojo.disconnect(this._rsHandler);delete this._rsHandler;}dojo.destroy(this.tapeNode);this._closeQuickView();if(this.ie7Hack_buttonLabelInterval){clearInterval(this.buttonLabelInterval);}if(this._qvClose_HideAnchor){dojo.disconnect(this._qvClose_HideAnchor);}if(this._qvHide_HideAnchor){dojo.disconnect(this._qvHide_HideAnchor);}this.inherited(arguments);},_connectToShowTooltip:function(){this.onMouseOverShowTokenFieldTooltipConnect=dojo.connect(this.titleNode,"onmouseover",this,"_showTokenFieldTooltip");},_showTokenFieldTooltip:function(){if(this._isEllipsesOccured){this.titleNode.title=this.labelValue;dojo.style(this.titleNode,{"cursor":"pointer"});}},closeDropDown:function(_caf){if(xwtPopups.popupsSuspended(this.dropDown.domNode.parentNode.style.zIndex)&&(!this.forecCloseDropdown)){return;}if(this._opened){this.preClose();this.inherited(arguments);this._changeStyle();this.setLabel(this.dropDown.getLabel());this.postClose();if(this._rsHandler){dojo.disconnect(this._rsHandler);delete this._rsHandler;}}},_createDropDown:function(){var _cb0=new xwt.widget.anchoredoverlay._Overlay({content:this.content,parentId:this.id});if(this.content.length<1){if(this.contentUrl.length>0){_cb0.attr("href",this.contentUrl);}}_cb0.content.executeScripts=true;_cb0.content.parseOnLoad=true;if(this.content!==null){this.content.anchoredoverlay=this;}if(this.contentPanelMinHeight){dojo.style(_cb0.tokenContentPanel,"minHeight",this.contentPanelMinHeight+"px");}return _cb0;},setContentPanelMinHeight:function(_cb1){this.contentPanelMinHeight=_cb1;},_closeQuickView:function(){if(this.quickviewPanel){if(this.quickviewPanel._targetNode){dojo.style(this.quickviewPanel._targetNode,"visibility","hidden");}this.qvOpened=false;}},_styleForClosedDropDown:function(){dojo.removeClass(this.tokenIcon,"tokenFieldCollapse");dojo.addClass(this.tokenIcon,"tokenFieldExpand");dojo.removeClass(this.tokenFieldNode,"openBelow");dojo.removeClass(this.tokenFieldNode,"openAbove");dojo.removeClass(this.dropDown.tokenContentPanel,"vertical");dojo.style(this.dropDown.tokenContentPanel,{"height":"auto","width":"auto","max-height":"auto"});dojo.style(this.tapeNode,{"display":"none"});},_changeStyle:function(){if(this._opened!==true){this._styleForClosedDropDown();}else{var _cb2=dojo.position(this.dropDown.domNode).w;var _cb3=dojo.contentBox(this.tokenFieldNode);var _cb4=this._getScrollerSize();if(_cb2<_cb3.w){_cb2=_cb3.w+_cb4.v;}if(!this.dropDownWidth){this.dropDownWidth=_cb2;dojo.style(this.dropDown.tokenContentPanel,{"minWidth":_cb2+"px"});}if(this.dropDownWidth<_cb3.w){this.dropDownWidth=_cb3.w;dojo.style(this.dropDown.tokenContentPanel,{"minWidth":this.dropDownWidth+"px"});}if(dojo.style(this.dropDown.tokenContentPanel,"minWidth")<this.initDropDownMinWidth){dojo.style(this.dropDown.tokenContentPanel,{"minWidth":this.initDropDownMinWidth+"px"});}var bPos=dojo.position(this.tokenFieldNode,true);var _cb5=dojo._getBorderExtents(this.tokenFieldNode);var _cb6=bPos.w-_cb5.w;dojo.style(this.tapeNode,{"width":_cb6+"px"});var _cb7=dijit.getViewport();var _cb8=this.dropDown.tokenContentPanel.clientHeight;var _cb9;if(!this.dropDown._isBelow()){dojo.addClass(this.dropDown.tokenContentPanel,"vertical");var _cba=dojo.coords(this.domNode);var _cbb=(_cba.y-_cba.h)+2;if((_cbb-_cb8)<1){_cb9=_cbb;dojo.style(this.dropDown.tokenContentPanel,{"height":((_cb9>=0)?_cb9:0)+"px","max-height":_cb9+"px"});}var _cbc=dojo.style(this.dropDown.tokenContentPanel,"height");dojo.style(this.dropDown.tokenContentPanel,{"maxHeight":_cbc+"px","minHeight":_cbc+"px"});}else{var _cbd=dojo.position(this.domNode,true);if((_cbd.y+_cb8)>_cb7.h){_cb9=_cb7.h-_cbd.y;_cb9=_cb9-50;dojo.style(this.dropDown.tokenContentPanel,{"height":((_cb9>=0)?_cb9:0)+"px","max-height":_cb9+"px"});}else{_cb8=_cb8-10;dojo.style(this.dropDown.tokenContentPanel,{"height":((_cb8>=0)?_cb8:0)+"px","max-height":_cb8+"px"});}}dojo.removeClass(this.tokenIcon,"tokenFieldExpand");dojo.addClass(this.tokenIcon,"tokenFieldCollapse");var _cbe=dojo.position(this.tokenFieldNode,true);var _cbf=dojo._getBorderExtents(this.tokenFieldNode);var _cc0=_cbf.t;var zIn=this.dropDown.domNode.parentNode.style.zIndex;if(zIn){zIn=parseFloat(zIn);}else{zIn=9999;}if(!this.dropDown._isBelow()){dojo.addClass(this.tokenFieldNode,"openAbove");this._alignDropDown(true);}else{dojo.addClass(this.tokenFieldNode,"openBelow");this._alignDropDown(false);}this.tapeNode.parentNode.removeChild(this.tapeNode);dojo.body().appendChild(this.tapeNode);if(dojo.isWebKit){if(!this.dropDown._isBelow()){_cc0=_cc0+1;}}dojo.style(this.tapeNode,{"display":"inline","zIndex":zIn,"backgroundColor":dojo.style(this.tokenFieldNode,"backgroundColor"),"height":_cc0+"px","position":"absolute","border":"none","left":_cbe.x+_cbf.l+"px"});}},preOpen:function(){},postOpen:function(){},preClose:function(){},postClose:function(){},getContent:function(){var _cc1;if(this.attr("content")!=null){_cc1=this.attr("content");}else{_cc1=this.dropDown.attr("content");}return _cc1;},setContent:function(_cc2){this.dropDown.attr("content",_cc2);this.attr("content",_cc2);_cc2.anchoredOverlay=this;},setLabel:function(_cc3){if(_cc3){if(_cc3.length>0){if(_cc3!=this.attr("label")){this.labelValue=_cc3;var _cc4=this._trimLabel(_cc3);this.attr("label",_cc4);}}}},setValue:function(_cc5){this.setLabel(_cc5);this.value=_cc5;if(dojo.isFunction(this.onChange)){this.onChange(_cc5);}},getValue:function(){return this.getLabelValue();},setFixedWidth:function(_cc6){if(_cc6>0){if(_cc6>500){this.fixedWidth=500;}else{if(_cc6>=100&&_cc6<=500){this.fixedWidth=_cc6;}else{this.fixedWidth=100;}}}else{this.fixedWidth=100;}},getFixedWidth:function(){return this.fixedWidth;},_trimLabel:function(_cc7){var _cc8=function(str){var box=dojox.html.metrics.getTextBox(str,{"whiteSpace":"nowrap"});return box.w;};var _cc9=_cc7;var len=_cc8(_cc7);var _cca=null;if(this.getFixedWidth()){_cca=this.getFixedWidth()-56;}else{_cca=257;}if(len==0||len>_cca){var _ccb=function(str,_ccc){var tmp=str;var _ccd=str;if(_cc8(str)>_ccc){_ccd+="...";while(_cc8(_ccd)>_ccc){tmp=tmp.substring(0,tmp.length-1);_ccd=tmp+"...";}}return _ccd;};_cc9=_ccb(_cc7,_cca);this._isEllipsesOccured=true;dojo.style(this.containerNode,{"paddingRight":"0px"});}else{if(this.getFixedWidth()){var _cce=_cca-len;dojo.style(this.containerNode,{"paddingRight":_cce+"px"});}}return _cc9;},getDisplayValue:function(){return this.attr("label");},getLabelValue:function(){return this.labelValue;},getContentDom:function(){if(this.dropDown&&this.dropDown.domNode&&this.dropDown.domNode.childNodes.length>0){return this.dropDown.domNode.childNodes[0].childNodes[0];}return this.domNode;},preOpenQuickView:function(){},_openQVDelay:function(){if(this.quickviewPanel){this.preOpenQuickView();this._closeQuickView();this.quickviewPanel.openAtNode(this.hoverIcon);this.qvOpened=true;this._qvClose_HideAnchor=dojo.connect(this.quickviewPanel,"close",this,"_quickViewPanelClosed");this._qvHide_HideAnchor=dojo.connect(this.quickviewPanel,"hide",this,"_quickViewPanelClosed");}},_quickViewPanelClosed:function(){this.qvOpened=false;dojo.style(this.hoverIcon,"visibility","hidden");if(this._qvClose_HideAnchor){dojo.disconnect(this._qvClose_HideAnchor);}if(this._qvHide_HideAnchor){dojo.disconnect(this._qvHide_HideAnchor);}},_hoverOnQVArrow:function(){this.timer=setTimeout(dojo.hitch(this,"_openQVDelay"),750);},_hoverOffQVArrow:function(){if(this.timer!==""){clearTimeout(this.timer);delete this.timer;}},_onClickQV:function(){if(this.timer){clearTimeout(this.timer);delete this.timer;}this._openQVDelay();},onMouseLeave:function(){if(this.quickviewPanel){if(this.qvOpened==false||(this.hoverIcon.id&&this.quickviewPanel._targetNode&&this.hoverIcon.id!=this.quickviewPanel._targetNode.id)){dojo.style(this.hoverIcon,"visibility","hidden");}}},onMouseEnter:function(){if(this.quickviewPanel){if(this._opened!==true){dojo.style(this.hoverIcon,"visibility","visible");}}},_onBlur:function(){this.inherited(arguments);},openDropDown:function(){if(!this._opened){dojo.publish(this.ANCHOREDOVERLAY_TOPIC,[this]);if(this.timer!==""){clearTimeout(this.timer);}dojo.style(this.hoverIcon,{visibility:"hidden"});this.dropDown.startup();this.preOpen();dojo.style(this.dropDown.domNode,{"opacity":"0"});this.inherited("openDropDown",arguments);this._closeQuickView();this._changeStyle();this._fadeIn();this.postOpen();if(!this.dropDown._isBelow()){if(dojo.isIE){if(dojo.hasClass(dojo.body(),"reboot2")){var _ccf=dojo.position(this.dropDown.tokenContentPanel);var _cd0=_cd0-5;if(_cd0<0){_cd0=0;}dojo.style(this.dropDown.tokenContentPanel,"top",_cd0+"px");}}}this._rsHandler=dojo.connect(dojo.global,"onresize",this,"_resizeListener");dijit.scrollIntoView(this.dropDown.domNode);}},_fadeIn:function(){var _cd1={node:this.dropDown.domNode,duration:this.animationDuration};dojo.fadeIn(_cd1).play();},_setupDropdown:function(){this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;this._aroundNode=this._aroundNode||this.domNode;this.enableExpandCollapse();this.connect(this._buttonNode,"onkeydown","_onDropDownKeydown");this.connect(this._buttonNode,"onkeypress","_onKey");if(this._setStateClass){this.connect(this,"openDropDown","_setStateClass");this.connect(this,"closeDropDown","_setStateClass");}var _cd2={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";dojo.addClass(this._arrowWrapperNode||this._buttonNode,"dijit"+_cd2+"ArrowButton");},_discloseHover:function(){},_checkPermission:function(){},hideExpandCollapse:function(){dojo.style(this.tokenIcon,{visibility:"hidden"});},showExpandCollapse:function(){dojo.style(this.tokenIcon,{visibility:"visible"});},disableExpandCollapse:function(){dojo.disconnect(this.expandCollapseConnection);dojo.disconnect(this.expandCollapseConnection2);this.hideExpandCollapse();},enableExpandCollapse:function(){this.expandCollapseConnection=dojo.connect(this.tokenIcon,"onmousedown",this,"_onDropDownMouse");this.expandCollapseConnection2=dojo.connect(this.a11ytokenIcon,"onmousedown",this,"_onDropDownMouse");this.showExpandCollapse();},enableOnBlur:function(){this.onBlurEventConnection=dojo.connect(this.tokenIcon,"onblur",this,"_onDropDownBlur");this.onBlurEventConnection2=dojo.connect(this.a11ytokenIcon,"onblur",this,"_onDropDownBlur");},disableOnBlur:function(){if(this.onBlurEventConnection){dojo.disconnect(this.onBlurEventConnection);dojo.disconnect(this.onBlurEventConnection2);}},_hookEventHandlers:function(){this.enableOnBlur();},setDisabled:function(){this.attr("disabled",true);},setEnabled:function(){this.attr("disabled",false);},_getScrollerSize:function(){var d=dojo.create("div");dojo.style(d,{position:"absolute",opacity:0,overflow:"hidden",width:"100px",height:"100px",zIndex:"-10000",top:"-1000px",padding:"0px",margin:"0px"});var _cd3=dojo.create("div");dojo.style(_cd3,{width:"500px",height:"500px"});d.appendChild(_cd3);dojo.body().appendChild(d);var b=dojo.contentBox(d);dojo.style(d,"overflow","scroll");var a=dojo.contentBox(d);dojo.destroy(d);return {v:b.w-a.w,h:b.h-a.h};},_resizeListener:function(){},_alignDropDown:function(_cd4){var _cd5=dojo.position(this.tokenFieldNode,true);var _cd6=dojo.position(this.dropDown.domNode.parentNode,true);var _cd7=dojo._getBorderExtents(this.tokenFieldNode);var _cd8=_cd5.w-_cd7.w;var _cd9={t:0,l:0,w:0,h:0};if(dojo.hasClass(dojo.body(),"reboot2")){_cd9=dojo._getMarginExtents(this.domNode);}dojo.style(this.tapeNode,{"width":_cd8+"px","height":_cd7.t+"px"});if(dojo.hasClass(this.dropDown.domNode,"dijitTooltipABRight")){var _cda=Math.round(_cd5.x+_cd5.w);var _cdb=Math.round(_cd6.x+_cd6.w);var _cdc=_cd6.x;if(_cda!==_cdb){_cdc=_cd6.x-(_cdb-_cda);dojo.style(this.dropDown.domNode.parentNode,"left",_cdc+"px");}dojo.style(this.tapeNode,"left",((_cdc+_cd6.w)-(_cd8+_cd7.l))+"px");}else{if(dojo.hasClass(this.dropDown.domNode,"dijitTooltipABLeft")){dojo.style(this.dropDown.domNode.parentNode,"left",_cd5.x+"px");dojo.style(this.tapeNode,"left",(_cd5.x+_cd7.l)+"px");}}if(_cd4){var pTop=(_cd5.y-_cd6.h)+_cd7.l-Math.ceil(_cd9.h);dojo.style(this.dropDown.domNode.parentNode,"top",pTop+"px");_cd6=dojo.position(this.dropDown.domNode.parentNode,true);var _cdd=(_cd6.y+_cd6.h-_cd7.t)+Math.ceil(_cd9.h);if(dojo.isIE){_cdd=_cdd+1;}dojo.style(this.tapeNode,"top",_cdd+"px");}else{dojo.style(this.dropDown.domNode.parentNode,"top",(Math.floor(_cd5.y+_cd5.h)-_cd7.t)+"px");_cd6=dojo.position(this.dropDown.domNode.parentNode,true);dojo.style(this.tapeNode,"top",Math.floor(_cd6.y)+"px");}}});}if(!dojo._hasResource["xwt.widget.notification.ErrorMessage"]){dojo._hasResource["xwt.widget.notification.ErrorMessage"]=true;dojo.provide("xwt.widget.notification.ErrorMessage");dojo.declare("xwt.widget.notification.ErrorMessage",[dijit._Widget,dijit._Templated],{postMixInProperties:function(){this.inherited(arguments);var _cde=dojo.i18n.getLocalization("xwt","notification");this.showErrorDetailsMessage=_cde.showErrorDetails;this.errorCodeMessage=_cde.errorCode;},templateString:"<div class=\"xwtErrorMessage\"><div class=\"xwtErrorMessageWrapper\"><div class=\"xwtErrorMessageText\">${message}</div>"+"<div class=\"xwtErrorCode\" dojoAttachPoint=\"errorCodeNode\">${errorCodeMessage} ${code}.</div>"+"<a class=\"xwtErrorDetailsLink\" href=\"#\" dojoAttachPoint=\"detailsNode\" dojoAttachEvent=\"onclick: onDetails\">${showErrorDetailsMessage}<span>&gt;&gt;</span></a></div></div>",message:"",code:"",details:"",_dialog:null,dialogTitle:"",onDetails:function(){if(this._dialog===null||this._dialog===undefined){this._dialog=new xwt.widget.layout.Dialog({title:this.dialogTitle,fixGradient:function(){var _cdf=dojo.marginBox(this.middleContentArea);var _ce0=_cdf.h;if(_ce0>85){var _ce1=_ce0-85;dojo.style(this.middleLeft,{"height":_ce1+"px"});dojo.style(this.middleRight,{"height":_ce1+"px"});}}});dojo.connect(this._dialog.buttonGroup.getItemAt(0),"onClick",this._dialog,"hide");this._dialog.buttonGroup.removeChild(this._dialog.buttonGroup.getItemAt(1));}var div=dojo.create("div",{innerHTML:this.details});this._removeChildrenFromNode(this._dialog.containerNode);this._dialog.startup();this._dialog.setDialogContent(div);this._dialog.fixGradient();this._dialog.show();},postCreate:function(){this.inherited(arguments);if(!this.code){this.errorCodeNode.innerHTML="";}if(!this.details){this.detailsNode.innerHTML="";}},destroy:function(){if(this._dialog){delete this._dialog;}this.inherited(arguments);},_removeChildrenFromNode:function(node){var len=node.childNodes.length;while(node.hasChildNodes()){node.removeChild(node.firstChild);}}});}if(!dojo._hasResource["bssLayer.bssLayer"]){dojo._hasResource["bssLayer.bssLayer"]=true;dojo.provide("bssLayer.bssLayer");}dojo.i18n._preloadLocalizations("bssLayer.nls.bssLayer",["ROOT","en","en-us","xx"]);
